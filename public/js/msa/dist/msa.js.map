{"version":3,"sources":["webpack:///dist/msa.js","webpack:///webpack/bootstrap a089c5e9034f103c5a72","webpack:///./src/index_webpack.js","webpack:///./~/underscore/underscore.js","webpack:///./~/backbone-thin/index.js","webpack:///./~/backbone-viewj/index.js","webpack:///./src/menu/menubuilder.js","webpack:///./~/backbone-childs/index.js","webpack:///./~/dom-helper/index.js","webpack:///./~/jbone/dist/jbone.js","webpack:///./src/g/selection/Selection.js","webpack:///./src/g/selection/SelectionCol.js","webpack:///./src/utils/svg.js","webpack:///(webpack)/~/node-libs-browser/~/timers-browserify/main.js","webpack:///./src/utils/bmath.js","webpack:///./src/utils/export.js","webpack:///./src/utils/file.js","webpack:///./src/utils/loader.js","webpack:///./src/utils/proxy.js","webpack:///./~/biojs-events/index.js","webpack:///./~/biojs-io-fasta/lib/index.js","webpack:///./~/koala-js/index.js","webpack:///(webpack)/~/node-libs-browser/~/process/browser.js","webpack:///./~/xhr/index.js","webpack:///./src/g/colorscheme.js","webpack:///./src/g/columns.js","webpack:///./src/g/config.js","webpack:///./src/g/package.js","webpack:///./src/g/user.js","webpack:///./src/g/visOrdering.js","webpack:///./src/g/visibility.js","webpack:///./src/g/zoomer.js","webpack:///./src/model/Feature.js","webpack:///./src/model/FeatureCol.js","webpack:///./src/model/SeqCollection.js","webpack:///./src/model/Sequence.js","webpack:///./src/utils/index.js","webpack:///./src/utils/seqgen.js","webpack:///./src/utils/tree.js","webpack:///./~/backbone-thin/~/backbone-events-standalone/index.js","webpack:///./~/backbone-thin/~/backbone-extend-standalone/backbone-extend-standalone.js","webpack:///./~/biojs-io-gff/lib/index.js","webpack:///./~/msa-seqtools/lib/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/g/selection/index.js","webpack:///./src/model/index.js","webpack:///./~/backbone-thin/model.js","webpack:///./~/biojs-io-clustal/lib/index.js","webpack:///./~/biojs-io-gff/lib/utils.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/border.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/column_number.js","webpack:///./~/biojs-vis-seqlogo/src/render/draw/ticks.js","webpack:///./~/mouse-pos/index.js","webpack:///./~/stat.seqs/lib/index.js","webpack:///./src/index.js","webpack:///./src/menu/defaultmenu.js","webpack:///./src/menu/index.js","webpack:///./src/menu/settings.js","webpack:///./src/menu/views/ColorMenu.js","webpack:///./src/menu/views/DebugMenu.js","webpack:///./src/menu/views/ExportMenu.js","webpack:///./src/menu/views/ExtraMenu.js","webpack:///./src/menu/views/FilterMenu.js","webpack:///./src/menu/views/HelpMenu.js","webpack:///./src/menu/views/ImportMenu.js","webpack:///./src/menu/views/OrderingMenu.js","webpack:///./src/menu/views/SelectionMenu.js","webpack:///./src/menu/views/VisMenu.js","webpack:///./src/msa.js","webpack:///./src/views/AlignmentBody.js","webpack:///./src/views/OverviewBox.js","webpack:///./src/views/Search.js","webpack:///./src/views/Stage.js","webpack:///./src/views/canvas/CanvasCharCache.js","webpack:///./src/views/canvas/CanvasCoordsCache.js","webpack:///./src/views/canvas/CanvasSelection.js","webpack:///./src/views/canvas/CanvasSeqBlock.js","webpack:///./src/views/canvas/CanvasSeqDrawer.js","webpack:///./src/views/header/ConservationView.js","webpack:///./src/views/header/GapView.js","webpack:///./src/views/header/HeaderBlock.js","webpack:///./src/views/header/LabelHeader.js","webpack:///./src/views/header/MarkerView.js","webpack:///./src/views/header/RightHeaderBlock.js","webpack:///./src/views/header/SeqLogoWrapper.js","webpack:///./src/views/labels/LabelBlock.js","webpack:///./src/views/labels/LabelRowView.js","webpack:///./src/views/labels/LabelView.js","webpack:///./src/views/labels/MetaView.js","webpack:///./~/backbone-thin/collection.js","webpack:///./~/backbone-thin/~/backbone-events-standalone/backbone-events-standalone.js","webpack:///./~/backbone-viewj/~/backbone-events-standalone/backbone-events-standalone.js","webpack:///./~/backbone-viewj/~/backbone-events-standalone/index.js","webpack:///./~/backbone-viewj/~/backbone-extend-standalone/backbone-extend-standalone.js","webpack:///./~/biojs-events/~/backbone-events-standalone/backbone-events-standalone.js","webpack:///./~/biojs-events/~/backbone-events-standalone/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/lib/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/vow/lib/vow.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/global/window.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/once/once.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js","webpack:///./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/lib/index.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/vow/lib/vow.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/index.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/global/window.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/once/once.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js","webpack:///./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js","webpack:///./~/biojs-io-gff/lib/jalview.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/lib/index.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/vow/lib/vow.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/index.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/global/window.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/once/once.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js","webpack:///./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js","webpack:///./~/biojs-model/src/index.js","webpack:///./~/biojs-model/src/seq.js","webpack:///./~/biojs-vis-seqlogo/light.js","webpack:///./~/biojs-vis-seqlogo/src/axis.js","webpack:///./~/biojs-vis-seqlogo/src/canvasSupport.js","webpack:///./~/biojs-vis-seqlogo/src/colors/aa.js","webpack:///./~/biojs-vis-seqlogo/src/colors/dna.js","webpack:///./~/biojs-vis-seqlogo/src/eventListener.js","webpack:///./~/biojs-vis-seqlogo/src/index.js","webpack:///./~/biojs-vis-seqlogo/src/info/settings.js","webpack:///./~/biojs-vis-seqlogo/src/model/letter.js","webpack:///./~/biojs-vis-seqlogo/src/render/render.js","webpack:///./~/biojs-vis-seqlogo/src/render/render_with_rects.js","webpack:///./~/biojs-vis-seqlogo/src/render/render_with_text.js","webpack:///./~/blueimp_canvastoblob/index.js","webpack:///./~/browser-saveas/index.js","webpack:///./css/msa.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/menu-builder/index.js","webpack:///./~/menu-builder/lib/menubuilder.js","webpack:///./~/msa-colorschemes/src/buried.js","webpack:///./~/msa-colorschemes/src/cinema.js","webpack:///./~/msa-colorschemes/src/clustal.js","webpack:///./~/msa-colorschemes/src/clustal2.js","webpack:///./~/msa-colorschemes/src/helix.js","webpack:///./~/msa-colorschemes/src/hydrophobicity.js","webpack:///./~/msa-colorschemes/src/index.js","webpack:///./~/msa-colorschemes/src/lesk.js","webpack:///./~/msa-colorschemes/src/mae.js","webpack:///./~/msa-colorschemes/src/nucleotide.js","webpack:///./~/msa-colorschemes/src/pid_colors.js","webpack:///./~/msa-colorschemes/src/purine.js","webpack:///./~/msa-colorschemes/src/schemeclass.js","webpack:///./~/msa-colorschemes/src/strand.js","webpack:///./~/msa-colorschemes/src/taylor.js","webpack:///./~/msa-colorschemes/src/turn.js","webpack:///./~/msa-colorschemes/src/zappo.js","webpack:///./~/style-loader/addStyles.js","webpack:///./css/msa.css?d50c","webpack:///./~/xhr/~/global/window.js","webpack:///./~/xhr/~/once/once.js","webpack:///./~/xhr/~/parse-headers/~/for-each/index.js","webpack:///./~/xhr/~/parse-headers/~/for-each/~/is-function/index.js","webpack:///./~/xhr/~/parse-headers/~/trim/index.js","webpack:///./~/xhr/~/parse-headers/parse-headers.js","webpack:///./src/g ^\\.\\/.*$","webpack:///./src/utils ^\\.\\/.*$"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","createReduce","dir","iterator","obj","iteratee","memo","keys","index","length","currentKey","context","optimizeCb","isArrayLike","_","arguments","createPredicateIndexFinder","array","predicate","cb","getLength","createIndexFinder","predicateFind","sortedIndex","item","idx","i","Math","max","min","slice","isNaN","collectNonEnumProps","nonEnumIdx","nonEnumerableProps","constructor","proto","isFunction","prototype","ObjProto","prop","has","contains","push","root","this","previousUnderscore","ArrayProto","Array","Object","FuncProto","Function","toString","hasOwnProperty","nativeIsArray","isArray","nativeKeys","nativeBind","bind","nativeCreate","create","Ctor","_wrapped","VERSION","func","argCount","value","other","collection","accumulator","apply","identity","isObject","matcher","property","Infinity","createAssigner","keysFunc","undefinedOnly","source","l","key","baseCreate","result","MAX_ARRAY_INDEX","pow","each","forEach","map","collect","results","reduce","foldl","inject","reduceRight","foldr","find","detect","findIndex","findKey","filter","select","list","reject","negate","every","all","some","any","includes","include","fromIndex","guard","values","indexOf","invoke","method","args","isFunc","pluck","where","attrs","findWhere","computed","lastComputed","shuffle","rand","set","shuffled","random","sample","n","sortBy","criteria","sort","left","right","a","b","group","behavior","groupBy","indexBy","countBy","toArray","size","partition","pass","fail","first","head","take","initial","last","rest","tail","drop","compact","flatten","input","shallow","strict","startIndex","output","isArguments","j","len","without","difference","uniq","unique","isSorted","isBoolean","seen","union","intersection","argsLength","zip","unzip","object","findLastIndex","low","high","mid","floor","lastIndexOf","range","start","stop","step","ceil","executeBound","sourceFunc","boundFunc","callingContext","self","TypeError","bound","concat","partial","boundArgs","position","bindAll","Error","memoize","hasher","cache","address","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","now","remaining","clearTimeout","trailing","debounce","immediate","timestamp","callNow","wrap","wrapper","compose","after","times","before","once","hasEnumBug","propertyIsEnumerable","allKeys","mapObject","pairs","invert","functions","methods","names","extend","extendOwn","assign","pick","oiteratee","omit","String","defaults","props","clone","tap","interceptor","isMatch","eq","aStack","bStack","className","areArrays","aCtor","bCtor","pop","isEqual","isEmpty","isString","isElement","nodeType","type","name","Int8Array","isFinite","parseFloat","isNumber","isNull","isUndefined","noConflict","constant","noop","propertyOf","matches","accum","Date","getTime","escapeMap","&","<",">","\"","'","`","unescapeMap","createEscaper","escaper","match","join","testRegexp","RegExp","replaceRegexp","string","test","replace","escape","unescape","fallback","idCounter","uniqueId","prefix","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n"," "," ","escapeChar","template","text","settings","oldSettings","offset","variable","render","e","data","argument","chain","instance","_chain","mixin","valueOf","toJSON","undefined","Model","Collection","Events","$","View","cid","viewOptions","_ensureElement","initialize","delegateEventSplitter","tagName","selector","$el","remove","_removeElement","stopListening","setElement","element","undelegateEvents","_setElement","delegateEvents","el","events","delegate","eventName","listener","on","off","undelegate","_createElement","document","createElement","_setAttributes","attributes","attr","MenuBuilder","builder","buildDOM","buildNode","buildButton","buildMenu","li","g","style","lineHeight","menuconfig","get","btn","fontSize","marginLeft","padding","menu","removeToInsertLater","parentNode","nextSibling","removeChild","insertBefore","appendChild","pluginator","viewType","removeChilds","node","lastChild","renderSubviews","oldEl","elOnDom","insert","view","frag","createDocumentFragment","views","_views","viewsSorted","ordering","addView","removeViews","unbind","removeView","getView","Utils","removeAllChilds","count","firstChild","win","isArraylike","BoneEvent","setter","originalEvent","defaultPrevented","immediatePropagationStopped","jBone","isImmediatePropagationStopped","fn","_$","_jBone","rquickSingleTag","rquickExpr","splice","doc","init","elements","tag","wraper","fragment","exec","innerHTML","childNodes","merge","querySelectorAll","makeArray","reverse","shift","unshift","setId","jid","_cache","getData","HTMLElement","pushStack","elems","ret","second","container","contained","target","tg","arr","Event","event","namespace","eventType","split","createEvent","initEvent","isDefaultPrevented","add","types","handler","t","eventHandler","dispatch","addEventListener","originfn","eventsByType","removeListener","callback","removeEventListener","trigger","dispatchEvent","expectedTarget","eventOptions","handlers","handlerQueue","targets","currentTarget","one","addListener","oneArgs","finder","found","parent","parentElement","is","toLowerCase","getAttribute","setAttribute","removeAttr","removeAttribute","val","css","getComputedStyle","setValue","jdata","dataset","getValue","removeData","addClass","classes","trim","classList","removeClass","toggleClass","force","hasClass","html","empty","append","appended","createTextNode","cloneNode","appendTo","to","window","Selection","RowSelection","seqId","inRow","inColumn","rowPos","ColumnSelection","xStart","xEnd","PosSelection","sel","possel","rowsel","columnsel","SelectionManager","model","opts","listenTo","_handleE","evt","stepSize","getSelForRow","getSelForColumns","addJSON","_fromJSON","resetJSON","reset","getBlocksForRow","maxLen","seli","selis","blocks","i1","getAllColumnBlocks","conf","withPos","filtered","invertRow","rows","selRows","inverted","s","invertCol","columns","selColumns","selection","ctrlKey","metaKey","_reduceColumns","cols","lefts","rights","console","log","svgns","setAttr","setAttributeNS","Base","svg","createElementNS","width","height","Rect","rect","Line","line","Polygon","polygon","base","setImmediate","clearImmediate","Timeout","clearFn","_id","_clearFn","nextTick","immediateIds","nextImmediateId","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","_classCallCheck","Constructor","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","BMath","lower","upper","_ref","_ref2","substr","Exporter","Fasta","GFF","xhr","blobURL","saveAs","openInJalview","url","colorscheme","charAt","URL","host","location","hostname","encodeURIComponent","jalviewUrl","open","publishWeb","that","write","seqs","body","uri","headers","Content-Type","err","rep","link","shareLink","config","msaURL","fCB","fURL","saveAsFile","blob","Blob","saveSelection","selcol","end","warn","saveAnnots","features","seqname","exportLines","saveAsImg","canvas","toDataURL","FileHelper","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","next","done","FastaReader","ClustalReader","GffReader","msa","funs","guessFileType","fileName","guessFileFromText","substring","reader","parseText","_guessFileFromText","_guessFileFromText2","parse","parseSeqs","importFiles","files","_this","file","FileReader","onload","importFile","readAsText","_this2","_parseText","_parseText2","objs","addFeatures","u","tree","loadTree","showTree","importURL","_this3","proxy","corsURL","status","res","loader","k","loadScript","mk","src","async","onreadystatechange","r","readyState","getElementsByTagName","joinCb","retCb","finalLength","finalScope","cbsFinished","callbackWrapper","scope","counter","ProxyHelper","proxyFun","onAll","oldMixin","GenericReader","st","currentSeq","label","_len","getMeta","ids","details","seq","access","splitNChars","koalajs","d","defaultValue","defValue","getElementById","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","fun","process","title","browser","env","argv","version","versions","removeAllListeners","emit","binding","cwd","chdir","umask","createXHR","readystatechange","load","getBody","response","responseType","responseText","responseXML","isJson","JSON","getStatusCode","errorFromStatusCode","error","message","messages","statusCode","loadResponse","statusText","raw","getAllResponseHeaders","parseHeaders","loadXhr","cors","useXDR","XDR","XHR","sync","stringify","json","onerror","onprogress","ontimeout","withCredentials","setRequestHeader","beforeSend","send","0","4","5","XMLHttpRequest","XDomainRequest","Colorscheme","Colors","scheme","colorBackground","showLowerCase","opacity","stat","colors","conservation","scale","getSelectedScheme","addStaticScheme","dict","addDynScheme","getScheme","Columns","o","stats","calcHiddenColumns","hidden","newX","Config","registerMouseHover","registerMouseClicks","importProxy","importProxyStripHttp","eventBus","alphabetSize","dropImport","debug","hasRef","bootstrapMenu","manualRendering","Package","Loader","development","msa-tnt","biojs-io-newick","loadPackage","pkg","_pkgURL","loadPackages","pkgs","cbs","searchText","Visibility","searchBox","overviewBox","headerBox","alignmentBody","sequences","markers","metacell","conserv","overviewbox","seqlogo","gapHeader","leftHeader","labels","labelName","labelId","labelPartition","labelCheckbox","metaGaps","metaIdentity","metaLinks","calcDefaults","at","Zoomer","getLabelWidth","getMetaWidth","alignmentWidth","alignmentHeight","columnWidth","rowHeight","autoResize","textVisible","labelIdLength","labelNameLength","labelPartLength","labelCheckLength","labelFontsize","labelLineHeight","markerFontsize","markerStepSize","markerHeight","residueFont","canvasEventScale","boxRectHeight","boxRectWidth","overviewboxPaddingTop","metaGapWidth","metaIdentWidth","_alignmentScrollLeft","_alignmentScrollTop","getMaxLength","getAlignmentWidth","_adjustWidth","setLeftOffset","setTopOffset","getLeftBlockWidth","paddingLeft","vis","offsetWidth","parentWidth","clientWidth","maxWidth","calcWidth","autoHeight","getMaxAlignmentHeight","setEl","_checkScrolling","scrollObj","xScroll","yScroll","getMaxAlignmentWidth","Feature","fillColor","fillOpacity","borderSize","borderColor","borderOpacity","validate","row","Name","Color","parseInt","FeatureCol","startOnCache","startOn","getFeatureOnRow","x","assignRows","getCurrentHeight","getMinRows","SeqManager","Sequence","lengthCache","_bindSeqsWithFeatures","_autoSetRefSeq","models","prev","endless","calcHiddenSeqs","nNew","feature","_bindSeqWithFeatures","removeAllFeatures","setRef","bmath","seqgen","Stat","_generateSequence","getRandomChar","getDummySequences","seqLen","getRandomInt","possible","genConservedSequences","tolerance","conservAim","observed","end1","cConserv","addSeq","abs","pseqs","treeHelper","tf","newickStr","newick","require","newickObj","parse_newick","mt","selections","treeDiv","nodes","app","adapters","setPrototypeOf","_require","_x","definition","child","Surrogate","__super__","parser","gff","utils","jalview","parseLines","lines","_guessType","readHeader","parseLine","entry","tLine","score","strand","frame","extractKeys","exportLine","cells","exportSeqs","pLine","description","full_id","full_desc","label_parts","id_parts","en","db","kv_parts","current_key","next_key","value_and_maybe_next_key","value_parts","meta","desc","identDB","sp","tr","gb","pdb","buildLinks","links","search","txt","num","complement","newSeq","replacements","reverseComplement","webpackPolyfill","deprecate","paths","children","seqcol","featurecol","changed","validationError","idAttribute","Backbone","unset","changes","silent","changing","current","_validate","_changing","_previousAttributes","_pending","clear","hasChanged","changedAttributes","diff","old","previousAttributes","fetch","success","resp","wrapError","save","serverAttrs","isNew","patch","destroy","urlError","isValid","modelMethods","Clustal","blockstate","cSeq","regex","seqCounter","sequence","componentToHex","hex","attrArr","keyArr","rgbToHex","y","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","col_width","col_num","fontsize","font","textAlign","fillStyle","fillText","color","Mouse","rel","mouseX","mouseY","offsetX","offsetY","getBoundingClientRect","srcElement","clientX","clientY","top","pageX","offsetLeft","pageY","offsetTop","layerX","layerY","wheelDelta","delta","deltaX","deltaY","mozMovementX","resetSeqs","_useBackground","useGaps","ignoredChars","_reset","removeSeq","addSeqs","mseqs","mSeqsPluck","seqArr","calcValues","_identity","_background","setBackground","useBackground","setDNA","setProtein","ident","identityCalc","background","bg","backgroundCalc","frequencyCalc","occs","totalPerPos","maxLength","pos","_frequency","occ","total","mapValues","icCalc","f","frequency","ic","_ic","gaps","icMax","conservResidue","scaled","conservResidue2","sum","maxLengthCalc","consensusCalc","_consensus","compareSeq","consensus","gapsCalc","mLength","_gaps","f_val","MSA","boneView","io","fasta","clustal","MenuView","ImportMenu","FilterMenu","SelectionMenu","VisMenu","ColorMenu","OrderingMenu","ExtraMenu","ExportMenu","HelpMenu","DebugMenu","MenuSettings","defaultmenu","menubuilder","small","menuFontsize","menuItemFontsize","menuItemLineHeight","menuMarginLeft","menuPadding","dom","display","menuColor","setName","removeAllNodes","colorschemes","getColorschemes","addScheme","grey","backgroundColor","addNode","schemes","zoomer","writer","alert","Seq","con","comparator","nColumnWidth","nFontSize","prompt","threshold","hiddenOld","gapContent","uploader","multiple","filetypes","click","order","setOrder","comps","getComparators","_addNode","precode","localeCompare","numeric","setIdent","setGaps","user","visEl","visElements","getVisElements","_addVisEl","pre","SeqCollection","Colorator","SelCol","User","VisOrdering","Eventhandler","Stage","Stats","TreeHelper","visorder","_loadSeqs","startEventBus","dragover","dragOver","dropFile","menuConfig","draw","pureSeq","menuDiv","wrapperDiv","replaceChild","bootstrapOpts","defMenu","preventDefault","dataTransfer","busObjs","_proxyToG","SeqBlock","LabelBlock","labelblock","seqblock","adjustHeight","adjustWidth","whiteSpace","getWidth","OverviewBox","mouse","jbone","rerender","dragStart","mousedown","_createCanvas","textContent","marginTop","ctx","fillRect","rectWidth","rectHeight","toUpperCase","getColor","_drawSelection","prolongSelection","maxHeight","globalAlpha","_onclick","_onmousemove","_calcSelection","stopPropagation","_onmousedown","dragStartRel","_onmouseup","dragMove","dragRel","_endSelection","dragEnd","_onmouseout","getContext","overflow","cursor","selPos","scroll","resultBox","updateResult","buildBtns","prevBtn","moveSel","nextBtn","allBtn","searchrow","relDist","selNew","focus","leftIndex","origIndex","newSeli","leftestIndex","strSeq","AlignmentBody","HeaderBlock","Search","headerblock","searchblock","CanvasCharCache","cacheHeight","cacheWidth","letter","createTile","textBaseline","cacheConstructor","setMaxScrollHeight","maxScrollHeight","setMaxScrollWidth","maxScrollWidth","SelectionClass","_getSelection","sels","_appendSelection","_getPrevNextSelection","_getPrevNextSelection2","mPrevSel","mNextSel","hiddenOffset","_renderSelection","xZero","yZero","selectionLength","boxWidth","boxHeight","totalWidth","beforeWidth","beforeStyle","xPart","xPos","modelPrev","modelNext","CharCache","CanvasSeqDrawer","CanvasCoordsCache","origin","overflowX","overflowY","coordsCache","_setColor","throttleTime","throttleCounts","documentElement","webkitAppearance","throttledDraw","tTime","manageEvents","touchstart","dblclick","mousein","mouseout","mousewheel","DOMMouseScroll","seqDrawer","drawLetters","drawRows","drawFeatures","header","reversed","relEnd","scaleFactor","dragStartScroll","round","scrollCorrected","_ontouchmove","changedTouches","_cleanup","_ontouchstart","_touchCleanup","_onmousewinout","toElement","_onmousewheel","_getClickPos","_onmousein","coords","_seqDrawer$_getSeqFor","_getSeqForYClick","_seqDrawer$_getSeqFor2","rowNumber","construc","drawer","drawSeqs","drawSeq","_drawRect","_drawLetter","_getStartSeq","getStartSeq","_getStartSeq2","yPos","seqHeight","drawRow","_getStartSeq3","_getStartSeq4","yDiff","yRel","clickedRows","elWidth","drawImage","getFontTile","ConservationView","nMax","cellWidth","avgHeight","LabelHeader","RightLabelHeader","lHeader","rHeader","labelDOM","metaDOM","labelHeader","addEl","content","metaHeader","HeaderView","markerHidden","span","prevHidden","triangle","points","MarkerView","SeqLogoWrapper","GapView","blockEvents","_setSpacer","_setWidth","_adjustScrollingLeft","marker","gapview","_sendScrollEvent","scrollLeft","_getLabelWidth","SeqLogoView","changeColors","column_width","alphabet","heightArr","yaxis","scroller","xaxis","positionMarker","zoom","LabelRowView","_adjustScrollingTop","_setHeight","scrollTop","verticalAlign","LabelView","MetaView","drawR","setSelection","fontWeight","checkBox","part","paddingRight","toFixed","gapSpan","identSpan","linkEl","setOptions","addOptions","singular","modelId","_byId","_removeReference","existing","sortable","sortAttr","toAdd","toRemove","modelMap","_isModel","_prepareModel","_addReference","orderedModels","addOpts","previousModels","_onModelEvent","prevId","attributeMethods","miniscore","nativeForEach","ran","eventsApi","_events","_callback","retain","ev","allEvents","triggerEvents","listeners","_listeners","deleteListener","_listenerId","eventSplitter","action","a1","a2","a3","listenMethods","listenToOnce","implementation","BackboneEvents","vow","read","onret","_onRetrieval","prom","resolve","promise","rText","statics","global","undef","fns","enqueueFn","callFns","fnsToCall","MutationObserver","WebKitMutationObserver","observe","characterData","postMessage","isPostMessageAsync","attachEvent","checkAsync","detachEvent","msg","onMessage","createScript","script","throwException","toStr","getArrayKeys","getObjectKeys","defineCustomErrorType","wrapOnFulfilled","onFulfilled","Deferred","_promise","Promise","isResolved","_resolve","reason","isPromise","then","_reject","notify","_notify","PROMISE_STATUS","PENDING","RESOLVED","FULFILLED","REJECTED","resolver","_value","_status","_fulfilledCallbacks","_rejectedCallbacks","_progressCallbacks","resolverFnLen","isFulfilled","isRejected","onRejected","onProgress","_addCallbacks","catch","always","onResolved","progress","spread","timer","TimedOutError","_vow","_fulfill","_callCallbacks","callbacks","arg","staticMethods","cast","iterable","race","anyResolved","when","fulfill","callArgs","isPromisesArray","_forEach","allResolved","allPatiently","rejectedPromises","fulfilledPromises","promises","defineAsGlobal","define","provide","loadFunc","errorFunc","timeoutTimer","failureResponse","rawRequest","username","password","abort","called","forEachArray","forEachString","forEachObject","confirm","str","currentGroup","firstCell","parseColor","Parent","cell","render_x_axis_label","display_ali_map","called_on","prepend","render_y_axis_label","dom_element","max_height","min_height_obs","axis_label","info_content_height","height_calc","translate","rotate","PI","restore","show_inserts","canv_support","elem","A","C","D","E","F","G","H","I","K","L","M","N","P","Q","R","S","T","V","W","Y","U","logo","logo_graphic","toggle","changeZoom","default_zoom","distance","direction","toggleScale","toggleColorscheme","toggleAliMap","scrollToColumn","window_position","col","columnFromCoordinates","column","which","canvasSupport","Letter","axis","eventListener","scale_height_enabled","scaled_max","zoom_buttons","divider","show_probs","divider_step","show_divider","border","loadDefault","canvas_width","scrollme","previous_target","rendered","previous_zoom","calcMaxHeight","insert_probs","delete_probs","max_height_obs","max_height_theory","aa_colors","dna_colors","opt","processing","initDivs","form","bUseColorObject","buildAlphabet","letters","tColors","loptions","col_total","currentColumn","reflow","logoYAxis","before_left","getValues","col_count","half_visible_columns","zoom_level","expected_width","coordinatesFromColumn","scrollTo","new_column","animate","half_view","logo_container","new_left","obs_checked","theory_checked","theory_help","obs_help","scale_controls","probs_arr","def_color","con_color","def_help","con_help","help","color_controls","ali_map","mod_checked","ali_checked","mod_help","ali_help","ali_controls","controls","zoom_enabled","ext_ctx","target_height","target_width","h_ratio","w_ratio","prev_font","transform","setTransform","attach_canvas","DOMid","canv_width","renderWithText","renderWithRect","parent_width","max_canvas_width","max_width","zoomed_column","total_width","canvas_count","columns_per_canvas","canvases","contexts","split_start","split_end","adjusted_width","canv_start","canv_end","clearRect","EasyScroller","scrollingX","scrollingY","eventTarget","draw_small_insert","in_odds","in_length","del_odds","fill","draw_border","draw_ticks","draw_column_number","context_num","borders","column_num","column_label","top_height","bottom_height","total_height","top_percentage","top_pix_height","mod","mmline","previous_height","letter_height","x_pos","glyph_height","y_pos","cmap","strokeRect","insert_lengths","draw_delete_odds","textfill","draw_rect_with_text","draw_column_divider","inst","div_x","ralign","num_x","draw_insert_odds","draw_insert_length","bottom_pix_height","col_positions","CanvasPrototype","HTMLCanvasElement","hasBlobConstructor","Boolean","hasArrayBufferViewSupport","Uint8Array","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURLtoBlob","atob","ArrayBuffer","dataURI","byteString","arrayBuffer","intArray","mimeString","bb","decodeURIComponent","charCodeAt","getBlob","toBlob","mozGetAsFile","quality","navigator","msSaveOrOpenBlob","userAgent","get_URL","webkitURL","save_link","can_use_save_link","externalHost","initMouseEvent","webkit_req_fs","webkitRequestFileSystem","req_fs","requestFileSystem","mozRequestFileSystem","throw_outside","ex","force_saveable_type","fs_min_size","deletion_queue","process_deletion_queue","revokeObjectURL","filesaver","event_types","FileSaver","object_url","target_view","blob_changed","get_object_url","createObjectURL","dispatch_all","fs_error","href","DONE","abortable","create_if_not_found","exclusive","INIT","download","chrome","webkitSlice","TEMPORARY","fs","getDirectory","getFile","createWriter","onwriteend","toURL","code","ABORT_ERR","WRITING","NOT_FOUND_ERR","FS_proto","onwritestart","onwrite","onabort","unload","amdDefine","almond","amd","mediaQuery","alreadyImportedModules","_nodes","fc","getNode","rNode","modifyNode","renameNode","newLabel","removeNode","_buildM","displayedButton","menuUl","_showMenu","offsetHeight","B","X","Z","J","O","Gap","copy","StaticSchemeClass","DynSchemeClass","dyn","Buried","Cinema","Clustal2","Helix","Hydro","Lesk","Mae","Nucleotide","Purine","Strand","Taylor","Turn","Zappo","staticSchemes","buried","buried_index","cinema","clustal2","helix","helix_propensity","hydro","lesk","mae","nucleotide","purine","purine_pyrimidine","strand_propensity","taylor","turn","turn_propensity","zappo","pid","dynSchemes","maps","cons","defaultColor","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","media","sourceMap","insertStyleElement","styleElement","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","removeStyleElement","createStyleElement","createLinkElement","linkElement","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","btoa","updateLink","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","oldSrc","isOldIE","newList","mayRemove","textStore","replacement","locals","webpackContext","req","webpackContextResolve","./colorscheme","./colorscheme.js","./columns","./columns.js","./config","./config.js","./package","./package.js","./selection/Selection","./selection/Selection.js","./selection/SelectionCol","./selection/SelectionCol.js","./selection/index","./selection/index.js","./user","./user.js","./visOrdering","./visOrdering.js","./visibility","./visibility.js","./zoomer","./zoomer.js","./bmath","./bmath.js","./export","./export.js","./file","./file.js","./index","./index.js","./loader","./loader.js","./proxy","./proxy.js","./seqgen","./seqgen.js","./svg","./svg.js","./tree","./tree.js"],"mappings":"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","file":"dist/msa.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// trick to bundle the css\n\t__webpack_require__(160);\n\tmodule.exports = __webpack_require__(52);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;//     Underscore.js 1.8.3\n\t//     http://underscorejs.org\n\t//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Underscore may be freely distributed under the MIT license.\n\t\n\t(function() {\n\t\n\t  // Baseline setup\n\t  // --------------\n\t\n\t  // Establish the root object, `window` in the browser, or `exports` on the server.\n\t  var root = this;\n\t\n\t  // Save the previous value of the `_` variable.\n\t  var previousUnderscore = root._;\n\t\n\t  // Save bytes in the minified (but not gzipped) version:\n\t  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\t\n\t  // Create quick reference variables for speed access to core prototypes.\n\t  var\n\t    push             = ArrayProto.push,\n\t    slice            = ArrayProto.slice,\n\t    toString         = ObjProto.toString,\n\t    hasOwnProperty   = ObjProto.hasOwnProperty;\n\t\n\t  // All **ECMAScript 5** native function implementations that we hope to use\n\t  // are declared here.\n\t  var\n\t    nativeIsArray      = Array.isArray,\n\t    nativeKeys         = Object.keys,\n\t    nativeBind         = FuncProto.bind,\n\t    nativeCreate       = Object.create;\n\t\n\t  // Naked function reference for surrogate-prototype-swapping.\n\t  var Ctor = function(){};\n\t\n\t  // Create a safe reference to the Underscore object for use below.\n\t  var _ = function(obj) {\n\t    if (obj instanceof _) return obj;\n\t    if (!(this instanceof _)) return new _(obj);\n\t    this._wrapped = obj;\n\t  };\n\t\n\t  // Export the Underscore object for **Node.js**, with\n\t  // backwards-compatibility for the old `require()` API. If we're in\n\t  // the browser, add `_` as a global object.\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = _;\n\t    }\n\t    exports._ = _;\n\t  } else {\n\t    root._ = _;\n\t  }\n\t\n\t  // Current version.\n\t  _.VERSION = '1.8.3';\n\t\n\t  // Internal function that returns an efficient (for current engines) version\n\t  // of the passed-in callback, to be repeatedly applied in other Underscore\n\t  // functions.\n\t  var optimizeCb = function(func, context, argCount) {\n\t    if (context === void 0) return func;\n\t    switch (argCount == null ? 3 : argCount) {\n\t      case 1: return function(value) {\n\t        return func.call(context, value);\n\t      };\n\t      case 2: return function(value, other) {\n\t        return func.call(context, value, other);\n\t      };\n\t      case 3: return function(value, index, collection) {\n\t        return func.call(context, value, index, collection);\n\t      };\n\t      case 4: return function(accumulator, value, index, collection) {\n\t        return func.call(context, accumulator, value, index, collection);\n\t      };\n\t    }\n\t    return function() {\n\t      return func.apply(context, arguments);\n\t    };\n\t  };\n\t\n\t  // A mostly-internal function to generate callbacks that can be applied\n\t  // to each element in a collection, returning the desired result — either\n\t  // identity, an arbitrary callback, a property matcher, or a property accessor.\n\t  var cb = function(value, context, argCount) {\n\t    if (value == null) return _.identity;\n\t    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n\t    if (_.isObject(value)) return _.matcher(value);\n\t    return _.property(value);\n\t  };\n\t  _.iteratee = function(value, context) {\n\t    return cb(value, context, Infinity);\n\t  };\n\t\n\t  // An internal function for creating assigner functions.\n\t  var createAssigner = function(keysFunc, undefinedOnly) {\n\t    return function(obj) {\n\t      var length = arguments.length;\n\t      if (length < 2 || obj == null) return obj;\n\t      for (var index = 1; index < length; index++) {\n\t        var source = arguments[index],\n\t            keys = keysFunc(source),\n\t            l = keys.length;\n\t        for (var i = 0; i < l; i++) {\n\t          var key = keys[i];\n\t          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n\t        }\n\t      }\n\t      return obj;\n\t    };\n\t  };\n\t\n\t  // An internal function for creating a new object that inherits from another.\n\t  var baseCreate = function(prototype) {\n\t    if (!_.isObject(prototype)) return {};\n\t    if (nativeCreate) return nativeCreate(prototype);\n\t    Ctor.prototype = prototype;\n\t    var result = new Ctor;\n\t    Ctor.prototype = null;\n\t    return result;\n\t  };\n\t\n\t  var property = function(key) {\n\t    return function(obj) {\n\t      return obj == null ? void 0 : obj[key];\n\t    };\n\t  };\n\t\n\t  // Helper for collection methods to determine whether a collection\n\t  // should be iterated as an array or as an object\n\t  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n\t  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n\t  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n\t  var getLength = property('length');\n\t  var isArrayLike = function(collection) {\n\t    var length = getLength(collection);\n\t    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n\t  };\n\t\n\t  // Collection Functions\n\t  // --------------------\n\t\n\t  // The cornerstone, an `each` implementation, aka `forEach`.\n\t  // Handles raw objects in addition to array-likes. Treats all\n\t  // sparse array-likes as if they were dense.\n\t  _.each = _.forEach = function(obj, iteratee, context) {\n\t    iteratee = optimizeCb(iteratee, context);\n\t    var i, length;\n\t    if (isArrayLike(obj)) {\n\t      for (i = 0, length = obj.length; i < length; i++) {\n\t        iteratee(obj[i], i, obj);\n\t      }\n\t    } else {\n\t      var keys = _.keys(obj);\n\t      for (i = 0, length = keys.length; i < length; i++) {\n\t        iteratee(obj[keys[i]], keys[i], obj);\n\t      }\n\t    }\n\t    return obj;\n\t  };\n\t\n\t  // Return the results of applying the iteratee to each element.\n\t  _.map = _.collect = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length,\n\t        results = Array(length);\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      results[index] = iteratee(obj[currentKey], currentKey, obj);\n\t    }\n\t    return results;\n\t  };\n\t\n\t  // Create a reducing function iterating left or right.\n\t  function createReduce(dir) {\n\t    // Optimized iterator function as using arguments.length\n\t    // in the main function will deoptimize the, see #1991.\n\t    function iterator(obj, iteratee, memo, keys, index, length) {\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        var currentKey = keys ? keys[index] : index;\n\t        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n\t      }\n\t      return memo;\n\t    }\n\t\n\t    return function(obj, iteratee, memo, context) {\n\t      iteratee = optimizeCb(iteratee, context, 4);\n\t      var keys = !isArrayLike(obj) && _.keys(obj),\n\t          length = (keys || obj).length,\n\t          index = dir > 0 ? 0 : length - 1;\n\t      // Determine the initial value if none is provided.\n\t      if (arguments.length < 3) {\n\t        memo = obj[keys ? keys[index] : index];\n\t        index += dir;\n\t      }\n\t      return iterator(obj, iteratee, memo, keys, index, length);\n\t    };\n\t  }\n\t\n\t  // **Reduce** builds up a single result from a list of values, aka `inject`,\n\t  // or `foldl`.\n\t  _.reduce = _.foldl = _.inject = createReduce(1);\n\t\n\t  // The right-associative version of reduce, also known as `foldr`.\n\t  _.reduceRight = _.foldr = createReduce(-1);\n\t\n\t  // Return the first value which passes a truth test. Aliased as `detect`.\n\t  _.find = _.detect = function(obj, predicate, context) {\n\t    var key;\n\t    if (isArrayLike(obj)) {\n\t      key = _.findIndex(obj, predicate, context);\n\t    } else {\n\t      key = _.findKey(obj, predicate, context);\n\t    }\n\t    if (key !== void 0 && key !== -1) return obj[key];\n\t  };\n\t\n\t  // Return all the elements that pass a truth test.\n\t  // Aliased as `select`.\n\t  _.filter = _.select = function(obj, predicate, context) {\n\t    var results = [];\n\t    predicate = cb(predicate, context);\n\t    _.each(obj, function(value, index, list) {\n\t      if (predicate(value, index, list)) results.push(value);\n\t    });\n\t    return results;\n\t  };\n\t\n\t  // Return all the elements for which a truth test fails.\n\t  _.reject = function(obj, predicate, context) {\n\t    return _.filter(obj, _.negate(cb(predicate)), context);\n\t  };\n\t\n\t  // Determine whether all of the elements match a truth test.\n\t  // Aliased as `all`.\n\t  _.every = _.all = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n\t    }\n\t    return true;\n\t  };\n\t\n\t  // Determine if at least one element in the object matches a truth test.\n\t  // Aliased as `any`.\n\t  _.some = _.any = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = !isArrayLike(obj) && _.keys(obj),\n\t        length = (keys || obj).length;\n\t    for (var index = 0; index < length; index++) {\n\t      var currentKey = keys ? keys[index] : index;\n\t      if (predicate(obj[currentKey], currentKey, obj)) return true;\n\t    }\n\t    return false;\n\t  };\n\t\n\t  // Determine if the array or object contains a given item (using `===`).\n\t  // Aliased as `includes` and `include`.\n\t  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n\t    if (!isArrayLike(obj)) obj = _.values(obj);\n\t    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n\t    return _.indexOf(obj, item, fromIndex) >= 0;\n\t  };\n\t\n\t  // Invoke a method (with arguments) on every item in a collection.\n\t  _.invoke = function(obj, method) {\n\t    var args = slice.call(arguments, 2);\n\t    var isFunc = _.isFunction(method);\n\t    return _.map(obj, function(value) {\n\t      var func = isFunc ? method : value[method];\n\t      return func == null ? func : func.apply(value, args);\n\t    });\n\t  };\n\t\n\t  // Convenience version of a common use case of `map`: fetching a property.\n\t  _.pluck = function(obj, key) {\n\t    return _.map(obj, _.property(key));\n\t  };\n\t\n\t  // Convenience version of a common use case of `filter`: selecting only objects\n\t  // containing specific `key:value` pairs.\n\t  _.where = function(obj, attrs) {\n\t    return _.filter(obj, _.matcher(attrs));\n\t  };\n\t\n\t  // Convenience version of a common use case of `find`: getting the first object\n\t  // containing specific `key:value` pairs.\n\t  _.findWhere = function(obj, attrs) {\n\t    return _.find(obj, _.matcher(attrs));\n\t  };\n\t\n\t  // Return the maximum element (or element-based computation).\n\t  _.max = function(obj, iteratee, context) {\n\t    var result = -Infinity, lastComputed = -Infinity,\n\t        value, computed;\n\t    if (iteratee == null && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : _.values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value > result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index, list) {\n\t        computed = iteratee(value, index, list);\n\t        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n\t          result = value;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Return the minimum element (or element-based computation).\n\t  _.min = function(obj, iteratee, context) {\n\t    var result = Infinity, lastComputed = Infinity,\n\t        value, computed;\n\t    if (iteratee == null && obj != null) {\n\t      obj = isArrayLike(obj) ? obj : _.values(obj);\n\t      for (var i = 0, length = obj.length; i < length; i++) {\n\t        value = obj[i];\n\t        if (value < result) {\n\t          result = value;\n\t        }\n\t      }\n\t    } else {\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index, list) {\n\t        computed = iteratee(value, index, list);\n\t        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n\t          result = value;\n\t          lastComputed = computed;\n\t        }\n\t      });\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Shuffle a collection, using the modern version of the\n\t  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n\t  _.shuffle = function(obj) {\n\t    var set = isArrayLike(obj) ? obj : _.values(obj);\n\t    var length = set.length;\n\t    var shuffled = Array(length);\n\t    for (var index = 0, rand; index < length; index++) {\n\t      rand = _.random(0, index);\n\t      if (rand !== index) shuffled[index] = shuffled[rand];\n\t      shuffled[rand] = set[index];\n\t    }\n\t    return shuffled;\n\t  };\n\t\n\t  // Sample **n** random values from a collection.\n\t  // If **n** is not specified, returns a single random element.\n\t  // The internal `guard` argument allows it to work with `map`.\n\t  _.sample = function(obj, n, guard) {\n\t    if (n == null || guard) {\n\t      if (!isArrayLike(obj)) obj = _.values(obj);\n\t      return obj[_.random(obj.length - 1)];\n\t    }\n\t    return _.shuffle(obj).slice(0, Math.max(0, n));\n\t  };\n\t\n\t  // Sort the object's values by a criterion produced by an iteratee.\n\t  _.sortBy = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    return _.pluck(_.map(obj, function(value, index, list) {\n\t      return {\n\t        value: value,\n\t        index: index,\n\t        criteria: iteratee(value, index, list)\n\t      };\n\t    }).sort(function(left, right) {\n\t      var a = left.criteria;\n\t      var b = right.criteria;\n\t      if (a !== b) {\n\t        if (a > b || a === void 0) return 1;\n\t        if (a < b || b === void 0) return -1;\n\t      }\n\t      return left.index - right.index;\n\t    }), 'value');\n\t  };\n\t\n\t  // An internal function used for aggregate \"group by\" operations.\n\t  var group = function(behavior) {\n\t    return function(obj, iteratee, context) {\n\t      var result = {};\n\t      iteratee = cb(iteratee, context);\n\t      _.each(obj, function(value, index) {\n\t        var key = iteratee(value, index, obj);\n\t        behavior(result, value, key);\n\t      });\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Groups the object's values by a criterion. Pass either a string attribute\n\t  // to group by, or a function that returns the criterion.\n\t  _.groupBy = group(function(result, value, key) {\n\t    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n\t  });\n\t\n\t  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n\t  // when you know that your index values will be unique.\n\t  _.indexBy = group(function(result, value, key) {\n\t    result[key] = value;\n\t  });\n\t\n\t  // Counts instances of an object that group by a certain criterion. Pass\n\t  // either a string attribute to count by, or a function that returns the\n\t  // criterion.\n\t  _.countBy = group(function(result, value, key) {\n\t    if (_.has(result, key)) result[key]++; else result[key] = 1;\n\t  });\n\t\n\t  // Safely create a real, live array from anything iterable.\n\t  _.toArray = function(obj) {\n\t    if (!obj) return [];\n\t    if (_.isArray(obj)) return slice.call(obj);\n\t    if (isArrayLike(obj)) return _.map(obj, _.identity);\n\t    return _.values(obj);\n\t  };\n\t\n\t  // Return the number of elements in an object.\n\t  _.size = function(obj) {\n\t    if (obj == null) return 0;\n\t    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n\t  };\n\t\n\t  // Split a collection into two arrays: one whose elements all satisfy the given\n\t  // predicate, and one whose elements all do not satisfy the predicate.\n\t  _.partition = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var pass = [], fail = [];\n\t    _.each(obj, function(value, key, obj) {\n\t      (predicate(value, key, obj) ? pass : fail).push(value);\n\t    });\n\t    return [pass, fail];\n\t  };\n\t\n\t  // Array Functions\n\t  // ---------------\n\t\n\t  // Get the first element of an array. Passing **n** will return the first N\n\t  // values in the array. Aliased as `head` and `take`. The **guard** check\n\t  // allows it to work with `_.map`.\n\t  _.first = _.head = _.take = function(array, n, guard) {\n\t    if (array == null) return void 0;\n\t    if (n == null || guard) return array[0];\n\t    return _.initial(array, array.length - n);\n\t  };\n\t\n\t  // Returns everything but the last entry of the array. Especially useful on\n\t  // the arguments object. Passing **n** will return all the values in\n\t  // the array, excluding the last N.\n\t  _.initial = function(array, n, guard) {\n\t    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n\t  };\n\t\n\t  // Get the last element of an array. Passing **n** will return the last N\n\t  // values in the array.\n\t  _.last = function(array, n, guard) {\n\t    if (array == null) return void 0;\n\t    if (n == null || guard) return array[array.length - 1];\n\t    return _.rest(array, Math.max(0, array.length - n));\n\t  };\n\t\n\t  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n\t  // Especially useful on the arguments object. Passing an **n** will return\n\t  // the rest N values in the array.\n\t  _.rest = _.tail = _.drop = function(array, n, guard) {\n\t    return slice.call(array, n == null || guard ? 1 : n);\n\t  };\n\t\n\t  // Trim out all falsy values from an array.\n\t  _.compact = function(array) {\n\t    return _.filter(array, _.identity);\n\t  };\n\t\n\t  // Internal implementation of a recursive `flatten` function.\n\t  var flatten = function(input, shallow, strict, startIndex) {\n\t    var output = [], idx = 0;\n\t    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n\t      var value = input[i];\n\t      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n\t        //flatten current level of array or arguments object\n\t        if (!shallow) value = flatten(value, shallow, strict);\n\t        var j = 0, len = value.length;\n\t        output.length += len;\n\t        while (j < len) {\n\t          output[idx++] = value[j++];\n\t        }\n\t      } else if (!strict) {\n\t        output[idx++] = value;\n\t      }\n\t    }\n\t    return output;\n\t  };\n\t\n\t  // Flatten out an array, either recursively (by default), or just one level.\n\t  _.flatten = function(array, shallow) {\n\t    return flatten(array, shallow, false);\n\t  };\n\t\n\t  // Return a version of the array that does not contain the specified value(s).\n\t  _.without = function(array) {\n\t    return _.difference(array, slice.call(arguments, 1));\n\t  };\n\t\n\t  // Produce a duplicate-free version of the array. If the array has already\n\t  // been sorted, you have the option of using a faster algorithm.\n\t  // Aliased as `unique`.\n\t  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n\t    if (!_.isBoolean(isSorted)) {\n\t      context = iteratee;\n\t      iteratee = isSorted;\n\t      isSorted = false;\n\t    }\n\t    if (iteratee != null) iteratee = cb(iteratee, context);\n\t    var result = [];\n\t    var seen = [];\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var value = array[i],\n\t          computed = iteratee ? iteratee(value, i, array) : value;\n\t      if (isSorted) {\n\t        if (!i || seen !== computed) result.push(value);\n\t        seen = computed;\n\t      } else if (iteratee) {\n\t        if (!_.contains(seen, computed)) {\n\t          seen.push(computed);\n\t          result.push(value);\n\t        }\n\t      } else if (!_.contains(result, value)) {\n\t        result.push(value);\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Produce an array that contains the union: each distinct element from all of\n\t  // the passed-in arrays.\n\t  _.union = function() {\n\t    return _.uniq(flatten(arguments, true, true));\n\t  };\n\t\n\t  // Produce an array that contains every item shared between all the\n\t  // passed-in arrays.\n\t  _.intersection = function(array) {\n\t    var result = [];\n\t    var argsLength = arguments.length;\n\t    for (var i = 0, length = getLength(array); i < length; i++) {\n\t      var item = array[i];\n\t      if (_.contains(result, item)) continue;\n\t      for (var j = 1; j < argsLength; j++) {\n\t        if (!_.contains(arguments[j], item)) break;\n\t      }\n\t      if (j === argsLength) result.push(item);\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Take the difference between one array and a number of other arrays.\n\t  // Only the elements present in just the first array will remain.\n\t  _.difference = function(array) {\n\t    var rest = flatten(arguments, true, true, 1);\n\t    return _.filter(array, function(value){\n\t      return !_.contains(rest, value);\n\t    });\n\t  };\n\t\n\t  // Zip together multiple lists into a single array -- elements that share\n\t  // an index go together.\n\t  _.zip = function() {\n\t    return _.unzip(arguments);\n\t  };\n\t\n\t  // Complement of _.zip. Unzip accepts an array of arrays and groups\n\t  // each array's elements on shared indices\n\t  _.unzip = function(array) {\n\t    var length = array && _.max(array, getLength).length || 0;\n\t    var result = Array(length);\n\t\n\t    for (var index = 0; index < length; index++) {\n\t      result[index] = _.pluck(array, index);\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Converts lists into objects. Pass either a single array of `[key, value]`\n\t  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n\t  // the corresponding values.\n\t  _.object = function(list, values) {\n\t    var result = {};\n\t    for (var i = 0, length = getLength(list); i < length; i++) {\n\t      if (values) {\n\t        result[list[i]] = values[i];\n\t      } else {\n\t        result[list[i][0]] = list[i][1];\n\t      }\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Generator function to create the findIndex and findLastIndex functions\n\t  function createPredicateIndexFinder(dir) {\n\t    return function(array, predicate, context) {\n\t      predicate = cb(predicate, context);\n\t      var length = getLength(array);\n\t      var index = dir > 0 ? 0 : length - 1;\n\t      for (; index >= 0 && index < length; index += dir) {\n\t        if (predicate(array[index], index, array)) return index;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Returns the first index on an array-like that passes a predicate test\n\t  _.findIndex = createPredicateIndexFinder(1);\n\t  _.findLastIndex = createPredicateIndexFinder(-1);\n\t\n\t  // Use a comparator function to figure out the smallest index at which\n\t  // an object should be inserted so as to maintain order. Uses binary search.\n\t  _.sortedIndex = function(array, obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context, 1);\n\t    var value = iteratee(obj);\n\t    var low = 0, high = getLength(array);\n\t    while (low < high) {\n\t      var mid = Math.floor((low + high) / 2);\n\t      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n\t    }\n\t    return low;\n\t  };\n\t\n\t  // Generator function to create the indexOf and lastIndexOf functions\n\t  function createIndexFinder(dir, predicateFind, sortedIndex) {\n\t    return function(array, item, idx) {\n\t      var i = 0, length = getLength(array);\n\t      if (typeof idx == 'number') {\n\t        if (dir > 0) {\n\t            i = idx >= 0 ? idx : Math.max(idx + length, i);\n\t        } else {\n\t            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n\t        }\n\t      } else if (sortedIndex && idx && length) {\n\t        idx = sortedIndex(array, item);\n\t        return array[idx] === item ? idx : -1;\n\t      }\n\t      if (item !== item) {\n\t        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n\t        return idx >= 0 ? idx + i : -1;\n\t      }\n\t      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n\t        if (array[idx] === item) return idx;\n\t      }\n\t      return -1;\n\t    };\n\t  }\n\t\n\t  // Return the position of the first occurrence of an item in an array,\n\t  // or -1 if the item is not included in the array.\n\t  // If the array is large and already in sort order, pass `true`\n\t  // for **isSorted** to use binary search.\n\t  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n\t  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\t\n\t  // Generate an integer Array containing an arithmetic progression. A port of\n\t  // the native Python `range()` function. See\n\t  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n\t  _.range = function(start, stop, step) {\n\t    if (stop == null) {\n\t      stop = start || 0;\n\t      start = 0;\n\t    }\n\t    step = step || 1;\n\t\n\t    var length = Math.max(Math.ceil((stop - start) / step), 0);\n\t    var range = Array(length);\n\t\n\t    for (var idx = 0; idx < length; idx++, start += step) {\n\t      range[idx] = start;\n\t    }\n\t\n\t    return range;\n\t  };\n\t\n\t  // Function (ahem) Functions\n\t  // ------------------\n\t\n\t  // Determines whether to execute a function as a constructor\n\t  // or a normal function with the provided arguments\n\t  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n\t    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n\t    var self = baseCreate(sourceFunc.prototype);\n\t    var result = sourceFunc.apply(self, args);\n\t    if (_.isObject(result)) return result;\n\t    return self;\n\t  };\n\t\n\t  // Create a function bound to a given object (assigning `this`, and arguments,\n\t  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n\t  // available.\n\t  _.bind = function(func, context) {\n\t    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n\t    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n\t    var args = slice.call(arguments, 2);\n\t    var bound = function() {\n\t      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n\t    };\n\t    return bound;\n\t  };\n\t\n\t  // Partially apply a function by creating a version that has had some of its\n\t  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n\t  // as a placeholder, allowing any combination of arguments to be pre-filled.\n\t  _.partial = function(func) {\n\t    var boundArgs = slice.call(arguments, 1);\n\t    var bound = function() {\n\t      var position = 0, length = boundArgs.length;\n\t      var args = Array(length);\n\t      for (var i = 0; i < length; i++) {\n\t        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n\t      }\n\t      while (position < arguments.length) args.push(arguments[position++]);\n\t      return executeBound(func, bound, this, this, args);\n\t    };\n\t    return bound;\n\t  };\n\t\n\t  // Bind a number of an object's methods to that object. Remaining arguments\n\t  // are the method names to be bound. Useful for ensuring that all callbacks\n\t  // defined on an object belong to it.\n\t  _.bindAll = function(obj) {\n\t    var i, length = arguments.length, key;\n\t    if (length <= 1) throw new Error('bindAll must be passed function names');\n\t    for (i = 1; i < length; i++) {\n\t      key = arguments[i];\n\t      obj[key] = _.bind(obj[key], obj);\n\t    }\n\t    return obj;\n\t  };\n\t\n\t  // Memoize an expensive function by storing its results.\n\t  _.memoize = function(func, hasher) {\n\t    var memoize = function(key) {\n\t      var cache = memoize.cache;\n\t      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n\t      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n\t      return cache[address];\n\t    };\n\t    memoize.cache = {};\n\t    return memoize;\n\t  };\n\t\n\t  // Delays a function for the given number of milliseconds, and then calls\n\t  // it with the arguments supplied.\n\t  _.delay = function(func, wait) {\n\t    var args = slice.call(arguments, 2);\n\t    return setTimeout(function(){\n\t      return func.apply(null, args);\n\t    }, wait);\n\t  };\n\t\n\t  // Defers a function, scheduling it to run after the current call stack has\n\t  // cleared.\n\t  _.defer = _.partial(_.delay, _, 1);\n\t\n\t  // Returns a function, that, when invoked, will only be triggered at most once\n\t  // during a given window of time. Normally, the throttled function will run\n\t  // as much as it can, without ever going more than once per `wait` duration;\n\t  // but if you'd like to disable the execution on the leading edge, pass\n\t  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n\t  _.throttle = function(func, wait, options) {\n\t    var context, args, result;\n\t    var timeout = null;\n\t    var previous = 0;\n\t    if (!options) options = {};\n\t    var later = function() {\n\t      previous = options.leading === false ? 0 : _.now();\n\t      timeout = null;\n\t      result = func.apply(context, args);\n\t      if (!timeout) context = args = null;\n\t    };\n\t    return function() {\n\t      var now = _.now();\n\t      if (!previous && options.leading === false) previous = now;\n\t      var remaining = wait - (now - previous);\n\t      context = this;\n\t      args = arguments;\n\t      if (remaining <= 0 || remaining > wait) {\n\t        if (timeout) {\n\t          clearTimeout(timeout);\n\t          timeout = null;\n\t        }\n\t        previous = now;\n\t        result = func.apply(context, args);\n\t        if (!timeout) context = args = null;\n\t      } else if (!timeout && options.trailing !== false) {\n\t        timeout = setTimeout(later, remaining);\n\t      }\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns a function, that, as long as it continues to be invoked, will not\n\t  // be triggered. The function will be called after it stops being called for\n\t  // N milliseconds. If `immediate` is passed, trigger the function on the\n\t  // leading edge, instead of the trailing.\n\t  _.debounce = function(func, wait, immediate) {\n\t    var timeout, args, context, timestamp, result;\n\t\n\t    var later = function() {\n\t      var last = _.now() - timestamp;\n\t\n\t      if (last < wait && last >= 0) {\n\t        timeout = setTimeout(later, wait - last);\n\t      } else {\n\t        timeout = null;\n\t        if (!immediate) {\n\t          result = func.apply(context, args);\n\t          if (!timeout) context = args = null;\n\t        }\n\t      }\n\t    };\n\t\n\t    return function() {\n\t      context = this;\n\t      args = arguments;\n\t      timestamp = _.now();\n\t      var callNow = immediate && !timeout;\n\t      if (!timeout) timeout = setTimeout(later, wait);\n\t      if (callNow) {\n\t        result = func.apply(context, args);\n\t        context = args = null;\n\t      }\n\t\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns the first function passed as an argument to the second,\n\t  // allowing you to adjust arguments, run code before and after, and\n\t  // conditionally execute the original function.\n\t  _.wrap = function(func, wrapper) {\n\t    return _.partial(wrapper, func);\n\t  };\n\t\n\t  // Returns a negated version of the passed-in predicate.\n\t  _.negate = function(predicate) {\n\t    return function() {\n\t      return !predicate.apply(this, arguments);\n\t    };\n\t  };\n\t\n\t  // Returns a function that is the composition of a list of functions, each\n\t  // consuming the return value of the function that follows.\n\t  _.compose = function() {\n\t    var args = arguments;\n\t    var start = args.length - 1;\n\t    return function() {\n\t      var i = start;\n\t      var result = args[start].apply(this, arguments);\n\t      while (i--) result = args[i].call(this, result);\n\t      return result;\n\t    };\n\t  };\n\t\n\t  // Returns a function that will only be executed on and after the Nth call.\n\t  _.after = function(times, func) {\n\t    return function() {\n\t      if (--times < 1) {\n\t        return func.apply(this, arguments);\n\t      }\n\t    };\n\t  };\n\t\n\t  // Returns a function that will only be executed up to (but not including) the Nth call.\n\t  _.before = function(times, func) {\n\t    var memo;\n\t    return function() {\n\t      if (--times > 0) {\n\t        memo = func.apply(this, arguments);\n\t      }\n\t      if (times <= 1) func = null;\n\t      return memo;\n\t    };\n\t  };\n\t\n\t  // Returns a function that will be executed at most one time, no matter how\n\t  // often you call it. Useful for lazy initialization.\n\t  _.once = _.partial(_.before, 2);\n\t\n\t  // Object Functions\n\t  // ----------------\n\t\n\t  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n\t  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n\t  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n\t                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\t\n\t  function collectNonEnumProps(obj, keys) {\n\t    var nonEnumIdx = nonEnumerableProps.length;\n\t    var constructor = obj.constructor;\n\t    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\t\n\t    // Constructor is a special case.\n\t    var prop = 'constructor';\n\t    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\t\n\t    while (nonEnumIdx--) {\n\t      prop = nonEnumerableProps[nonEnumIdx];\n\t      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n\t        keys.push(prop);\n\t      }\n\t    }\n\t  }\n\t\n\t  // Retrieve the names of an object's own properties.\n\t  // Delegates to **ECMAScript 5**'s native `Object.keys`\n\t  _.keys = function(obj) {\n\t    if (!_.isObject(obj)) return [];\n\t    if (nativeKeys) return nativeKeys(obj);\n\t    var keys = [];\n\t    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  };\n\t\n\t  // Retrieve all the property names of an object.\n\t  _.allKeys = function(obj) {\n\t    if (!_.isObject(obj)) return [];\n\t    var keys = [];\n\t    for (var key in obj) keys.push(key);\n\t    // Ahem, IE < 9.\n\t    if (hasEnumBug) collectNonEnumProps(obj, keys);\n\t    return keys;\n\t  };\n\t\n\t  // Retrieve the values of an object's properties.\n\t  _.values = function(obj) {\n\t    var keys = _.keys(obj);\n\t    var length = keys.length;\n\t    var values = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      values[i] = obj[keys[i]];\n\t    }\n\t    return values;\n\t  };\n\t\n\t  // Returns the results of applying the iteratee to each element of the object\n\t  // In contrast to _.map it returns an object\n\t  _.mapObject = function(obj, iteratee, context) {\n\t    iteratee = cb(iteratee, context);\n\t    var keys =  _.keys(obj),\n\t          length = keys.length,\n\t          results = {},\n\t          currentKey;\n\t      for (var index = 0; index < length; index++) {\n\t        currentKey = keys[index];\n\t        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n\t      }\n\t      return results;\n\t  };\n\t\n\t  // Convert an object into a list of `[key, value]` pairs.\n\t  _.pairs = function(obj) {\n\t    var keys = _.keys(obj);\n\t    var length = keys.length;\n\t    var pairs = Array(length);\n\t    for (var i = 0; i < length; i++) {\n\t      pairs[i] = [keys[i], obj[keys[i]]];\n\t    }\n\t    return pairs;\n\t  };\n\t\n\t  // Invert the keys and values of an object. The values must be serializable.\n\t  _.invert = function(obj) {\n\t    var result = {};\n\t    var keys = _.keys(obj);\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      result[obj[keys[i]]] = keys[i];\n\t    }\n\t    return result;\n\t  };\n\t\n\t  // Return a sorted list of the function names available on the object.\n\t  // Aliased as `methods`\n\t  _.functions = _.methods = function(obj) {\n\t    var names = [];\n\t    for (var key in obj) {\n\t      if (_.isFunction(obj[key])) names.push(key);\n\t    }\n\t    return names.sort();\n\t  };\n\t\n\t  // Extend a given object with all the properties in passed-in object(s).\n\t  _.extend = createAssigner(_.allKeys);\n\t\n\t  // Assigns a given object with all the own properties in the passed-in object(s)\n\t  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n\t  _.extendOwn = _.assign = createAssigner(_.keys);\n\t\n\t  // Returns the first key on an object that passes a predicate test\n\t  _.findKey = function(obj, predicate, context) {\n\t    predicate = cb(predicate, context);\n\t    var keys = _.keys(obj), key;\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      key = keys[i];\n\t      if (predicate(obj[key], key, obj)) return key;\n\t    }\n\t  };\n\t\n\t  // Return a copy of the object only containing the whitelisted properties.\n\t  _.pick = function(object, oiteratee, context) {\n\t    var result = {}, obj = object, iteratee, keys;\n\t    if (obj == null) return result;\n\t    if (_.isFunction(oiteratee)) {\n\t      keys = _.allKeys(obj);\n\t      iteratee = optimizeCb(oiteratee, context);\n\t    } else {\n\t      keys = flatten(arguments, false, false, 1);\n\t      iteratee = function(value, key, obj) { return key in obj; };\n\t      obj = Object(obj);\n\t    }\n\t    for (var i = 0, length = keys.length; i < length; i++) {\n\t      var key = keys[i];\n\t      var value = obj[key];\n\t      if (iteratee(value, key, obj)) result[key] = value;\n\t    }\n\t    return result;\n\t  };\n\t\n\t   // Return a copy of the object without the blacklisted properties.\n\t  _.omit = function(obj, iteratee, context) {\n\t    if (_.isFunction(iteratee)) {\n\t      iteratee = _.negate(iteratee);\n\t    } else {\n\t      var keys = _.map(flatten(arguments, false, false, 1), String);\n\t      iteratee = function(value, key) {\n\t        return !_.contains(keys, key);\n\t      };\n\t    }\n\t    return _.pick(obj, iteratee, context);\n\t  };\n\t\n\t  // Fill in a given object with default properties.\n\t  _.defaults = createAssigner(_.allKeys, true);\n\t\n\t  // Creates an object that inherits from the given prototype object.\n\t  // If additional properties are provided then they will be added to the\n\t  // created object.\n\t  _.create = function(prototype, props) {\n\t    var result = baseCreate(prototype);\n\t    if (props) _.extendOwn(result, props);\n\t    return result;\n\t  };\n\t\n\t  // Create a (shallow-cloned) duplicate of an object.\n\t  _.clone = function(obj) {\n\t    if (!_.isObject(obj)) return obj;\n\t    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n\t  };\n\t\n\t  // Invokes interceptor with the obj, and then returns obj.\n\t  // The primary purpose of this method is to \"tap into\" a method chain, in\n\t  // order to perform operations on intermediate results within the chain.\n\t  _.tap = function(obj, interceptor) {\n\t    interceptor(obj);\n\t    return obj;\n\t  };\n\t\n\t  // Returns whether an object has a given set of `key:value` pairs.\n\t  _.isMatch = function(object, attrs) {\n\t    var keys = _.keys(attrs), length = keys.length;\n\t    if (object == null) return !length;\n\t    var obj = Object(object);\n\t    for (var i = 0; i < length; i++) {\n\t      var key = keys[i];\n\t      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n\t    }\n\t    return true;\n\t  };\n\t\n\t\n\t  // Internal recursive comparison function for `isEqual`.\n\t  var eq = function(a, b, aStack, bStack) {\n\t    // Identical objects are equal. `0 === -0`, but they aren't identical.\n\t    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n\t    if (a === b) return a !== 0 || 1 / a === 1 / b;\n\t    // A strict comparison is necessary because `null == undefined`.\n\t    if (a == null || b == null) return a === b;\n\t    // Unwrap any wrapped objects.\n\t    if (a instanceof _) a = a._wrapped;\n\t    if (b instanceof _) b = b._wrapped;\n\t    // Compare `[[Class]]` names.\n\t    var className = toString.call(a);\n\t    if (className !== toString.call(b)) return false;\n\t    switch (className) {\n\t      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n\t      case '[object RegExp]':\n\t      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n\t      case '[object String]':\n\t        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n\t        // equivalent to `new String(\"5\")`.\n\t        return '' + a === '' + b;\n\t      case '[object Number]':\n\t        // `NaN`s are equivalent, but non-reflexive.\n\t        // Object(NaN) is equivalent to NaN\n\t        if (+a !== +a) return +b !== +b;\n\t        // An `egal` comparison is performed for other numeric values.\n\t        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n\t      case '[object Date]':\n\t      case '[object Boolean]':\n\t        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n\t        // millisecond representations. Note that invalid dates with millisecond representations\n\t        // of `NaN` are not equivalent.\n\t        return +a === +b;\n\t    }\n\t\n\t    var areArrays = className === '[object Array]';\n\t    if (!areArrays) {\n\t      if (typeof a != 'object' || typeof b != 'object') return false;\n\t\n\t      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n\t      // from different frames are.\n\t      var aCtor = a.constructor, bCtor = b.constructor;\n\t      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n\t                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n\t                          && ('constructor' in a && 'constructor' in b)) {\n\t        return false;\n\t      }\n\t    }\n\t    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n\t    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\t\n\t    // Initializing stack of traversed objects.\n\t    // It's done here since we only need them for objects and arrays comparison.\n\t    aStack = aStack || [];\n\t    bStack = bStack || [];\n\t    var length = aStack.length;\n\t    while (length--) {\n\t      // Linear search. Performance is inversely proportional to the number of\n\t      // unique nested structures.\n\t      if (aStack[length] === a) return bStack[length] === b;\n\t    }\n\t\n\t    // Add the first object to the stack of traversed objects.\n\t    aStack.push(a);\n\t    bStack.push(b);\n\t\n\t    // Recursively compare objects and arrays.\n\t    if (areArrays) {\n\t      // Compare array lengths to determine if a deep comparison is necessary.\n\t      length = a.length;\n\t      if (length !== b.length) return false;\n\t      // Deep compare the contents, ignoring non-numeric properties.\n\t      while (length--) {\n\t        if (!eq(a[length], b[length], aStack, bStack)) return false;\n\t      }\n\t    } else {\n\t      // Deep compare objects.\n\t      var keys = _.keys(a), key;\n\t      length = keys.length;\n\t      // Ensure that both objects contain the same number of properties before comparing deep equality.\n\t      if (_.keys(b).length !== length) return false;\n\t      while (length--) {\n\t        // Deep compare each member\n\t        key = keys[length];\n\t        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n\t      }\n\t    }\n\t    // Remove the first object from the stack of traversed objects.\n\t    aStack.pop();\n\t    bStack.pop();\n\t    return true;\n\t  };\n\t\n\t  // Perform a deep comparison to check if two objects are equal.\n\t  _.isEqual = function(a, b) {\n\t    return eq(a, b);\n\t  };\n\t\n\t  // Is a given array, string, or object empty?\n\t  // An \"empty\" object has no enumerable own-properties.\n\t  _.isEmpty = function(obj) {\n\t    if (obj == null) return true;\n\t    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n\t    return _.keys(obj).length === 0;\n\t  };\n\t\n\t  // Is a given value a DOM element?\n\t  _.isElement = function(obj) {\n\t    return !!(obj && obj.nodeType === 1);\n\t  };\n\t\n\t  // Is a given value an array?\n\t  // Delegates to ECMA5's native Array.isArray\n\t  _.isArray = nativeIsArray || function(obj) {\n\t    return toString.call(obj) === '[object Array]';\n\t  };\n\t\n\t  // Is a given variable an object?\n\t  _.isObject = function(obj) {\n\t    var type = typeof obj;\n\t    return type === 'function' || type === 'object' && !!obj;\n\t  };\n\t\n\t  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n\t  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n\t    _['is' + name] = function(obj) {\n\t      return toString.call(obj) === '[object ' + name + ']';\n\t    };\n\t  });\n\t\n\t  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n\t  // there isn't any inspectable \"Arguments\" type.\n\t  if (!_.isArguments(arguments)) {\n\t    _.isArguments = function(obj) {\n\t      return _.has(obj, 'callee');\n\t    };\n\t  }\n\t\n\t  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n\t  // IE 11 (#1621), and in Safari 8 (#1929).\n\t  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n\t    _.isFunction = function(obj) {\n\t      return typeof obj == 'function' || false;\n\t    };\n\t  }\n\t\n\t  // Is a given object a finite number?\n\t  _.isFinite = function(obj) {\n\t    return isFinite(obj) && !isNaN(parseFloat(obj));\n\t  };\n\t\n\t  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n\t  _.isNaN = function(obj) {\n\t    return _.isNumber(obj) && obj !== +obj;\n\t  };\n\t\n\t  // Is a given value a boolean?\n\t  _.isBoolean = function(obj) {\n\t    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n\t  };\n\t\n\t  // Is a given value equal to null?\n\t  _.isNull = function(obj) {\n\t    return obj === null;\n\t  };\n\t\n\t  // Is a given variable undefined?\n\t  _.isUndefined = function(obj) {\n\t    return obj === void 0;\n\t  };\n\t\n\t  // Shortcut function for checking if an object has a given property directly\n\t  // on itself (in other words, not on a prototype).\n\t  _.has = function(obj, key) {\n\t    return obj != null && hasOwnProperty.call(obj, key);\n\t  };\n\t\n\t  // Utility Functions\n\t  // -----------------\n\t\n\t  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n\t  // previous owner. Returns a reference to the Underscore object.\n\t  _.noConflict = function() {\n\t    root._ = previousUnderscore;\n\t    return this;\n\t  };\n\t\n\t  // Keep the identity function around for default iteratees.\n\t  _.identity = function(value) {\n\t    return value;\n\t  };\n\t\n\t  // Predicate-generating functions. Often useful outside of Underscore.\n\t  _.constant = function(value) {\n\t    return function() {\n\t      return value;\n\t    };\n\t  };\n\t\n\t  _.noop = function(){};\n\t\n\t  _.property = property;\n\t\n\t  // Generates a function for a given object that returns a given property.\n\t  _.propertyOf = function(obj) {\n\t    return obj == null ? function(){} : function(key) {\n\t      return obj[key];\n\t    };\n\t  };\n\t\n\t  // Returns a predicate for checking whether an object has a given set of\n\t  // `key:value` pairs.\n\t  _.matcher = _.matches = function(attrs) {\n\t    attrs = _.extendOwn({}, attrs);\n\t    return function(obj) {\n\t      return _.isMatch(obj, attrs);\n\t    };\n\t  };\n\t\n\t  // Run a function **n** times.\n\t  _.times = function(n, iteratee, context) {\n\t    var accum = Array(Math.max(0, n));\n\t    iteratee = optimizeCb(iteratee, context, 1);\n\t    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n\t    return accum;\n\t  };\n\t\n\t  // Return a random integer between min and max (inclusive).\n\t  _.random = function(min, max) {\n\t    if (max == null) {\n\t      max = min;\n\t      min = 0;\n\t    }\n\t    return min + Math.floor(Math.random() * (max - min + 1));\n\t  };\n\t\n\t  // A (possibly faster) way to get the current timestamp as an integer.\n\t  _.now = Date.now || function() {\n\t    return new Date().getTime();\n\t  };\n\t\n\t   // List of HTML entities for escaping.\n\t  var escapeMap = {\n\t    '&': '&amp;',\n\t    '<': '&lt;',\n\t    '>': '&gt;',\n\t    '\"': '&quot;',\n\t    \"'\": '&#x27;',\n\t    '`': '&#x60;'\n\t  };\n\t  var unescapeMap = _.invert(escapeMap);\n\t\n\t  // Functions for escaping and unescaping strings to/from HTML interpolation.\n\t  var createEscaper = function(map) {\n\t    var escaper = function(match) {\n\t      return map[match];\n\t    };\n\t    // Regexes for identifying a key that needs to be escaped\n\t    var source = '(?:' + _.keys(map).join('|') + ')';\n\t    var testRegexp = RegExp(source);\n\t    var replaceRegexp = RegExp(source, 'g');\n\t    return function(string) {\n\t      string = string == null ? '' : '' + string;\n\t      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n\t    };\n\t  };\n\t  _.escape = createEscaper(escapeMap);\n\t  _.unescape = createEscaper(unescapeMap);\n\t\n\t  // If the value of the named `property` is a function then invoke it with the\n\t  // `object` as context; otherwise, return it.\n\t  _.result = function(object, property, fallback) {\n\t    var value = object == null ? void 0 : object[property];\n\t    if (value === void 0) {\n\t      value = fallback;\n\t    }\n\t    return _.isFunction(value) ? value.call(object) : value;\n\t  };\n\t\n\t  // Generate a unique integer id (unique within the entire client session).\n\t  // Useful for temporary DOM ids.\n\t  var idCounter = 0;\n\t  _.uniqueId = function(prefix) {\n\t    var id = ++idCounter + '';\n\t    return prefix ? prefix + id : id;\n\t  };\n\t\n\t  // By default, Underscore uses ERB-style template delimiters, change the\n\t  // following template settings to use alternative delimiters.\n\t  _.templateSettings = {\n\t    evaluate    : /<%([\\s\\S]+?)%>/g,\n\t    interpolate : /<%=([\\s\\S]+?)%>/g,\n\t    escape      : /<%-([\\s\\S]+?)%>/g\n\t  };\n\t\n\t  // When customizing `templateSettings`, if you don't want to define an\n\t  // interpolation, evaluation or escaping regex, we need one that is\n\t  // guaranteed not to match.\n\t  var noMatch = /(.)^/;\n\t\n\t  // Certain characters need to be escaped so that they can be put into a\n\t  // string literal.\n\t  var escapes = {\n\t    \"'\":      \"'\",\n\t    '\\\\':     '\\\\',\n\t    '\\r':     'r',\n\t    '\\n':     'n',\n\t    '\\u2028': 'u2028',\n\t    '\\u2029': 'u2029'\n\t  };\n\t\n\t  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\t\n\t  var escapeChar = function(match) {\n\t    return '\\\\' + escapes[match];\n\t  };\n\t\n\t  // JavaScript micro-templating, similar to John Resig's implementation.\n\t  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n\t  // and correctly escapes quotes within interpolated code.\n\t  // NB: `oldSettings` only exists for backwards compatibility.\n\t  _.template = function(text, settings, oldSettings) {\n\t    if (!settings && oldSettings) settings = oldSettings;\n\t    settings = _.defaults({}, settings, _.templateSettings);\n\t\n\t    // Combine delimiters into one regular expression via alternation.\n\t    var matcher = RegExp([\n\t      (settings.escape || noMatch).source,\n\t      (settings.interpolate || noMatch).source,\n\t      (settings.evaluate || noMatch).source\n\t    ].join('|') + '|$', 'g');\n\t\n\t    // Compile the template source, escaping string literals appropriately.\n\t    var index = 0;\n\t    var source = \"__p+='\";\n\t    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n\t      source += text.slice(index, offset).replace(escaper, escapeChar);\n\t      index = offset + match.length;\n\t\n\t      if (escape) {\n\t        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n\t      } else if (interpolate) {\n\t        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n\t      } else if (evaluate) {\n\t        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n\t      }\n\t\n\t      // Adobe VMs need the match returned to produce the correct offest.\n\t      return match;\n\t    });\n\t    source += \"';\\n\";\n\t\n\t    // If a variable is not specified, place data values in local scope.\n\t    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\t\n\t    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n\t      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n\t      source + 'return __p;\\n';\n\t\n\t    try {\n\t      var render = new Function(settings.variable || 'obj', '_', source);\n\t    } catch (e) {\n\t      e.source = source;\n\t      throw e;\n\t    }\n\t\n\t    var template = function(data) {\n\t      return render.call(this, data, _);\n\t    };\n\t\n\t    // Provide the compiled source as a convenience for precompilation.\n\t    var argument = settings.variable || 'obj';\n\t    template.source = 'function(' + argument + '){\\n' + source + '}';\n\t\n\t    return template;\n\t  };\n\t\n\t  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n\t  _.chain = function(obj) {\n\t    var instance = _(obj);\n\t    instance._chain = true;\n\t    return instance;\n\t  };\n\t\n\t  // OOP\n\t  // ---------------\n\t  // If Underscore is called as a function, it returns a wrapped object that\n\t  // can be used OO-style. This wrapper holds altered versions of all the\n\t  // underscore functions. Wrapped objects may be chained.\n\t\n\t  // Helper function to continue chaining intermediate results.\n\t  var result = function(instance, obj) {\n\t    return instance._chain ? _(obj).chain() : obj;\n\t  };\n\t\n\t  // Add your own custom functions to the Underscore object.\n\t  _.mixin = function(obj) {\n\t    _.each(_.functions(obj), function(name) {\n\t      var func = _[name] = obj[name];\n\t      _.prototype[name] = function() {\n\t        var args = [this._wrapped];\n\t        push.apply(args, arguments);\n\t        return result(this, func.apply(_, args));\n\t      };\n\t    });\n\t  };\n\t\n\t  // Add all of the Underscore functions to the wrapper object.\n\t  _.mixin(_);\n\t\n\t  // Add all mutator Array functions to the wrapper.\n\t  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _.prototype[name] = function() {\n\t      var obj = this._wrapped;\n\t      method.apply(obj, arguments);\n\t      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n\t      return result(this, obj);\n\t    };\n\t  });\n\t\n\t  // Add all accessor Array functions to the wrapper.\n\t  _.each(['concat', 'join', 'slice'], function(name) {\n\t    var method = ArrayProto[name];\n\t    _.prototype[name] = function() {\n\t      return result(this, method.apply(this._wrapped, arguments));\n\t    };\n\t  });\n\t\n\t  // Extracts the result from a wrapped and chained object.\n\t  _.prototype.value = function() {\n\t    return this._wrapped;\n\t  };\n\t\n\t  // Provide unwrapping proxy for some methods used in engine operations\n\t  // such as arithmetic and JSON stringification.\n\t  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\t\n\t  _.prototype.toString = function() {\n\t    return '' + this._wrapped;\n\t  };\n\t\n\t  // AMD registration happens at the end for compatibility with AMD loaders\n\t  // that may not enforce next-turn semantics on modules. Even though general\n\t  // practice for AMD registration is to be anonymous, underscore registers\n\t  // as a named module because, like jQuery, it is a base library that is\n\t  // popular enough to be bundled in a third party lib, but not be part of\n\t  // an AMD load request. Those cases could generate an error when an\n\t  // anonymous define() is called outside of a loader request.\n\t  if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t      return _;\n\t    }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t  }\n\t}.call(this));\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports.Model = __webpack_require__(44);\n\tmodule.exports.Collection = __webpack_require__(87);\n\tmodule.exports.Events = __webpack_require__(37);\n\tmodule.exports.extend = __webpack_require__(38);\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// this is the extracted view model from backbone\n\t// note that we inject jbone as jquery replacment\n\t// (and underscore directly)\n\t//\n\t// Views are almost more convention than they are actual code.\n\t//  MVC pattern\n\t// Backbone.View\n\t// -------------\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Events = __webpack_require__(90);\n\tvar extend = __webpack_require__(91);\n\tvar $ = __webpack_require__(7);\n\t\n\t// Backbone Views are almost more convention than they are actual code. A View\n\t// is simply a JavaScript object that represents a logical chunk of UI in the\n\t// DOM. This might be a single item, an entire list, a sidebar or panel, or\n\t// even the surrounding frame which wraps your whole app. Defining a chunk of\n\t// UI as a **View** allows you to define your DOM events declaratively, without\n\t// having to worry about render order ... and makes it easy for the view to\n\t// react to specific changes in the state of your models.\n\t\n\t// Creating a Backbone.View creates its initial element outside of the DOM,\n\t// if an existing element is not provided...\n\tvar View =  function(options) {\n\t  this.cid = _.uniqueId('view');\n\t  options || (options = {});\n\t  _.extend(this, _.pick(options, viewOptions));\n\t  this._ensureElement();\n\t  this.initialize.apply(this, arguments);\n\t};\n\t\n\t// Cached regex to split keys for `delegate`.\n\tvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\t\n\t// List of view options to be merged as properties.\n\tvar viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\t\n\t// Set up all inheritable **Backbone.View** properties and methods.\n\t_.extend(View.prototype, Events, {\n\t\n\t  // The default `tagName` of a View's element is `\"div\"`.\n\t  tagName: 'div',\n\t\n\t  // jQuery delegate for element lookup, scoped to DOM elements within the\n\t  // current view. This should be preferred to global lookups where possible.\n\t  $: function(selector) {\n\t    return this.$el.find(selector);\n\t  },\n\t\n\t    // Initialize is an empty function by default. Override it with your own\n\t    // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // **render** is the core function that your view should override, in order\n\t    // to populate its element (`this.el`), with the appropriate HTML. The\n\t    // convention is for **render** to always return `this`.\n\t  render: function() {\n\t    return this;\n\t  },\n\t\n\t    // Remove this view by taking the element out of the DOM, and removing any\n\t    // applicable Backbone.Events listeners.\n\t  remove: function() {\n\t    this._removeElement();\n\t    this.stopListening();\n\t    return this;\n\t  },\n\t\n\t    // Remove this view's element from the document and all event listeners\n\t    // attached to it. Exposed for subclasses using an alternative DOM\n\t    // manipulation API.\n\t  _removeElement: function() {\n\t    this.$el.remove();\n\t  },\n\t\n\t    // Change the view's element (`this.el` property) and re-delegate the\n\t    // view's events on the new element.\n\t  setElement: function(element) {\n\t    this.undelegateEvents();\n\t    this._setElement(element);\n\t    this.delegateEvents();\n\t    return this;\n\t  },\n\t\n\t    // Creates the `this.el` and `this.$el` references for this view using the\n\t    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n\t    // context or an element. Subclasses can override this to utilize an\n\t    // alternative DOM manipulation API and are only required to set the\n\t    // `this.el` property.\n\t  _setElement: function(el) {\n\t    this.$el = el instanceof $ ? el : $(el);\n\t    this.el = this.$el[0];\n\t  },\n\t\n\t    // Set callbacks, where `this.events` is a hash of\n\t    //\n\t    // *{\"event selector\": \"callback\"}*\n\t    //\n\t    //     {\n\t    //       'mousedown .title':  'edit',\n\t    //       'click .button':     'save',\n\t    //       'click .open':       function(e) { ... }\n\t    //     }\n\t    //\n\t    // pairs. Callbacks will be bound to the view, with `this` set properly.\n\t    // Uses event delegation for efficiency.\n\t    // Omitting the selector binds the event to `this.el`.\n\t  delegateEvents: function(events) {\n\t    if (!(events || (events = _.result(this, 'events')))) return this;\n\t    this.undelegateEvents();\n\t    for (var key in events) {\n\t      var method = events[key];\n\t      if (!_.isFunction(method)) method = this[events[key]];\n\t      if (!method) continue;\n\t      var match = key.match(delegateEventSplitter);\n\t      this.delegate(match[1], match[2], _.bind(method, this));\n\t    }\n\t    return this;\n\t  },\n\t\n\t    // Add a single event listener to the view's element (or a child element\n\t    // using `selector`). This only works for delegate-able events: not `focus`,\n\t    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n\t  delegate: function(eventName, selector, listener) {\n\t    this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n\t  },\n\t\n\t    // Clears all callbacks previously bound to the view by `delegateEvents`.\n\t    // You usually don't need to use this, but may wish to if you have multiple\n\t    // Backbone views attached to the same DOM element.\n\t  undelegateEvents: function() {\n\t    if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n\t    return this;\n\t  },\n\t\n\t    // A finer-grained `undelegateEvents` for removing a single delegated event.\n\t    // `selector` and `listener` are both optional.\n\t  undelegate: function(eventName, selector, listener) {\n\t    this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n\t  },\n\t\n\t    // Produces a DOM element to be assigned to your view. Exposed for\n\t    // subclasses using an alternative DOM manipulation API.\n\t  _createElement: function(tagName) {\n\t    return document.createElement(tagName);\n\t  },\n\t\n\t    // Ensure that the View has a DOM element to render into.\n\t    // If `this.el` is a string, pass it through `$()`, take the first\n\t    // matching element, and re-assign it to `el`. Otherwise, create\n\t    // an element from the `id`, `className` and `tagName` properties.\n\t  _ensureElement: function() {\n\t    if (!this.el) {\n\t      var attrs = _.extend({}, _.result(this, 'attributes'));\n\t      if (this.id) attrs.id = _.result(this, 'id');\n\t      if (this.className) attrs['class'] = _.result(this, 'className');\n\t      this.setElement(this._createElement(_.result(this, 'tagName')));\n\t      this._setAttributes(attrs);\n\t    } else {\n\t      this.setElement(_.result(this, 'el'));\n\t    }\n\t  },\n\t\n\t    // Set attributes from a hash on this view's element.  Exposed for\n\t    // subclasses using an alternative DOM manipulation API.\n\t  _setAttributes: function(attributes) {\n\t    this.$el.attr(attributes);\n\t  }\n\t\n\t});\n\t\n\t// setup inheritance\n\tView.extend = extend;\n\tmodule.exports = View;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuBuilder;\n\tvar builder = __webpack_require__(140);\n\t\n\tmodule.exports = MenuBuilder = builder.extend({\n\t\n\t  buildDOM: function buildDOM() {\n\t    this.on(\"new:node\", this.buildNode);\n\t    this.on(\"new:button\", this.buildButton);\n\t    this.on(\"new:menu\", this.buildMenu);\n\t    return builder.prototype.buildDOM.call(this);\n\t  },\n\t\n\t  buildNode: function buildNode(li) {\n\t    if (this.g != null) {\n\t      return li.style.lineHeight = this.g.menuconfig.get(\"menuItemLineHeight\");\n\t    }\n\t  },\n\t\n\t  buildButton: function buildButton(btn) {\n\t    if (this.g != null) {\n\t      btn.style.fontSize = this.g.menuconfig.get(\"menuFontsize\");\n\t      btn.style.marginLeft = this.g.menuconfig.get(\"menuMarginLeft\");\n\t      return btn.style.padding = this.g.menuconfig.get(\"menuPadding\");\n\t    }\n\t  },\n\t\n\t  buildMenu: function buildMenu(menu) {\n\t    if (this.g != null) {\n\t      return menu.style.fontSize = this.g.menuconfig.get(\"menuItemFontsize\");\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(1);\n\tvar viewType = __webpack_require__(3);\n\tvar pluginator;\n\t\n\t/**\n\t * Remove an element and provide a function that inserts it into its original position\n\t * @param element {Element} The element to be temporarily removed\n\t * @return {Function} A function that inserts the element into its original position\n\t **/\n\tfunction removeToInsertLater(element) {\n\t  var parentNode = element.parentNode;\n\t  var nextSibling = element.nextSibling;\n\t  parentNode.removeChild(element);\n\t  return function() {\n\t    if (nextSibling) {\n\t      parentNode.insertBefore(element, nextSibling);\n\t    } else {\n\t      parentNode.appendChild(element);\n\t    }\n\t  };\n\t}\n\t\n\tvar removeChilds = function (node) {\n\t    var last;\n\t    while (last = node.lastChild) node.removeChild(last);\n\t};\n\t\n\tmodule.exports = pluginator = viewType.extend({\n\t  renderSubviews: function() {\n\t    // it is faster to remove the entire element and replace it\n\t    // -> however this will lead to lost id,class and style props\n\t    var oldEl = this.el;\n\t\n\t    // it might be that the element is not on the DOM yet\n\t    var elOnDom = oldEl.parentNode != undefined;\n\t    if(elOnDom){\n\t      var insert = removeToInsertLater(oldEl)\n\t    }\n\t    removeChilds(oldEl);\n\t\n\t    var frag = document.createDocumentFragment();\n\t    var views = this._views();\n\t    var viewsSorted = _.sortBy(views, function(el) {\n\t      return el.ordering;\n\t    });\n\t    var view, node;\n\t    for (var i = 0; i <  viewsSorted.length; i++) {\n\t      view = viewsSorted[i];\n\t      view.render();\n\t      node = view.el;\n\t      if (node != null) {\n\t        frag.appendChild(node);\n\t      }\n\t    }\n\t\n\t    oldEl.appendChild(frag);\n\t    if(elOnDom){\n\t      insert();\n\t    }\n\t    return oldEl;\n\t  },\n\t  addView: function(key, view) {\n\t    var views = this._views();\n\t    if (view == null) {\n\t      throw \"Invalid plugin. \";\n\t    }\n\t    if (view.ordering == null) {\n\t      view.ordering = key;\n\t    }\n\t    return views[key] = view;\n\t  },\n\t  removeViews: function() {\n\t    var el, key;\n\t    var views = this._views();\n\t    for (key in views) {\n\t      el = views[key];\n\t      el.undelegateEvents();\n\t      el.unbind();\n\t      if (el.removeViews != null) {\n\t        el.removeViews();\n\t      }\n\t      el.remove();\n\t    }\n\t    return this.views = {};\n\t  },\n\t  removeView: function(key) {\n\t    var views = this._views();\n\t    views[key].remove();\n\t    return delete views[key];\n\t  },\n\t  getView: function(key) {\n\t    var views = this._views();\n\t    return views[key];\n\t  },\n\t  remove: function() {\n\t    this.removeViews();\n\t    return viewType.prototype.remove.apply(this);\n\t  },\n\t  _views: function() {\n\t    if (this.views == null) {\n\t      this.views = {};\n\t    }\n\t    return this.views;\n\t  }\n\t});\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\tvar Utils = {};\n\t\n\t\n\t/*\n\tRemove an element and provide a function that inserts it into its original position\n\thttps://developers.google.com/speed/articles/javascript-dom\n\t@param element {Element} The element to be temporarily removed\n\t@return {Function} A function that inserts the element into its original position\n\t */\n\t\n\tUtils.removeToInsertLater = function(element) {\n\t  var nextSibling, parentNode;\n\t  parentNode = element.parentNode;\n\t  nextSibling = element.nextSibling;\n\t  parentNode.removeChild(element);\n\t  return function() {\n\t    if (nextSibling) {\n\t      parentNode.insertBefore(element, nextSibling);\n\t    } else {\n\t      parentNode.appendChild(element);\n\t    }\n\t  };\n\t};\n\t\n\t\n\t/*\n\tfastest possible way to destroy all sub nodes (aka childs)\n\thttp://jsperf.com/innerhtml-vs-removechild/15\n\t@param element {Element} The element for which all childs should be removed\n\t */\n\t\n\tUtils.removeAllChilds = function(element) {\n\t  var count;\n\t  count = 0;\n\t  while (element.firstChild) {\n\t    count++;\n\t    element.removeChild(element.firstChild);\n\t  }\n\t};\n\t\n\tmodule.exports = Utils;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {/*!\n\t * jBone v1.2.0 - 2016-04-13 - Library for DOM manipulation\n\t *\n\t * http://jbone.js.org\n\t *\n\t * Copyright 2016 Alexey Kupriyanenko\n\t * Released under the MIT license.\n\t */\n\t\n\t(function (win) {\n\t\n\tvar\n\t// cache previous versions\n\t_$ = win.$,\n\t_jBone = win.jBone,\n\t\n\t// Quick match a standalone tag\n\trquickSingleTag = /^<(\\w+)\\s*\\/?>$/,\n\t\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash\n\trquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\t\n\t// Alias for function\n\tslice = [].slice,\n\tsplice = [].splice,\n\tkeys = Object.keys,\n\t\n\t// Alias for global variables\n\tdoc = document,\n\t\n\tisString = function(el) {\n\t    return typeof el === \"string\";\n\t},\n\tisObject = function(el) {\n\t    return el instanceof Object;\n\t},\n\tisFunction = function(el) {\n\t    return ({}).toString.call(el) === \"[object Function]\";\n\t},\n\tisArray = function(el) {\n\t    return Array.isArray(el);\n\t},\n\tjBone = function(element, data) {\n\t    return new fn.init(element, data);\n\t},\n\tfn;\n\t\n\t// set previous values and return the instance upon calling the no-conflict mode\n\tjBone.noConflict = function() {\n\t    win.$ = _$;\n\t    win.jBone = _jBone;\n\t\n\t    return jBone;\n\t};\n\t\n\tfn = jBone.fn = jBone.prototype = {\n\t    init: function(element, data) {\n\t        var elements, tag, wraper, fragment;\n\t\n\t        if (!element) {\n\t            return this;\n\t        }\n\t        if (isString(element)) {\n\t            // Create single DOM element\n\t            if (tag = rquickSingleTag.exec(element)) {\n\t                this[0] = doc.createElement(tag[1]);\n\t                this.length = 1;\n\t\n\t                if (isObject(data)) {\n\t                    this.attr(data);\n\t                }\n\t\n\t                return this;\n\t            }\n\t            // Create DOM collection\n\t            if ((tag = rquickExpr.exec(element)) && tag[1]) {\n\t                fragment = doc.createDocumentFragment();\n\t                wraper = doc.createElement(\"div\");\n\t                wraper.innerHTML = element;\n\t                while (wraper.lastChild) {\n\t                    fragment.appendChild(wraper.firstChild);\n\t                }\n\t                elements = slice.call(fragment.childNodes);\n\t\n\t                return jBone.merge(this, elements);\n\t            }\n\t            // Find DOM elements with querySelectorAll\n\t            if (jBone.isElement(data)) {\n\t                return jBone(data).find(element);\n\t            }\n\t\n\t            try {\n\t                elements = doc.querySelectorAll(element);\n\t\n\t                return jBone.merge(this, elements);\n\t            } catch (e) {\n\t                return this;\n\t            }\n\t        }\n\t        // Wrap DOMElement\n\t        if (element.nodeType) {\n\t            this[0] = element;\n\t            this.length = 1;\n\t\n\t            return this;\n\t        }\n\t        // Run function\n\t        if (isFunction(element)) {\n\t            return element();\n\t        }\n\t        // Return jBone element as is\n\t        if (element instanceof jBone) {\n\t            return element;\n\t        }\n\t\n\t        // Return element wrapped by jBone\n\t        return jBone.makeArray(element, this);\n\t    },\n\t\n\t    pop: [].pop,\n\t    push: [].push,\n\t    reverse: [].reverse,\n\t    shift: [].shift,\n\t    sort: [].sort,\n\t    splice: [].splice,\n\t    slice: [].slice,\n\t    indexOf: [].indexOf,\n\t    forEach: [].forEach,\n\t    unshift: [].unshift,\n\t    concat: [].concat,\n\t    join: [].join,\n\t    every: [].every,\n\t    some: [].some,\n\t    filter: [].filter,\n\t    map: [].map,\n\t    reduce: [].reduce,\n\t    reduceRight: [].reduceRight,\n\t    length: 0\n\t};\n\t\n\tfn.constructor = jBone;\n\t\n\tfn.init.prototype = fn;\n\t\n\tjBone.setId = function(el) {\n\t    var jid = el.jid;\n\t\n\t    if (el === win) {\n\t        jid = \"window\";\n\t    } else if (el.jid === undefined) {\n\t        el.jid = jid = ++jBone._cache.jid;\n\t    }\n\t\n\t    if (!jBone._cache.events[jid]) {\n\t        jBone._cache.events[jid] = {};\n\t    }\n\t};\n\t\n\tjBone.getData = function(el) {\n\t    el = el instanceof jBone ? el[0] : el;\n\t\n\t    var jid = el === win ? \"window\" : el.jid;\n\t\n\t    return {\n\t        jid: jid,\n\t        events: jBone._cache.events[jid]\n\t    };\n\t};\n\t\n\tjBone.isElement = function(el) {\n\t    return el && el instanceof jBone || el instanceof HTMLElement || isString(el);\n\t};\n\t\n\tjBone._cache = {\n\t    events: {},\n\t    jid: 0\n\t};\n\t\n\tfunction isArraylike(obj) {\n\t    var length = obj.length,\n\t        type = typeof obj;\n\t\n\t    if (isFunction(type) || obj === win) {\n\t        return false;\n\t    }\n\t\n\t    if (obj.nodeType === 1 && length) {\n\t        return true;\n\t    }\n\t\n\t    return isArray(type) || length === 0 ||\n\t        typeof length === \"number\" && length > 0 && (length - 1) in obj;\n\t}\n\t\n\tfn.pushStack = function(elems) {\n\t    var ret = jBone.merge(this.constructor(), elems);\n\t\n\t    return ret;\n\t};\n\t\n\tjBone.merge = function(first, second) {\n\t    var l = second.length,\n\t        i = first.length,\n\t        j = 0;\n\t\n\t    while (j < l) {\n\t        first[i++] = second[j++];\n\t    }\n\t\n\t    first.length = i;\n\t\n\t    return first;\n\t};\n\t\n\tjBone.contains = function(container, contained) {\n\t    return container.contains(contained);\n\t};\n\t\n\tjBone.extend = function(target) {\n\t    var tg;\n\t\n\t    splice.call(arguments, 1).forEach(function(source) {\n\t        tg = target; //caching target for perf improvement\n\t\n\t        if (source) {\n\t            for (var prop in source) {\n\t                tg[prop] = source[prop];\n\t            }\n\t        }\n\t    });\n\t\n\t    return target;\n\t};\n\t\n\tjBone.makeArray = function(arr, results) {\n\t    var ret = results || [];\n\t\n\t    if (arr !== null) {\n\t        if (isArraylike(arr)) {\n\t            jBone.merge(ret, isString(arr) ? [arr] : arr);\n\t        } else {\n\t            ret.push(arr);\n\t        }\n\t    }\n\t\n\t    return ret;\n\t};\n\t\n\tjBone.unique = function(array) {\n\t    if (array == null) {\n\t        return [];\n\t    }\n\t\n\t    var result = [];\n\t\n\t    for (var i = 0, length = array.length; i < length; i++) {\n\t        var value = array[i];\n\t        if (result.indexOf(value) < 0) {\n\t            result.push(value);\n\t        }\n\t    }\n\t    return result;\n\t};\n\t\n\tfunction BoneEvent(e, data) {\n\t    var key, setter;\n\t\n\t    this.originalEvent = e;\n\t\n\t    setter = function(key, e) {\n\t        if (key === \"preventDefault\") {\n\t            this[key] = function() {\n\t                this.defaultPrevented = true;\n\t                return e[key]();\n\t            };\n\t        } else if (key === \"stopImmediatePropagation\") {\n\t            this[key] = function() {\n\t                this.immediatePropagationStopped = true;\n\t                return e[key]();\n\t            };\n\t        } else if (isFunction(e[key])) {\n\t            this[key] = function() {\n\t                return e[key]();\n\t            };\n\t        } else {\n\t            this[key] = e[key];\n\t        }\n\t    };\n\t\n\t    for (key in e) {\n\t        if (e[key] || typeof e[key] === \"function\") {\n\t            setter.call(this, key, e);\n\t        }\n\t    }\n\t\n\t    jBone.extend(this, data, {\n\t        isImmediatePropagationStopped: function() {\n\t            return !!this.immediatePropagationStopped;\n\t        }\n\t    });\n\t}\n\t\n\tjBone.Event = function(event, data) {\n\t    var namespace, eventType;\n\t\n\t    if (event.type && !data) {\n\t        data = event;\n\t        event = event.type;\n\t    }\n\t\n\t    namespace = event.split(\".\").splice(1).join(\".\");\n\t    eventType = event.split(\".\")[0];\n\t\n\t    event = doc.createEvent(\"Event\");\n\t    event.initEvent(eventType, true, true);\n\t\n\t    return jBone.extend(event, {\n\t        namespace: namespace,\n\t        isDefaultPrevented: function() {\n\t            return event.defaultPrevented;\n\t        }\n\t    }, data);\n\t};\n\t\n\tjBone.event = {\n\t\n\t    /**\n\t     * Attach a handler to an event for the elements\n\t     * @param {Node}        el         - Events will be attached to this DOM Node\n\t     * @param {String}      types      - One or more space-separated event types and optional namespaces\n\t     * @param {Function}    handler    - A function to execute when the event is triggered\n\t     * @param {Object}      [data]     - Data to be passed to the handler in event.data\n\t     * @param {String}      [selector] - A selector string to filter the descendants of the selected elements\n\t     */\n\t    add: function(el, types, handler, data, selector) {\n\t        jBone.setId(el);\n\t\n\t        var eventHandler = function(e) {\n\t                jBone.event.dispatch.call(el, e);\n\t            },\n\t            events = jBone.getData(el).events,\n\t            eventType, t, event;\n\t\n\t        types = types.split(\" \");\n\t        t = types.length;\n\t        while (t--) {\n\t            event = types[t];\n\t\n\t            eventType = event.split(\".\")[0];\n\t            events[eventType] = events[eventType] || [];\n\t\n\t            if (events[eventType].length) {\n\t                // override with previous event handler\n\t                eventHandler = events[eventType][0].fn;\n\t            } else {\n\t                el.addEventListener && el.addEventListener(eventType, eventHandler, false);\n\t            }\n\t\n\t            events[eventType].push({\n\t                namespace: event.split(\".\").splice(1).join(\".\"),\n\t                fn: eventHandler,\n\t                selector: selector,\n\t                data: data,\n\t                originfn: handler\n\t            });\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Remove an event handler\n\t     * @param  {Node}       el        - Events will be deattached from this DOM Node\n\t     * @param  {String}     types     - One or more space-separated event types and optional namespaces\n\t     * @param  {Function}   handler   - A handler function previously attached for the event(s)\n\t     * @param  {String}     [selector] - A selector string to filter the descendants of the selected elements\n\t     */\n\t    remove: function(el, types, handler, selector) {\n\t        var removeListener = function(events, eventType, index, el, e) {\n\t                var callback;\n\t\n\t                // get callback\n\t                if ((handler && e.originfn === handler) || !handler) {\n\t                    callback = e.fn;\n\t                }\n\t\n\t                if (events[eventType][index].fn === callback) {\n\t                    // remove handler from cache\n\t                    events[eventType].splice(index, 1);\n\t\n\t                    if (!events[eventType].length) {\n\t                        el.removeEventListener(eventType, callback);\n\t                    }\n\t                }\n\t            },\n\t            events = jBone.getData(el).events,\n\t            l,\n\t            eventsByType;\n\t\n\t        if (!events) {\n\t            return;\n\t        }\n\t\n\t        // remove all events\n\t        if (!types && events) {\n\t            return keys(events).forEach(function(eventType) {\n\t                eventsByType = events[eventType];\n\t                l = eventsByType.length;\n\t\n\t                while(l--) {\n\t                    removeListener(events, eventType, l, el, eventsByType[l]);\n\t                }\n\t            });\n\t        }\n\t\n\t        types.split(\" \").forEach(function(eventName) {\n\t            var eventType = eventName.split(\".\")[0],\n\t                namespace = eventName.split(\".\").splice(1).join(\".\"),\n\t                e;\n\t\n\t            // remove named events\n\t            if (events[eventType]) {\n\t                eventsByType = events[eventType];\n\t                l = eventsByType.length;\n\t\n\t                while(l--) {\n\t                    e = eventsByType[l];\n\t                    if ((!namespace || (namespace && e.namespace === namespace)) &&\n\t                        (!selector  || (selector  && e.selector === selector))) {\n\t                        removeListener(events, eventType, l, el, e);\n\t                    }\n\t                }\n\t            }\n\t            // remove all namespaced events\n\t            else if (namespace) {\n\t                keys(events).forEach(function(eventType) {\n\t                    eventsByType = events[eventType];\n\t                    l = eventsByType.length;\n\t\n\t                    while(l--) {\n\t                        e = eventsByType[l];\n\t                        if (e.namespace.split(\".\")[0] === namespace.split(\".\")[0]) {\n\t                            removeListener(events, eventType, l, el, e);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Execute all handlers and behaviors attached to the matched elements for the given event type.\n\t     * @param  {Node}       el       - Events will be triggered for thie DOM Node\n\t     * @param  {String}     event    - One or more space-separated event types and optional namespaces\n\t     */\n\t    trigger: function(el, event) {\n\t        var events = [];\n\t\n\t        if (isString(event)) {\n\t            events = event.split(\" \").map(function(event) {\n\t                return jBone.Event(event);\n\t            });\n\t        } else {\n\t            event = event instanceof Event ? event : jBone.Event(event);\n\t            events = [event];\n\t        }\n\t\n\t        events.forEach(function(event) {\n\t            if (!event.type) {\n\t                return;\n\t            }\n\t\n\t            el.dispatchEvent && el.dispatchEvent(event);\n\t        });\n\t    },\n\t\n\t    dispatch: function(e) {\n\t        var i = 0,\n\t            j = 0,\n\t            el = this,\n\t            handlers = jBone.getData(el).events[e.type],\n\t            length = handlers.length,\n\t            handlerQueue = [],\n\t            targets = [],\n\t            l,\n\t            expectedTarget,\n\t            handler,\n\t            event,\n\t            eventOptions;\n\t\n\t        // cache all events handlers, fix issue with multiple handlers (issue #45)\n\t        for (; i < length; i++) {\n\t            handlerQueue.push(handlers[i]);\n\t        }\n\t\n\t        i = 0;\n\t        length = handlerQueue.length;\n\t\n\t        for (;\n\t            // if event exists\n\t            i < length &&\n\t            // if handler is not removed from stack\n\t            ~handlers.indexOf(handlerQueue[i]) &&\n\t            // if propagation is not stopped\n\t            !(event && event.isImmediatePropagationStopped());\n\t        i++) {\n\t            expectedTarget = null;\n\t            eventOptions = {};\n\t            handler = handlerQueue[i];\n\t            handler.data && (eventOptions.data = handler.data);\n\t\n\t            // event handler without selector\n\t            if (!handler.selector) {\n\t                event = new BoneEvent(e, eventOptions);\n\t\n\t                if (!(e.namespace && e.namespace !== handler.namespace)) {\n\t                    handler.originfn.call(el, event);\n\t                }\n\t            }\n\t            // event handler with selector\n\t            else if (\n\t                // if target and selected element the same\n\t                ~(targets = jBone(el).find(handler.selector)).indexOf(e.target) && (expectedTarget = e.target) ||\n\t                // if one of element matched with selector contains target\n\t                (el !== e.target && el.contains(e.target))\n\t            ) {\n\t                // get element matched with selector\n\t                if (!expectedTarget) {\n\t                    l = targets.length;\n\t                    j = 0;\n\t\n\t                    for (; j < l; j++) {\n\t                        if (targets[j] && targets[j].contains(e.target)) {\n\t                            expectedTarget = targets[j];\n\t                        }\n\t                    }\n\t                }\n\t\n\t                if (!expectedTarget) {\n\t                    continue;\n\t                }\n\t\n\t                eventOptions.currentTarget = expectedTarget;\n\t                event = new BoneEvent(e, eventOptions);\n\t\n\t                if (!(e.namespace && e.namespace !== handler.namespace)) {\n\t                    handler.originfn.call(expectedTarget, event);\n\t                }\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tfn.on = function(types, selector, data, fn) {\n\t    var length = this.length,\n\t        i = 0;\n\t\n\t    if (data == null && fn == null) {\n\t        // (types, fn)\n\t        fn = selector;\n\t        data = selector = undefined;\n\t    } else if (fn == null) {\n\t        if (typeof selector === \"string\") {\n\t            // (types, selector, fn)\n\t            fn = data;\n\t            data = undefined;\n\t        } else {\n\t            // (types, data, fn)\n\t            fn = data;\n\t            data = selector;\n\t            selector = undefined;\n\t        }\n\t    }\n\t\n\t    if (!fn) {\n\t        return this;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.add(this[i], types, fn, data, selector);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.one = function(event) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        oneArgs = slice.call(args, 1, args.length - 1),\n\t        callback = slice.call(args, -1)[0],\n\t        addListener;\n\t\n\t    addListener = function(el) {\n\t        var $el = jBone(el);\n\t\n\t        event.split(\" \").forEach(function(event) {\n\t            var fn = function(e) {\n\t                $el.off(event, fn);\n\t                callback.call(el, e);\n\t            };\n\t\n\t            $el.on.apply($el, [event].concat(oneArgs, fn));\n\t        });\n\t    };\n\t\n\t    for (; i < length; i++) {\n\t        addListener(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.trigger = function(event) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (!event) {\n\t        return this;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.trigger(this[i], event);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.off = function(types, selector, handler) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (isFunction(selector)) {\n\t        handler = selector;\n\t        selector = undefined;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        jBone.event.remove(this[i], types, handler, selector);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.find = function(selector) {\n\t    var results = [],\n\t        i = 0,\n\t        length = this.length,\n\t        finder = function(el) {\n\t            if (isFunction(el.querySelectorAll)) {\n\t                [].forEach.call(el.querySelectorAll(selector), function(found) {\n\t                    results.push(found);\n\t                });\n\t            }\n\t        };\n\t\n\t    for (; i < length; i++) {\n\t        finder(this[i]);\n\t    }\n\t\n\t    return jBone(results);\n\t};\n\t\n\tfn.get = function(index) {\n\t    return index != null ?\n\t\n\t        // Return just one element from the set\n\t        (index < 0 ? this[index + this.length] : this[index]) :\n\t\n\t        // Return all the elements in a clean array\n\t        slice.call(this);\n\t};\n\t\n\tfn.eq = function(index) {\n\t    return jBone(this[index]);\n\t};\n\t\n\tfn.parent = function() {\n\t    var results = [],\n\t        parent,\n\t        i = 0,\n\t        length = this.length;\n\t\n\t    for (; i < length; i++) {\n\t        if (!~results.indexOf(parent = this[i].parentElement) && parent) {\n\t            results.push(parent);\n\t        }\n\t    }\n\t\n\t    return jBone(results);\n\t};\n\t\n\tfn.toArray = function() {\n\t    return slice.call(this);\n\t};\n\t\n\tfn.is = function() {\n\t    var args = arguments;\n\t\n\t    return this.some(function(el) {\n\t        return el.tagName.toLowerCase() === args[0];\n\t    });\n\t};\n\t\n\tfn.has = function() {\n\t    var args = arguments;\n\t\n\t    return this.some(function(el) {\n\t        return el.querySelectorAll(args[0]).length;\n\t    });\n\t};\n\t\n\tfn.add = function(selector, context) {\n\t    return this.pushStack(\n\t        jBone.unique(\n\t            jBone.merge(this.get(), jBone(selector, context))\n\t        )\n\t    );\n\t};\n\t\n\tfn.attr = function(key, value) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    if (isString(key) && args.length === 1) {\n\t        return this[0] && this[0].getAttribute(key);\n\t    }\n\t\n\t    if (args.length === 2) {\n\t        setter = function(el) {\n\t            el.setAttribute(key, value);\n\t        };\n\t    } else if (isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                el.setAttribute(name, key[name]);\n\t            });\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeAttr = function(key) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    for (; i < length; i++) {\n\t        this[i].removeAttribute(key);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.val = function(value) {\n\t    var i = 0,\n\t        length = this.length;\n\t\n\t    if (arguments.length === 0) {\n\t        return this[0] && this[0].value;\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        this[i].value = value;\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.css = function(key, value) {\n\t    var args = arguments,\n\t        i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    // Get attribute\n\t    if (isString(key) && args.length === 1) {\n\t        return this[0] && win.getComputedStyle(this[0])[key];\n\t    }\n\t\n\t    // Set attributes\n\t    if (args.length === 2) {\n\t        setter = function(el) {\n\t            el.style[key] = value;\n\t        };\n\t    } else if (isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                el.style[name] = key[name];\n\t            });\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.data = function(key, value) {\n\t    var args = arguments, data = {},\n\t        i = 0,\n\t        length = this.length,\n\t        setter,\n\t        setValue = function(el, key, value) {\n\t            if (isObject(value)) {\n\t                el.jdata = el.jdata || {};\n\t                el.jdata[key] = value;\n\t            } else {\n\t                el.dataset[key] = value;\n\t            }\n\t        },\n\t        getValue = function(value) {\n\t            if (value === \"true\") {\n\t                return true;\n\t            } else if (value === \"false\") {\n\t                return false;\n\t            } else {\n\t                return value;\n\t            }\n\t        };\n\t\n\t    // Get all data\n\t    if (args.length === 0) {\n\t        this[0].jdata && (data = this[0].jdata);\n\t\n\t        keys(this[0].dataset).forEach(function(key) {\n\t            data[key] = getValue(this[0].dataset[key]);\n\t        }, this);\n\t\n\t        return data;\n\t    }\n\t    // Get data by name\n\t    if (args.length === 1 && isString(key)) {\n\t        return this[0] && getValue(this[0].dataset[key] || this[0].jdata && this[0].jdata[key]);\n\t    }\n\t\n\t    // Set data\n\t    if (args.length === 1 && isObject(key)) {\n\t        setter = function(el) {\n\t            keys(key).forEach(function(name) {\n\t                setValue(el, name, key[name]);\n\t            });\n\t        };\n\t    } else if (args.length === 2) {\n\t        setter = function(el) {\n\t            setValue(el, key, value);\n\t        };\n\t    }\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i]);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeData = function(key) {\n\t    var i = 0,\n\t        length = this.length,\n\t        jdata, dataset;\n\t\n\t    for (; i < length; i++) {\n\t        jdata = this[i].jdata;\n\t        dataset = this[i].dataset;\n\t\n\t        if (key) {\n\t            jdata && jdata[key] && delete jdata[key];\n\t            delete dataset[key];\n\t        } else {\n\t            for (key in jdata) {\n\t                delete jdata[key];\n\t            }\n\t\n\t            for (key in dataset) {\n\t                delete dataset[key];\n\t            }\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.addClass = function(className) {\n\t    var i = 0,\n\t        j = 0,\n\t        length = this.length,\n\t        classes = className ? className.trim().split(/\\s+/) : [];\n\t\n\t    for (; i < length; i++) {\n\t        j = 0;\n\t\n\t        for (j = 0; j < classes.length; j++) {\n\t            this[i].classList.add(classes[j]);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.removeClass = function(className) {\n\t    var i = 0,\n\t        j = 0,\n\t        length = this.length,\n\t        classes = className ? className.trim().split(/\\s+/) : [];\n\t\n\t    for (; i < length; i++) {\n\t        j = 0;\n\t\n\t        for (j = 0; j < classes.length; j++) {\n\t            this[i].classList.remove(classes[j]);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.toggleClass = function(className, force) {\n\t    var i = 0,\n\t        length = this.length,\n\t        method = \"toggle\";\n\t\n\t    force === true && (method = \"add\") || force === false && (method = \"remove\");\n\t\n\t    if (className) {\n\t        for (; i < length; i++) {\n\t            this[i].classList[method](className);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.hasClass = function(className) {\n\t    var i = 0, length = this.length;\n\t\n\t    if (className) {\n\t        for (; i < length; i++) {\n\t            if (this[i].classList.contains(className)) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t\n\t    return false;\n\t};\n\t\n\tfn.html = function(value) {\n\t    var args = arguments,\n\t        el;\n\t\n\t    // add HTML into elements\n\t    if (args.length === 1 && value !== undefined) {\n\t        return this.empty().append(value);\n\t    }\n\t    // get HTML from element\n\t    else if (args.length === 0 && (el = this[0])) {\n\t        return el.innerHTML;\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.append = function(appended) {\n\t    var i = 0,\n\t        length = this.length,\n\t        setter;\n\t\n\t    // create jBone object and then append\n\t    if (isString(appended) && rquickExpr.exec(appended)) {\n\t        appended = jBone(appended);\n\t    }\n\t    // create text node for insertion\n\t    else if (!isObject(appended)) {\n\t        appended = document.createTextNode(appended);\n\t    }\n\t\n\t    appended = appended instanceof jBone ? appended : jBone(appended);\n\t\n\t    setter = function(el, i) {\n\t        appended.forEach(function(node) {\n\t            if (i) {\n\t                el.appendChild(node.cloneNode(true));\n\t            } else {\n\t                el.appendChild(node);\n\t            }\n\t        });\n\t    };\n\t\n\t    for (; i < length; i++) {\n\t        setter(this[i], i);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.appendTo = function(to) {\n\t    jBone(to).append(this);\n\t\n\t    return this;\n\t};\n\t\n\tfn.empty = function() {\n\t    var i = 0,\n\t        length = this.length,\n\t        el;\n\t\n\t    for (; i < length; i++) {\n\t        el = this[i];\n\t\n\t        while (el.lastChild) {\n\t            el.removeChild(el.lastChild);\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tfn.remove = function() {\n\t    var i = 0,\n\t        length = this.length,\n\t        el;\n\t\n\t    // remove all listeners\n\t    this.off();\n\t\n\t    for (; i < length; i++) {\n\t        el = this[i];\n\t\n\t        // remove data and nodes\n\t        delete el.jdata;\n\t        el.parentNode && el.parentNode.removeChild(el);\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tif (typeof module === \"object\" && module && typeof module.exports === \"object\") {\n\t    // Expose jBone as module.exports in loaders that implement the Node\n\t    // module pattern (including browserify). Do not create the global, since\n\t    // the user will be storing it themselves locally, and globals are frowned\n\t    // upon in the Node module world.\n\t    module.exports = jBone;\n\t}\n\t// Register as a AMD module\n\telse if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t        return jBone;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t    win.jBone = win.$ = jBone;\n\t} else if (typeof win === \"object\" && typeof win.document === \"object\") {\n\t    win.jBone = win.$ = jBone;\n\t}\n\t\n\t}(window));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)(module)))\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _ = __webpack_require__(1);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// holds the current user selection\n\tvar Selection = Model.extend({\n\t  defaults: { type: \"super\" }\n\t\n\t});var RowSelection = Selection.extend({\n\t  defaults: _.extend({}, Selection.prototype.defaults, { type: \"row\",\n\t    seqId: \"\"\n\t  }),\n\t\n\t  inRow: function inRow(seqId) {\n\t    return seqId === this.get(\"seqId\");\n\t  },\n\t  inColumn: function inColumn(rowPos) {\n\t    return true;\n\t  },\n\t  getLength: function getLength() {\n\t    return 1;\n\t  }\n\t});\n\t\n\tvar ColumnSelection = Selection.extend({\n\t  defaults: _.extend({}, Selection.prototype.defaults, { type: \"column\",\n\t    xStart: -1,\n\t    xEnd: -1\n\t  }),\n\t\n\t  inRow: function inRow() {\n\t    return true;\n\t  },\n\t  inColumn: function inColumn(rowPos) {\n\t    return xStart <= rowPos && rowPos <= xEnd;\n\t  },\n\t  getLength: function getLength() {\n\t    return xEnd - xStart;\n\t  }\n\t});\n\t\n\t// pos is a mixin of column and row\n\t// start with Row and only overwrite \"inColumn\" from Column\n\tvar PosSelection = RowSelection.extend(_.extend({}, _.pick(ColumnSelection, \"inColumn\"), _.pick(ColumnSelection, \"getLength\"),\n\t\n\t// merge both defaults\n\t{ defaults: _.extend({}, ColumnSelection.prototype.defaults, RowSelection.prototype.defaults, { type: \"pos\"\n\t  })\n\t}));\n\t\n\tmodule.exports.sel = Selection;\n\tmodule.exports.possel = PosSelection;\n\tmodule.exports.rowsel = RowSelection;\n\tmodule.exports.columnsel = ColumnSelection;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SelectionManager;\n\tvar sel = __webpack_require__(8);\n\tvar _ = __webpack_require__(1);\n\tvar Collection = __webpack_require__(2).Collection;\n\t\n\t// holds the current user selection\n\tmodule.exports = SelectionManager = Collection.extend({\n\t\n\t  model: sel.sel,\n\t\n\t  initialize: function initialize(data, opts) {\n\t    if (typeof opts !== \"undefined\" && opts !== null) {\n\t      this.g = opts.g;\n\t\n\t      this.listenTo(this.g, \"residue:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.possel({\n\t          xStart: e.rowPos,\n\t          xEnd: e.rowPos,\n\t          seqId: e.seqId\n\t        }));\n\t      });\n\t\n\t      this.listenTo(this.g, \"row:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.rowsel({\n\t          seqId: e.seqId\n\t        }));\n\t      });\n\t\n\t      return this.listenTo(this.g, \"column:click\", function (e) {\n\t        return this._handleE(e.evt, new sel.columnsel({\n\t          xStart: e.rowPos,\n\t          xEnd: e.rowPos + e.stepSize - 1\n\t        }));\n\t      });\n\t    }\n\t  },\n\t\n\t  //@listenTo @, \"add reset\", (e) ->\n\t  //@_reduceColumns()\n\t\n\t  getSelForRow: function getSelForRow(seqId) {\n\t    return this.filter(function (el) {\n\t      return el.inRow(seqId);\n\t    });\n\t  },\n\t\n\t  getSelForColumns: function getSelForColumns(rowPos) {\n\t    return this.filter(function (el) {\n\t      return el.inColumn(rowPos);\n\t    });\n\t  },\n\t\n\t  addJSON: function addJSON(model) {\n\t    return this.add(this._fromJSON(model));\n\t  },\n\t\n\t  _fromJSON: function _fromJSON(model) {\n\t    switch (model.type) {\n\t      case \"column\":\n\t        return new sel.columnsel(model);\n\t      case \"row\":\n\t        return new sel.rowsel(model);\n\t      case \"pos\":\n\t        return new sel.possel(model);\n\t    }\n\t  },\n\t\n\t  // allows normal JSON input\n\t  resetJSON: function resetJSON(arr) {\n\t    arr = _.map(arr, this._fromJSON);\n\t    return this.reset(arr);\n\t  },\n\t\n\t  // @returns array of all selected residues for a row\n\t  getBlocksForRow: function getBlocksForRow(seqId, maxLen) {\n\t    var selis = this.filter(function (el) {\n\t      return el.inRow(seqId);\n\t    });\n\t    var blocks = [];\n\t    for (var i = 0, seli; i < selis.length; i++) {\n\t      seli = selis[i];\n\t      if (seli.attributes.type === \"row\") {\n\t        blocks = function () {\n\t          var result = [];\n\t          var i1 = 0;\n\t          if (0 <= maxLen) {\n\t            while (i1 <= maxLen) {\n\t              result.push(i1++);\n\t            }\n\t          } else {\n\t            while (i1 >= maxLen) {\n\t              result.push(i1--);\n\t            }\n\t          }\n\t          return result;\n\t        }();\n\t        break;\n\t      } else {\n\t        blocks = blocks.concat(function () {\n\t          var result = [];\n\t          var i1 = seli.attributes.xStart;\n\t          if (seli.attributes.xStart <= seli.attributes.xEnd) {\n\t            while (i1 <= seli.attributes.xEnd) {\n\t              result.push(i1++);\n\t            }\n\t          } else {\n\t            while (i1 >= seli.attributes.xEnd) {\n\t              result.push(i1--);\n\t            }\n\t          }\n\t          return result;\n\t        }());\n\t      }\n\t    }\n\t    return blocks;\n\t  },\n\t\n\t  // @returns array with all columns being selected\n\t  // example: 0-4... 12-14 selected -> [0,1,2,3,4,12,13,14]\n\t  getAllColumnBlocks: function getAllColumnBlocks(conf) {\n\t    var maxLen = conf.maxLen;\n\t    var withPos = conf.withPos;\n\t    var blocks = [];\n\t    if (conf.withPos) {\n\t      var filtered = this.filter(function (el) {\n\t        return el.get('xStart') != null;\n\t      });\n\t    } else {\n\t      filtered = this.filter(function (el) {\n\t        return el.get('type') === \"column\";\n\t      });\n\t    }\n\t    for (var i = 0, seli; i < filtered.length; i++) {\n\t      seli = filtered[i];\n\t      blocks = blocks.concat(function () {\n\t        var result = [];\n\t        var i1 = seli.attributes.xStart;\n\t        if (seli.attributes.xStart <= seli.attributes.xEnd) {\n\t          while (i1 <= seli.attributes.xEnd) {\n\t            result.push(i1++);\n\t          }\n\t        } else {\n\t          while (i1 >= seli.attributes.xEnd) {\n\t            result.push(i1--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    }\n\t    blocks = _.uniq(blocks);\n\t    return blocks;\n\t  },\n\t\n\t  // inverts the current selection for columns\n\t  // @param rows [Array] all available seqId\n\t  invertRow: function invertRow(rows) {\n\t    var selRows = this.where({ type: \"row\" });\n\t    selRows = _.map(selRows, function (el) {\n\t      return el.attributes.seqId;\n\t    });\n\t    var inverted = _.filter(rows, function (el) {\n\t      if (selRows.indexOf(el) >= 0) {\n\t        return false;\n\t      } // existing selection\n\t      return true;\n\t    });\n\t    // mass insert\n\t    var s = [];\n\t    for (var i = 0, el; i < inverted.length; i++) {\n\t      el = inverted[i];\n\t      s.push(new sel.rowsel({ seqId: el }));\n\t    }\n\t    return this.reset(s);\n\t  },\n\t\n\t  // inverts the current selection for rows\n\t  // @param rows [Array] all available rows (0..max.length)\n\t  invertCol: function invertCol(columns) {\n\t    var xEnd;\n\t    var selColumns = this.where({ type: \"column\" });\n\t    selColumns = _.reduce(selColumns, function (memo, el) {\n\t      return memo.concat(function () {\n\t        var result = [];\n\t        var i = el.attributes.xStart;\n\t        if (el.attributes.xStart <= el.attributes.xEnd) {\n\t          while (i <= el.attributes.xEnd) {\n\t            result.push(i++);\n\t          }\n\t        } else {\n\t          while (i >= el.attributes.xEnd) {\n\t            result.push(i--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    }, []);\n\t    var inverted = _.filter(columns, function (el) {\n\t      if (selColumns.indexOf(el) >= 0) {\n\t        // existing selection\n\t        return false;\n\t      }\n\t      return true;\n\t    });\n\t    // mass insert\n\t    if (inverted.length === 0) {\n\t      return;\n\t    }\n\t    var s = [];\n\t    var xStart = xEnd = inverted[0];\n\t    for (var i = 0, el; i < inverted.length; i++) {\n\t      el = inverted[i];\n\t      if (xEnd + 1 === el) {\n\t        // contiguous\n\t        xEnd = el;\n\t      } else {\n\t        // gap between\n\t        s.push(new sel.columnsel({ xStart: xStart, xEnd: xEnd }));\n\t        xStart = xEnd = el;\n\t      }\n\t    }\n\t    // check for last gap\n\t    if (xStart !== xEnd) {\n\t      s.push(new sel.columnsel({ xStart: xStart, xEnd: inverted[inverted.length - 1] }));\n\t    }\n\t    return this.reset(s);\n\t  },\n\t\n\t  // method to decide whether to start a new selection\n\t  // or append to the old one (depending whether CTRL was pressed)\n\t  _handleE: function _handleE(e, selection) {\n\t    if (e.ctrlKey || e.metaKey) {\n\t      return this.add(selection);\n\t    } else {\n\t      return this.reset([selection]);\n\t    }\n\t  },\n\t\n\t  // experimental reduce method for columns\n\t  _reduceColumns: function _reduceColumns() {\n\t    return this.each(function (el, index, arr) {\n\t      var cols = _.filter(arr, function (el) {\n\t        return el.get('type') === 'column';\n\t      });\n\t      var xStart = el.get('xStart');\n\t      var xEnd = el.get('xEnd');\n\t\n\t      var lefts = _.filter(cols, function (el) {\n\t        return el.get('xEnd') === xStart - 1;\n\t      });\n\t      for (var i = 0, left; i < lefts.length; i++) {\n\t        left = lefts[i];\n\t        left.set('xEnd', xStart);\n\t      }\n\t\n\t      var rights = _.filter(cols, function (el) {\n\t        return el.get('xStart') === xEnd + 1;\n\t      });\n\t      for (var j = 0, right; j < rights.length; j++) {\n\t        right = rights[j];\n\t        right.set('xStart', xEnd);\n\t      }\n\t\n\t      if (lefts.length > 0 || rights.length > 0) {\n\t        console.log(\"removed el\");\n\t        return el.collection.remove(el);\n\t      }\n\t    });\n\t  }\n\t});\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// mini svg helper\n\t\n\tvar svgns = \"http://www.w3.org/2000/svg\";\n\t\n\tvar setAttr = function setAttr(obj, opts) {\n\t  for (var name in opts) {\n\t    var value = opts[name];\n\t    obj.setAttributeNS(null, name, value);\n\t  }\n\t  return obj;\n\t};\n\t\n\tvar Base = function Base(opts) {\n\t  var svg = document.createElementNS(svgns, 'svg');\n\t  svg.setAttribute(\"width\", opts.width);\n\t  svg.setAttribute(\"height\", opts.height);\n\t  return svg;\n\t};\n\t\n\tvar Rect = function Rect(opts) {\n\t  var rect = document.createElementNS(svgns, 'rect');\n\t  return setAttr(rect, opts);\n\t};\n\t\n\tvar Line = function Line(opts) {\n\t  var line = document.createElementNS(svgns, 'line');\n\t  return setAttr(line, opts);\n\t};\n\t\n\tvar Polygon = function Polygon(opts) {\n\t  var line = document.createElementNS(svgns, 'polygon');\n\t  return setAttr(line, opts);\n\t};\n\t\n\tmodule.exports.rect = Rect;\n\tmodule.exports.line = Line;\n\tmodule.exports.polygon = Polygon;\n\tmodule.exports.base = Base;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate, clearImmediate) {var nextTick = __webpack_require__(20).nextTick;\n\tvar apply = Function.prototype.apply;\n\tvar slice = Array.prototype.slice;\n\tvar immediateIds = {};\n\tvar nextImmediateId = 0;\n\t\n\t// DOM APIs, for completeness\n\t\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) { timeout.close(); };\n\t\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(window, this._id);\n\t};\n\t\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\t\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\t\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\t\n\t// That's not how node.js implements it but the exposed api is the same.\n\texports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n\t  var id = nextImmediateId++;\n\t  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\t\n\t  immediateIds[id] = true;\n\t\n\t  nextTick(function onNextTick() {\n\t    if (immediateIds[id]) {\n\t      // fn.call() is faster so we optimize for the common use-case\n\t      // @see http://jsperf.com/call-apply-segu\n\t      if (args) {\n\t        fn.apply(null, args);\n\t      } else {\n\t        fn.call(null);\n\t      }\n\t      // Prevent ids from leaking\n\t      exports.clearImmediate(id);\n\t    }\n\t  });\n\t\n\t  return id;\n\t};\n\t\n\texports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n\t  delete immediateIds[id];\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11).setImmediate, __webpack_require__(11).clearImmediate))\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tmodule.exports =\n\t// math utilities\n\tfunction () {\n\t  function BMath() {\n\t    _classCallCheck(this, BMath);\n\t  }\n\t\n\t  _createClass(BMath, null, [{\n\t    key: \"randomInt\",\n\t    value: function randomInt(lower, upper) {\n\t      // Called with one argument\n\t      if (!(typeof upper !== \"undefined\" && upper !== null)) {\n\t        var _ref = [0, lower];\n\t        lower = _ref[0];\n\t        upper = _ref[1];\n\t      }\n\t      // Lower must be less then upper\n\t      if (lower > upper) {\n\t        var _ref2 = [upper, lower];\n\t        lower = _ref2[0];\n\t        upper = _ref2[1];\n\t      }\n\t      // Last statement is a return value\n\t      return Math.floor(Math.random() * (upper - lower + 1) + lower);\n\t    }\n\t\n\t    // @return [Integer] random id\n\t\n\t  }, {\n\t    key: \"uniqueId\",\n\t    value: function uniqueId() {\n\t      var length = arguments.length <= 0 || arguments[0] === undefined ? 8 : arguments[0];\n\t\n\t      var id = \"\";\n\t      while (id.length < length) {\n\t        id += Math.random().toString(36).substr(2);\n\t      }\n\t      return id.substr(0, length);\n\t    }\n\t\n\t    // Returns a random integer between min (inclusive) and max (inclusive)\n\t\n\t  }, {\n\t    key: \"getRandomInt\",\n\t    value: function getRandomInt(min, max) {\n\t      return Math.floor(Math.random() * (max - min + 1)) + min;\n\t    }\n\t  }]);\n\t\n\t  return BMath;\n\t}();\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Exporter;\n\tvar Fasta = __webpack_require__(18);\n\tvar GFF = __webpack_require__(39);\n\tvar xhr = __webpack_require__(21);\n\tvar blobURL = __webpack_require__(136);\n\tvar saveAs = __webpack_require__(137);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = Exporter = { openInJalview: function openInJalview(url, colorscheme) {\n\t    if (url.charAt(0) === '.') {\n\t      // relative urls\n\t      url = document.URL.substr(0, document.URL.lastIndexOf('/')) + \"/\" + url;\n\t    }\n\t\n\t    // check whether this is a local url\n\t    if (url.indexOf(\"http\") < 0) {\n\t      // append host and hope for the best\n\t      var host = \"http://\" + window.location.hostname;\n\t      url = host + url;\n\t    }\n\t\n\t    url = encodeURIComponent(url);\n\t    var jalviewUrl = \"http://www.jalview.org/services/launchApp?open=\" + url;\n\t    jalviewUrl += \"&colour=\" + colorscheme;\n\t    return window.open(jalviewUrl, '_blank');\n\t  },\n\t\n\t  publishWeb: function publishWeb(that, cb) {\n\t    var text = Fasta.write(that.seqs.toJSON());\n\t    text = encodeURIComponent(text);\n\t    var url = \"http://sprunge.biojs.net\";\n\t    return xhr({\n\t      method: \"POST\",\n\t      body: \"sprunge=\" + text,\n\t      uri: url,\n\t      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" }\n\t    }, function (err, rep, body) {\n\t      var link = body.trim();\n\t      return cb(link);\n\t    });\n\t  },\n\t\n\t  shareLink: function shareLink(that, cb) {\n\t    var url = that.g.config.get(\"importURL\");\n\t    var msaURL = \"http://msa.biojs.net/app/?seq=\";\n\t    var fCB = function fCB(link) {\n\t      var fURL = msaURL + link;\n\t      if (cb) {\n\t        return cb(fURL);\n\t      }\n\t    };\n\t    if (!url) {\n\t      return Exporter.publishWeb(that, fCB);\n\t    } else {\n\t      return fCB(url);\n\t    }\n\t  },\n\t\n\t  saveAsFile: function saveAsFile(that, name) {\n\t    // limit at about 256k\n\t    var text = Fasta.write(that.seqs.toJSON());\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveSelection: function saveSelection(that, name) {\n\t    var selection = that.g.selcol.pluck(\"seqId\");\n\t    console.log(selection);\n\t    if (selection.length > 0) {\n\t      // filter those seqids\n\t      selection = that.seqs.filter(function (el) {\n\t        return _.contains(selection, el.get(\"id\"));\n\t      });\n\t      var end = selection.length - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        selection[i] = selection[i].toJSON();\n\t      }\n\t    } else {\n\t      selection = that.seqs.toJSON();\n\t      console.warn(\"no selection found\");\n\t    }\n\t    var text = Fasta.write(selection);\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveAnnots: function saveAnnots(that, name) {\n\t    var features = that.seqs.map(function (el) {\n\t      features = el.get(\"features\");\n\t      if (features.length === 0) {\n\t        return;\n\t      }\n\t      var seqname = el.get(\"name\");\n\t      features.each(function (s) {\n\t        return s.set(\"seqname\", seqname);\n\t      });\n\t      return features.toJSON();\n\t    });\n\t    features = _.flatten(_.compact(features));\n\t    console.log(features);\n\t    var text = GFF.exportLines(features);\n\t    var blob = new Blob([text], { type: 'text/plain' });\n\t    return saveAs(blob, name);\n\t  },\n\t\n\t  saveAsImg: function saveAsImg(that, name) {\n\t    // TODO: this is very ugly\n\t    var canvas = that.getView('stage').getView('body').getView('seqblock').el;\n\t    if (typeof canvas !== \"undefined\" && canvas !== null) {\n\t      var url = canvas.toDataURL('image/png');\n\t      return saveAs(blobURL(url), name, \"image/png\");\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar FileHelper;\n\tvar FastaReader = __webpack_require__(18);\n\tvar ClustalReader = __webpack_require__(45);\n\tvar GffReader = __webpack_require__(39);\n\tvar _ = __webpack_require__(1);\n\tvar xhr = __webpack_require__(21);\n\t\n\tmodule.exports = FileHelper = function FileHelper(msa) {\n\t  this.msa = msa;\n\t  return this;\n\t};\n\t\n\tvar funs = { guessFileType: function guessFileType(name) {\n\t    name = name.split(\".\");\n\t    var fileName = name[name.length(-1)];\n\t    switch (fileName) {\n\t      case \"aln\":case \"clustal\":\n\t        return ClustalReader;break;\n\t      case \"fasta\":\n\t        return FastaReader;break;\n\t      default:\n\t        return FastaReader;\n\t    }\n\t  },\n\t\n\t  guessFileFromText: function guessFileFromText(text) {\n\t    if (!(typeof text !== \"undefined\" && text !== null)) {\n\t      console.warn(\"invalid file format\");\n\t      return [\"\", \"error\"];\n\t    }\n\t    if (text.substring(0, 7) === \"CLUSTAL\") {\n\t      var reader = ClustalReader;\n\t      var type = \"seqs\";\n\t    } else if (text.substring(0, 1) === \">\") {\n\t      reader = FastaReader;\n\t      type = \"seqs\";\n\t    } else if (text.substring(0, 1) === \"(\") {\n\t      type = \"newick\";\n\t    } else {\n\t      reader = GffReader;\n\t      type = \"features\";\n\t    }\n\t    //console.warn \"Unknown format. Contact greenify\"\n\t    return [reader, type];\n\t  },\n\t\n\t  parseText: function parseText(text) {\n\t    var _guessFileFromText = this.guessFileFromText(text);\n\t\n\t    var _guessFileFromText2 = _slicedToArray(_guessFileFromText, 2);\n\t\n\t    var reader = _guessFileFromText2[0];\n\t    var type = _guessFileFromText2[1];\n\t\n\t    if (type === \"seqs\") {\n\t      var seqs = reader.parse(text);\n\t      return [seqs, type];\n\t    } else if (type === \"features\") {\n\t      var features = reader.parseSeqs(text);\n\t      return [features, type];\n\t    } else {\n\t      return [text, type];\n\t    }\n\t  },\n\t\n\t  importFiles: function importFiles(files) {\n\t    var _this = this;\n\t\n\t    return function () {\n\t      var result = [];\n\t      var end = files.length - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        var file = files[i];\n\t        var reader = new FileReader();\n\t        reader.onload = function (evt) {\n\t          return _this.importFile(evt.target.result);\n\t        };\n\t        result.push(reader.readAsText(file));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  importFile: function importFile(file) {\n\t    var _this2 = this;\n\t\n\t    var fileName;\n\t\n\t    var _parseText = this.parseText(file);\n\t\n\t    var _parseText2 = _slicedToArray(_parseText, 2);\n\t\n\t    var objs = _parseText2[0];\n\t    var type = _parseText2[1];\n\t\n\t    if (type === \"error\") {\n\t      return \"error\";\n\t    }\n\t    if (type === \"seqs\") {\n\t      this.msa.seqs.reset(objs);\n\t      this.msa.g.config.set(\"url\", \"userimport\");\n\t      this.msa.g.trigger(\"url:userImport\");\n\t    } else if (type === \"features\") {\n\t      this.msa.seqs.addFeatures(objs);\n\t    } else if (type === \"newick\") {\n\t      this.msa.u.tree.loadTree(function () {\n\t        return _this2.msa.u.tree.showTree(file);\n\t      });\n\t    }\n\t\n\t    return fileName = file.name;\n\t  },\n\t\n\t  importURL: function importURL(url, cb) {\n\t    var _this3 = this;\n\t\n\t    url = this.msa.u.proxy.corsURL(url);\n\t    this.msa.g.config.set(\"url\", url);\n\t    return xhr({\n\t      url: url,\n\t      timeout: 0\n\t    }, function (err, status, body) {\n\t      if (!err) {\n\t        var res = _this3.importFile(body);\n\t        if (res === \"error\") {\n\t          return;\n\t        }\n\t        _this3.msa.g.trigger(\"import:url\", url);\n\t        if (cb) {\n\t          return cb();\n\t        }\n\t      } else {\n\t        return console.log(err);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\t_.extend(FileHelper.prototype, funs);\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar loader;\n\tvar k = __webpack_require__(19);\n\t\n\tmodule.exports = loader =\n\t\n\t// asynchronously require a script\n\t{ loadScript: function loadScript(url, cb) {\n\t    var s = k.mk(\"script\");\n\t    s.type = \"text/javascript\";\n\t    s.src = url;\n\t    s.async = true;\n\t    s.onload = s.onreadystatechange = function () {\n\t      if (!r && (!this.readyState || this.readyState === \"complete\")) {\n\t        var r = true;\n\t        return cb();\n\t      }\n\t    };\n\t    var t = document.getElementsByTagName(\"script\")[0];\n\t    return t.parentNode.appendChild(s);\n\t  },\n\t\n\t  // joins multiple callbacks into one callback\n\t  // a bit like Promise.all - but for callbacks\n\t  joinCb: function joinCb(retCb, finalLength, finalScope) {\n\t    finalLength = finalLength || 1;\n\t    var cbsFinished = 0;\n\t\n\t    var callbackWrapper = function callbackWrapper(cb, scope) {\n\t      if (!(typeof cb !== \"undefined\" && cb !== null)) {\n\t        // directly called (without cb)\n\t        return counter();\n\t      } else {\n\t        return function () {\n\t          var ref;\n\t          if (ref = \"apply\", cb.indexOf(ref) >= 0) {\n\t            cb.apply(scope, arguments);\n\t          }\n\t          return counter();\n\t        };\n\t      }\n\t    };\n\t\n\t    var counter = function counter() {\n\t      cbsFinished++;\n\t      if (cbsFinished === finalLength) {\n\t        return retCb.call(finalScope);\n\t      }\n\t    };\n\t\n\t    return callbackWrapper;\n\t  }\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ProxyHelper;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = ProxyHelper = function ProxyHelper(opts) {\n\t  this.g = opts.g;\n\t  return this;\n\t};\n\t\n\tvar proxyFun = { corsURL: function corsURL(url) {\n\t    // do not filter on localhost\n\t    if (document.URL.indexOf('localhost') >= 0 && url[0] === \"/\") {\n\t      return url;\n\t    }\n\t    if (url.charAt(0) === \".\" || url.charAt(0) === \"/\") {\n\t      return url;\n\t    }\n\t\n\t    // DEPRECATED as crossorigin.me requires http\n\t    // remove www + http\n\t    //url = url.replace(\"www\\.\", \"\");\n\t\n\t    if (this.g.config.get('importProxyStripHttp')) {\n\t      url = url.replace(\"http://\", \"\");\n\t      url = url.replace(\"https://\", \"\");\n\t    }\n\t\n\t    // prepend proxy\n\t    url = this.g.config.get('importProxy') + url;\n\t    return url;\n\t  }\n\t};\n\t\n\t_.extend(ProxyHelper.prototype, proxyFun);\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar events = __webpack_require__(93);\n\t\n\tevents.onAll = function(callback,context){\n\t  this.on(\"all\", callback,context);\n\t  return this;\n\t};\n\t\n\t// Mixin utility\n\tevents.oldMixin = events.mixin;\n\tevents.mixin = function(proto) {\n\t  events.oldMixin(proto);\n\t  // add custom onAll\n\t  var exports = ['onAll'];\n\t  for(var i=0; i < exports.length;i++){\n\t    var name = exports[i];\n\t    proto[name] = this[name];\n\t  }\n\t  return proto;\n\t};\n\t\n\tmodule.exports = events;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Generated by CoffeeScript 1.9.0\n\tvar Fasta, GenericReader, st;\n\t\n\tGenericReader = __webpack_require__(103);\n\t\n\tst = __webpack_require__(40);\n\t\n\tmodule.exports = Fasta = {\n\t  parse: function(text) {\n\t    var currentSeq, keys, label, line, obj, seqs, _i, _len;\n\t    seqs = [];\n\t    if (!text || text.length === 0) {\n\t      return [];\n\t    }\n\t    if (Object.prototype.toString.call(text) !== '[object Array]') {\n\t      text = text.split(\"\\n\");\n\t    }\n\t    for (_i = 0, _len = text.length; _i < _len; _i++) {\n\t      line = text[_i];\n\t      if (line[0] === \">\" || line[0] === \";\") {\n\t        label = line.slice(1);\n\t        obj = st.getMeta(label);\n\t        label = obj.name;\n\t        currentSeq = new st.model(\"\", label, seqs.length);\n\t        currentSeq.ids = obj.ids || {};\n\t        keys = Object.keys(currentSeq.ids);\n\t        if (keys.length > 0) {\n\t          currentSeq.id = currentSeq.ids[keys[0]];\n\t        }\n\t        currentSeq.details = obj.details || {};\n\t        seqs.push(currentSeq);\n\t      } else {\n\t        currentSeq.seq += line;\n\t      }\n\t    }\n\t    return seqs;\n\t  },\n\t  write: function(seqs, access) {\n\t    var seq, text, _i, _len;\n\t    text = \"\";\n\t    for (_i = 0, _len = seqs.length; _i < _len; _i++) {\n\t      seq = seqs[_i];\n\t      if (access != null) {\n\t        seq = access(seq);\n\t      }\n\t      text += \">\" + seq.name + \"\\n\";\n\t      text += (st.splitNChars(seq.seq, 80)).join(\"\\n\");\n\t      text += \"\\n\";\n\t    }\n\t    return text;\n\t  }\n\t};\n\t\n\tGenericReader.mixin(Fasta);\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {var koalajs = {};\n\t\n\t// pass an alternative default value\n\tkoalajs.d = koalajs.defaultValue = function defaultValue(obj, defValue) {\n\t  if (obj === undefined) {\n\t    if (typeof obj === \"function\") {\n\t      return defValue();\n\t    }\n\t    return defValue;\n\t  }\n\t  return obj;\n\t};\n\t\n\t// alias for getElementById\n\tkoalajs.id = function mk(el) {\n\t  return document.getElementById(el);\n\t};\n\t\n\t// alias for createElement\n\tkoalajs.mk = function mk(el) {\n\t  return document.createElement(el);\n\t};\n\t\n\tif (module !== undefined && module.exports !== undefined) {\n\t  module.exports = koalajs;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)(module)))\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\t\n\tvar process = module.exports = {};\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = setTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    clearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        setTimeout(drainQueue, 0);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar window = __webpack_require__(161)\n\tvar once = __webpack_require__(162)\n\tvar parseHeaders = __webpack_require__(166)\n\t\n\tvar messages = {\n\t    \"0\": \"Internal XMLHttpRequest Error\",\n\t    \"4\": \"4xx Client Error\",\n\t    \"5\": \"5xx Server Error\"\n\t}\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var key\n\t    var load = options.response ? loadResponse : loadXhr\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] = \"application/json\"\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = load\n\t    xhr.onerror = error\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    // hate IE\n\t    xhr.ontimeout = noop\n\t    xhr.open(method, uri, !sync)\n\t                                    //backward compatibility\n\t    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n\t        xhr.withCredentials = true\n\t    }\n\t\n\t    // Cannot set timeout with sync request\n\t    if (!sync) {\n\t        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            load()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = null\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t\n\t    function getStatusCode() {\n\t        return xhr.status === 1223 ? 204 : xhr.status\n\t    }\n\t\n\t    // if we're getting a none-ok statusCode, build & return an error\n\t    function errorFromStatusCode(status, body) {\n\t        var error = null\n\t        if (status === 0 || (status >= 400 && status < 600)) {\n\t            var message = (typeof body === \"string\" ? body : false) ||\n\t                messages[String(status).charAt(0)]\n\t            error = new Error(message)\n\t            error.statusCode = status\n\t        }\n\t\n\t        return error\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadResponse() {\n\t        var status = getStatusCode()\n\t        var body = getBody()\n\t        var error = errorFromStatusCode(status, body)\n\t        var response = {\n\t            body: body,\n\t            statusCode: status,\n\t            statusText: xhr.statusText,\n\t            raw: xhr\n\t        }\n\t        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t        } else {\n\t            response.headers = {}\n\t        }\n\t\n\t        callback(error, response, response.body)\n\t    }\n\t\n\t    // will load the data and add some response properties to the source xhr\n\t    // and then respond with that\n\t    function loadXhr() {\n\t        var status = getStatusCode()\n\t        var error = errorFromStatusCode(status)\n\t\n\t        xhr.status = xhr.statusCode = status\n\t        xhr.body = getBody()\n\t        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t\n\t        callback(error, xhr, xhr.body)\n\t    }\n\t\n\t    function error(evt) {\n\t        callback(evt, xhr)\n\t    }\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Colorscheme;\n\tvar Colors = __webpack_require__(148);\n\t\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// this is an example of how one could color the MSA\n\t// feel free to create your own color scheme in the /css/schemes folder\n\tmodule.exports = Colorscheme = Model.extend({\n\t\n\t  defaults: {\n\t    scheme: \"taylor\", // name of your color scheme\n\t    colorBackground: true, // otherwise only the text will be colored\n\t    showLowerCase: true, // used to hide and show lowercase chars in the overviewbox\n\t    opacity: 0.6 },\n\t\n\t  // opacity for the residues\n\t  initialize: function initialize(data, seqs, stat) {\n\t    this.colors = new Colors({ seqs: seqs,\n\t      conservation: function conservation() {\n\t        return stat.scale(stat.conservation());\n\t      } });\n\t    // the stats module sends an event every time it is refreshed\n\t    return stat.on(\"reset\", function () {\n\t      // some dynamic modules might require a redraw\n\t      if (this.getSelectedScheme().type === \"dyn\") {\n\t        var ref;\n\t        if (ref = \"reset\", this.getSelectedScheme().indexOf(ref) >= 0) {\n\t          return this.getSelectedScheme().reset();\n\t        }\n\t      }\n\t    }, this);\n\t  },\n\t\n\t  // You can enter your own color scheme here\n\t  addStaticScheme: function addStaticScheme(name, dict) {\n\t    return this.colors.addStaticScheme(name, dict);\n\t  },\n\t\n\t  addDynScheme: function addDynScheme(name, fun) {\n\t    return this.colors.addDynScheme(name, fun);\n\t  },\n\t\n\t  getScheme: function getScheme(name) {\n\t    return this.colors.getScheme(name);\n\t  },\n\t\n\t  getSelectedScheme: function getSelectedScheme() {\n\t    return this.colors.getScheme(this.get(\"scheme\"));\n\t  }\n\t});\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Columns;\n\tvar Model = __webpack_require__(2).Model;\n\tvar _ = __webpack_require__(1);\n\t\n\t// model for column properties (like their hidden state)\n\tmodule.exports = Columns = Model.extend({\n\t\n\t  initialize: function initialize(o, stat) {\n\t    // hidden columns\n\t    if (!(this.get(\"hidden\") != null)) {\n\t      this.set(\"hidden\", []);\n\t    }\n\t    return this.stats = stat;\n\t  },\n\t\n\t  // assumes hidden columns are sorted\n\t  // @returns n [int] number of hidden columns until n\n\t  calcHiddenColumns: function calcHiddenColumns(n) {\n\t    var hidden = this.get(\"hidden\");\n\t    var newX = n;\n\t    for (var j = 0, i; j < hidden.length; j++) {\n\t      i = hidden[j];\n\t      if (i <= newX) {\n\t        newX++;\n\t      }\n\t    }\n\t    return newX - n;\n\t  }\n\t});\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Config;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// simple user config\n\tmodule.exports = Config = Model.extend({\n\t\n\t  defaults: { registerMouseHover: false,\n\t    registerMouseClicks: true,\n\t    importProxy: \"https://cors-anywhere.herokuapp.com/\",\n\t    importProxyStripHttp: true,\n\t    eventBus: true,\n\t    alphabetSize: 20,\n\t    dropImport: false,\n\t    debug: false,\n\t    hasRef: false, // hasReference\n\t    bootstrapMenu: false,\n\t    manualRendering: false // not recommended to turn on\n\t  }\n\t});\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Package;\n\tvar Loader = __webpack_require__(15);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\tmodule.exports = Package = Model.extend({\n\t\n\t  initialize: function initialize(g) {\n\t    return this.g = g;\n\t  },\n\t\n\t  development: { \"msa-tnt\": \"/node_modules/msa-tnt/build/bundle.js\",\n\t    \"biojs-io-newick\": \"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js\"\n\t  },\n\t\n\t  // loads a package into the MSA component (if it is not available yet)\n\t  loadPackage: function loadPackage(pkg, cb) {\n\t    try {\n\t      var p = __webpack_require__(167)(pkg);\n\t      return cb(p);\n\t    } catch (error) {\n\t      return Loader.loadScript(this._pkgURL(pkg), cb);\n\t    }\n\t  },\n\t\n\t  // loads multiple packages and calls the cb if all packages are loaded\n\t  loadPackages: function loadPackages(pkgs, cb) {\n\t    var _this = this;\n\t\n\t    var cbs = Loader.joinCb(function () {\n\t      return cb();\n\t    }, pkgs.length);\n\t    return pkgs.forEach(function (pkg) {\n\t      return _this.loadPackage(pkg, cbs);\n\t    });\n\t  },\n\t\n\t  // internal method to get the URL for a package\n\t  _pkgURL: function _pkgURL(pkg) {\n\t\n\t    if (this.g.config.get(\"debug\")) {\n\t      var url = this.development[pkg];\n\t    } else {\n\t      url = \"http://wzrd.in/bundle/\" + pkg + \"@latest\";\n\t    }\n\t\n\t    return url;\n\t  }\n\t});\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Config;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// simple user config\n\tmodule.exports = Config = Model.extend({\n\t\n\t  defaults: { searchText: \"\" }\n\t\n\t});\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Visibility;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// visible areas\n\tmodule.exports = Visibility = Model.extend({\n\t\n\t  defaults:\n\t\n\t  // for the Stage\n\t  { searchBox: -10,\n\t    overviewBox: 30,\n\t    headerBox: -1,\n\t    alignmentBody: 0\n\t  }\n\t});\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Visibility;\n\tvar Model = __webpack_require__(2).Model;\n\t\n\t// visible areas\n\tmodule.exports = Visibility = Model.extend({\n\t\n\t  defaults: { sequences: true,\n\t    markers: true,\n\t    metacell: false,\n\t    conserv: false,\n\t    overviewbox: false,\n\t    seqlogo: false,\n\t    gapHeader: false,\n\t    leftHeader: true,\n\t\n\t    // about the labels\n\t    labels: true,\n\t    labelName: true,\n\t    labelId: true,\n\t    labelPartition: false,\n\t    labelCheckbox: false,\n\t\n\t    // meta stuff\n\t    metaGaps: true,\n\t    metaIdentity: true,\n\t    metaLinks: true\n\t  },\n\t\n\t  constructor: function constructor(attributes, options) {\n\t    this.calcDefaults(options.model);\n\t    return Model.apply(this, arguments);\n\t  },\n\t\n\t  initialize: function initialize() {\n\t\n\t    this.listenTo(this, \"change:metaLinks change:metaIdentity change:metaGaps\", function () {\n\t      return this.trigger(\"change:metacell\");\n\t    }, this);\n\t\n\t    this.listenTo(this, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", function () {\n\t      return this.trigger(\"change:labels\");\n\t    }, this);\n\t\n\t    return this.listenTo(this, \"change:markers change:conserv change:seqlogo change:gapHeader\", function () {\n\t      return this.trigger(\"change:header\");\n\t    }, this);\n\t  },\n\t\n\t  calcDefaults: function calcDefaults(seqs) {\n\t    if (seqs.length > 0) {\n\t      var seq = seqs.at(0);\n\t      var ids = seq.get(\"ids\");\n\t      if (ids !== undefined && Object.keys(ids).length === 0) {\n\t        return this.defaults.metaLinks = false;\n\t      }\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Zoomer;\n\tvar Model = __webpack_require__(2).Model;\n\t// pixel properties for some components\n\tmodule.exports = Zoomer = Model.extend({\n\t\n\t  constructor: function constructor(attributes, options) {\n\t    this.calcDefaults(options.model);\n\t    Model.apply(this, arguments);\n\t    this.g = options.g;\n\t\n\t    // events\n\t    this.listenTo(this, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", function () {\n\t      return this.trigger(\"change:labelWidth\", this.getLabelWidth());\n\t    }, this);\n\t    this.listenTo(this, \"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth\", function () {\n\t      return this.trigger(\"change:metaWidth\", this.getMetaWidth());\n\t    }, this);\n\t\n\t    return this;\n\t  },\n\t\n\t  defaults: {\n\t\n\t    // general\n\t    alignmentWidth: \"auto\",\n\t    alignmentHeight: 225,\n\t    columnWidth: 15,\n\t    rowHeight: 15,\n\t    autoResize: true, // only for the width\n\t\n\t    // labels\n\t    textVisible: true,\n\t    labelIdLength: 20,\n\t    labelNameLength: 100,\n\t    labelPartLength: 15,\n\t    labelCheckLength: 15,\n\t    labelFontsize: 13,\n\t    labelLineHeight: \"13px\",\n\t\n\t    // marker\n\t    markerFontsize: \"10px\",\n\t    stepSize: 1,\n\t    markerStepSize: 2,\n\t    markerHeight: 20,\n\t\n\t    // canvas\n\t    residueFont: \"13\", // in px\n\t    canvasEventScale: 1,\n\t\n\t    // overview box\n\t    boxRectHeight: 2,\n\t    boxRectWidth: 2,\n\t    overviewboxPaddingTop: 10,\n\t\n\t    // meta cell\n\t    metaGapWidth: 35,\n\t    metaIdentWidth: 40,\n\t    // metaLinksWidth: 25\n\t\n\t    // internal props\n\t    _alignmentScrollLeft: 0,\n\t    _alignmentScrollTop: 0\n\t  },\n\t\n\t  // sets some defaults, depending on the model\n\t  calcDefaults: function calcDefaults(model) {\n\t    var maxLen = model.getMaxLength();\n\t    if (maxLen < 200 && model.length < 30) {\n\t      return this.defaults.boxRectWidth = this.defaults.boxRectHeight = 5;\n\t    }\n\t  },\n\t\n\t  // @param n [int] maxLength of all seqs\n\t  getAlignmentWidth: function getAlignmentWidth(n) {\n\t    if (this.get(\"autoResize\") && n !== undefined) {\n\t      return this.get(\"columnWidth\") * n;\n\t    }\n\t    if (this.get(\"alignmentWidth\") === undefined || this.get(\"alignmentWidth\") === \"auto\" || this.get(\"alignmentWidth\") === 0) {\n\t      return this._adjustWidth();\n\t    } else {\n\t      return this.get(\"alignmentWidth\");\n\t    }\n\t  },\n\t\n\t  // @param n [int] number of residues to scroll to the right\n\t  setLeftOffset: function setLeftOffset(n) {\n\t    var val = n;\n\t    val = Math.max(0, val);\n\t    val -= this.g.columns.calcHiddenColumns(val);\n\t    return this.set(\"_alignmentScrollLeft\", val * this.get('columnWidth'));\n\t  },\n\t\n\t  // @param n [int] row that should be on top\n\t  setTopOffset: function setTopOffset(n) {\n\t    var val = Math.max(0, n - 1);\n\t    var height = 0;\n\t    for (var i = 0; 0 < val ? i <= val : i >= val; 0 < val ? i++ : i--) {\n\t      var seq = this.model.at(i);\n\t      height += seq.attributes.height || 1;\n\t    }\n\t    return this.set(\"_alignmentScrollTop\", height * this.get(\"rowHeight\"));\n\t  },\n\t\n\t  // length of all elements left to the main sequence body: labels, metacell, ..\n\t  getLeftBlockWidth: function getLeftBlockWidth() {\n\t    var paddingLeft = 0;\n\t    if (this.g.vis.get(\"labels\")) {\n\t      paddingLeft += this.getLabelWidth();\n\t    }\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      paddingLeft += this.getMetaWidth();\n\t    }\n\t    //paddingLeft += 15 # scroll bar\n\t    return paddingLeft;\n\t  },\n\t\n\t  getMetaWidth: function getMetaWidth() {\n\t    var val = 0;\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      val += this.get(\"metaGapWidth\");\n\t    }\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      val += this.get(\"metaIdentWidth\");\n\t    }\n\t    if (this.g.vis.get(\"metaLinks\")) {\n\t      val += this.get(\"metaLinksWidth\");\n\t    }\n\t    return val;\n\t  },\n\t\n\t  getLabelWidth: function getLabelWidth() {\n\t    var val = 0;\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      val += this.get(\"labelNameLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      val += this.get(\"labelIdLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      val += this.get(\"labelPartLength\");\n\t    }\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      val += this.get(\"labelCheckLength\");\n\t    }\n\t    return val;\n\t  },\n\t\n\t  _adjustWidth: function _adjustWidth() {\n\t    if (!(this.el !== undefined && this.model !== undefined)) {\n\t      return;\n\t    }\n\t    if (this.el.parentNode != null && this.el.parentNode.offsetWidth !== 0) {\n\t      var parentWidth = this.el.parentNode.offsetWidth;\n\t    } else {\n\t      parentWidth = document.body.clientWidth - 35;\n\t    }\n\t\n\t    // TODO: dirty hack\n\t    var maxWidth = parentWidth - this.getLeftBlockWidth();\n\t    var calcWidth = this.getAlignmentWidth(this.model.getMaxLength() - this.g.columns.get('hidden').length);\n\t    var val = Math.min(maxWidth, calcWidth);\n\t    // round to a valid AA box\n\t    val = Math.floor(val / this.get(\"columnWidth\")) * this.get(\"columnWidth\");\n\t\n\t    //@set \"alignmentWidth\", val\n\t    return this.attributes.alignmentWidth = val;\n\t  },\n\t\n\t  autoResize: function autoResize() {\n\t    if (this.get(\"autoResize\")) {\n\t      return this._adjustWidth(this.el, this.model);\n\t    }\n\t  },\n\t\n\t  // max is the maximal allowed height\n\t  autoHeight: function autoHeight(max) {\n\t    // TODO!\n\t    // make seqlogo height configurable\n\t    var val = this.getMaxAlignmentHeight();\n\t    if (max !== undefined && max > 0) {\n\t      val = Math.min(val, max);\n\t    }\n\t\n\t    return this.set(\"alignmentHeight\", val);\n\t  },\n\t\n\t  setEl: function setEl(el, model) {\n\t    this.el = el;\n\t    return this.model = model;\n\t  },\n\t\n\t  // updates both scroll properties (if needed)\n\t  _checkScrolling: function _checkScrolling(scrollObj, opts) {\n\t    var xScroll = scrollObj[0];\n\t    var yScroll = scrollObj[1];\n\t\n\t    this.set(\"_alignmentScrollLeft\", xScroll, opts);\n\t    return this.set(\"_alignmentScrollTop\", yScroll, opts);\n\t  },\n\t\n\t  getMaxAlignmentHeight: function getMaxAlignmentHeight() {\n\t    var height = 0;\n\t    this.model.each(function (seq) {\n\t      return height += seq.attributes.height || 1;\n\t    });\n\t\n\t    return height * this.get(\"rowHeight\");\n\t  },\n\t\n\t  getMaxAlignmentWidth: function getMaxAlignmentWidth() {\n\t    return this.model.getMaxLength() * this.get(\"columnWidth\");\n\t  }\n\t});\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Feature = __webpack_require__(30);\n\tvar Model = __webpack_require__(2).Model;\n\t\n\tmodule.exports = Feature = Model.extend({\n\t\n\t  defaults: { xStart: -1,\n\t    xEnd: -1,\n\t    height: -1,\n\t    text: \"\",\n\t    fillColor: \"red\",\n\t    fillOpacity: 0.5,\n\t    type: \"rectangle\",\n\t    borderSize: 1,\n\t    borderColor: \"black\",\n\t    borderOpacity: 0.5,\n\t    validate: true,\n\t    row: 0\n\t  },\n\t\n\t  initialize: function initialize(obj) {\n\t    if (obj.start != null) {\n\t      // gff counts from 1 where MSA starts at 0\n\t      // This fix that misalignment\n\t      this.set(\"xStart\", obj.start - 1);\n\t    }\n\t    if (obj.end != null) {\n\t      this.set(\"xEnd\", obj.end - 1);\n\t    }\n\t    // name has a predefined meaning\n\t    if (obj.attributes != null) {\n\t      if (obj.attributes.Name != null) {\n\t        this.set(\"text\", obj.attributes.Name);\n\t      }\n\t      if (obj.attributes.Color != null) {\n\t        this.set(\"fillColor\", obj.attributes.Color);\n\t      }\n\t    }\n\t\n\t    if (this.attributes.xEnd < this.attributes.xStart) {\n\t      console.warn(\"invalid feature range for\", this.attributes);\n\t    }\n\t\n\t    if (!_.isNumber(this.attributes.xStart) || !_.isNumber(this.attributes.xEnd)) {\n\t      console.warn(\"please provide numeric feature ranges\", obj);\n\t      // trying auto-casting\n\t      this.set(\"xStart\", parseInt(this.attributes.xStart));\n\t      return this.set(\"xEnd\", parseInt(this.attributes.xEnd));\n\t    }\n\t  },\n\t\n\t  validate: function validate() {\n\t    if (isNaN(this.attributes.xStart || isNaN(this.attributes.xEnd))) {\n\t      return \"features need integer start and end.\";\n\t    }\n\t  },\n\t\n\t  contains: function contains(index) {\n\t    return this.attributes.xStart <= index && index <= this.attributes.xEnd;\n\t  }\n\t});\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar FeatureCol;\n\tvar Feature = __webpack_require__(30);\n\tvar Collection = __webpack_require__(2).Collection;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = FeatureCol = Collection.extend({\n\t  model: Feature,\n\t\n\t  constructor: function constructor() {\n\t    this.startOnCache = [];\n\t    // invalidate cache\n\t    this.on(\"all\", function () {\n\t      return this.startOnCache = [];\n\t    }, this);\n\t    return Collection.apply(this, arguments);\n\t  },\n\t\n\t  // returns all features starting on index\n\t  startOn: function startOn(index) {\n\t    if (!(this.startOnCache[index] != null)) {\n\t      this.startOnCache[index] = this.where({ xStart: index });\n\t    }\n\t    return this.startOnCache[index];\n\t  },\n\t\n\t  contains: function contains(index) {\n\t    return this.reduce(function (el, memo) {\n\t      return memo || el.contains(index);\n\t    }, false);\n\t  },\n\t\n\t  getFeatureOnRow: function getFeatureOnRow(row, x) {\n\t    return this.filter(function (el) {\n\t      return el.get(\"row\") === row && el.get(\"xStart\") <= x && x <= el.get(\"xEnd\");\n\t    });\n\t  },\n\t\n\t  // tries to auto-fit the rows\n\t  // not a very efficient algorithm\n\t  assignRows: function assignRows() {\n\t\n\t    var len = this.max(function (el) {\n\t      return el.get(\"xEnd\");\n\t    }).attributes.xEnd;\n\t    var rows = function () {\n\t      var result = [];\n\t      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n\t        result.push(0);\n\t      }\n\t      return result;\n\t    }();\n\t\n\t    this.each(function (el) {\n\t      var max = 0;\n\t      var start = el.get(\"xStart\");\n\t      var end = el.get(\"xEnd\");\n\t      for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x--) {\n\t        if (rows[x] > max) {\n\t          max = rows[x];\n\t        }\n\t        rows[x]++;\n\t      }\n\t      return el.set(\"row\", max);\n\t    });\n\t\n\t    return _.max(rows);\n\t  },\n\t\n\t  getCurrentHeight: function getCurrentHeight() {\n\t    return this.max(function (el) {\n\t      return el.get(\"row\");\n\t    }).attributes.row + 1;\n\t  },\n\t\n\t  // gives the minimal needed number of rows\n\t  // not a very efficient algorithm\n\t  // (there is one in O(n) )\n\t  getMinRows: function getMinRows() {\n\t\n\t    var len = this.max(function (el) {\n\t      return el.get(\"xEnd\");\n\t    }).attributes.xEnd;\n\t    var rows = function () {\n\t      var result = [];\n\t      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n\t        result.push(0);\n\t      }\n\t      return result;\n\t    }();\n\t\n\t    this.each(function (el) {\n\t      return function () {\n\t        var result = [];\n\t        var start = el.get(\"xStart\");\n\t        var end = el.get(\"xEnd\");\n\t        for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x++) {\n\t          result.push(rows[x]++);\n\t        }\n\t        return result;\n\t      }();\n\t    });\n\t\n\t    return _.max(rows);\n\t  }\n\t});\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SeqManager;\n\tvar Sequence = __webpack_require__(33);\n\tvar FeatureCol = __webpack_require__(31);\n\tvar Collection = __webpack_require__(2).Collection;\n\t\n\tmodule.exports = SeqManager = Collection.extend({\n\t  model: Sequence,\n\t\n\t  constructor: function constructor(seqs, g) {\n\t    var _this = this;\n\t\n\t    Collection.apply(this, arguments);\n\t    this.g = g;\n\t\n\t    this.on(\"add reset remove\", function () {\n\t      // invalidate cache\n\t      _this.lengthCache = null;\n\t      return _this._bindSeqsWithFeatures();\n\t    }, this);\n\t\n\t    // use the first seq as reference as default\n\t    this.on(\"reset\", function () {\n\t      return _this._autoSetRefSeq();\n\t    });\n\t    this._autoSetRefSeq();\n\t\n\t    this.lengthCache = null;\n\t\n\t    this.features = {};\n\t    return this;\n\t  },\n\t\n\t  // gives the max length of all sequences\n\t  // (cached)\n\t  getMaxLength: function getMaxLength() {\n\t    if (this.models.length === 0) {\n\t      return 0;\n\t    }\n\t    if (this.lengthCache === null) {\n\t      this.lengthCache = this.max(function (seq) {\n\t        return seq.get(\"seq\").length;\n\t      }).get(\"seq\").length;\n\t    }\n\t    return this.lengthCache;\n\t  },\n\t\n\t  // gets the previous model\n\t  // @param endless [boolean] for the first element\n\t  // true: returns the last element, false: returns undefined\n\t  prev: function prev(model, endless) {\n\t    var index = this.indexOf(model) - 1;\n\t    if (index < 0 && endless) {\n\t      index = this.length - 1;\n\t    }\n\t    return this.at(index);\n\t  },\n\t\n\t  // gets the next model\n\t  // @param endless [boolean] for the last element\n\t  // true: returns the first element, false: returns undefined\n\t  next: function next(model, endless) {\n\t    var index = this.indexOf(model) + 1;\n\t    if (index === this.length && endless) {\n\t      index = 0;\n\t    }\n\t    return this.at(index);\n\t  },\n\t\n\t  // @returns n [int] number of hidden columns until n\n\t  calcHiddenSeqs: function calcHiddenSeqs(n) {\n\t    var nNew = n;\n\t    for (var i = 0; 0 < nNew ? i <= nNew : i >= nNew; 0 < nNew ? i++ : i--) {\n\t      if (this.at(i).get(\"hidden\")) {\n\t        nNew++;\n\t      }\n\t    }\n\t    return nNew - n;\n\t  },\n\t\n\t  // you can add features independent to the current seqs as they may be added\n\t  // later (lagging connection)\n\t  addFeatures: function addFeatures(features) {\n\t    var _this2 = this;\n\t\n\t    if (features.config != null) {\n\t      var obj = features;\n\t      features = features.seqs;\n\t      if (obj.config.colors != null) {\n\t        var colors = obj.config.colors;\n\t        _.each(features, function (seq) {\n\t          return _.each(seq, function (val) {\n\t            if (colors[val.feature] != null) {\n\t              return val.fillColor = colors[val.feature];\n\t            }\n\t          });\n\t        });\n\t      }\n\t    }\n\t    if (_.isEmpty(this.features)) {\n\t      this.features = features;\n\t    } else {\n\t      _.each(features, function (val, key) {\n\t        if (!_this2.features.hasOwnProperty(key)) {\n\t          return _this2.features[key] = val;\n\t        } else {\n\t          return _this2.features[key] = _.union(_this2.features[key], val);\n\t        }\n\t      });\n\t    }\n\t    // rehash\n\t    return this._bindSeqsWithFeatures();\n\t  },\n\t\n\t  // adds features to a sequence\n\t  _bindSeqWithFeatures: function _bindSeqWithFeatures(seq) {\n\t    // TODO: probably we don't always want to bind to name\n\t    var features = this.features[seq.attributes.name];\n\t    if (features) {\n\t      seq.set(\"features\", new FeatureCol(features));\n\t      seq.attributes.features.assignRows();\n\t      return seq.set(\"height\", seq.attributes.features.getCurrentHeight() + 1);\n\t    }\n\t  },\n\t\n\t  // rehash the sequence feature binding\n\t  _bindSeqsWithFeatures: function _bindSeqsWithFeatures() {\n\t    var _this3 = this;\n\t\n\t    return this.each(function (seq) {\n\t      return _this3._bindSeqWithFeatures(seq);\n\t    });\n\t  },\n\t\n\t  // removes all features from the cache (not from the seqs)\n\t  removeAllFeatures: function removeAllFeatures() {\n\t    return delete this.features;\n\t  },\n\t\n\t  _autoSetRefSeq: function _autoSetRefSeq() {\n\t    if (this.length > 0) {\n\t      return this.at(0).set(\"ref\", true);\n\t    }\n\t  },\n\t\n\t  // sets a sequence (e.g. BLAST start or consensus seq) as reference\n\t  setRef: function setRef(seq) {\n\t    var obj = this.get(seq);\n\t    this.each(function (s) {\n\t      if (seq.cid) {\n\t        if (obj.cid === s.cid) {\n\t          return s.set(\"ref\", true);\n\t        } else {\n\t          return s.set(\"ref\", false);\n\t        }\n\t      }\n\t    });\n\t\n\t    this.g.config.set(\"hasRef\", true);\n\t    return this.trigger(\"change:reference\", seq);\n\t  }\n\t});\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Sequence;\n\tvar Model = __webpack_require__(2).Model;\n\tvar FeatureCol = __webpack_require__(31);\n\t\n\tmodule.exports = Sequence = Model.extend({\n\t\n\t  defaults: {\n\t    name: \"\",\n\t    id: \"\",\n\t    seq: \"\",\n\t    height: 1,\n\t    ref: false },\n\t\n\t  // reference: the sequence used in BLAST or the consensus seq\n\t  initialize: function initialize() {\n\t    // residues without color\n\t    this.set(\"grey\", []);\n\t    if (!(this.get(\"features\") != null)) {\n\t      return this.set(\"features\", new FeatureCol());\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.bmath = __webpack_require__(12);\n\tmodule.exports.proxy = __webpack_require__(16);\n\tmodule.exports.seqgen = __webpack_require__(35);\n\tmodule.exports.file = __webpack_require__(14);\n\tmodule.exports.export = __webpack_require__(13);\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Sequence = __webpack_require__(122).seq;\n\tvar BMath = __webpack_require__(12);\n\tvar Stat = __webpack_require__(51);\n\t\n\tvar seqgen = module.exports = { _generateSequence: function _generateSequence(len) {\n\t    var text = \"\";\n\t    var end = len - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      text += seqgen.getRandomChar();\n\t    }\n\t    return text;\n\t  },\n\t\n\t  // generates a dummy sequences\n\t  // @param len [int] number of generated sequences\n\t  // @param seqLen [int] length of the generated sequences\n\t  getDummySequences: function getDummySequences(len, seqLen) {\n\t    var seqs = [];\n\t    if (!(typeof len !== \"undefined\" && len !== null)) {\n\t      len = BMath.getRandomInt(3, 5);\n\t    }\n\t    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) {\n\t      seqLen = BMath.getRandomInt(50, 200);\n\t    }\n\t\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      seqs.push(new Sequence(seqgen._generateSequence(seqLen), \"seq\" + i, \"r\" + i));\n\t    }\n\t    return seqs;\n\t  },\n\t\n\t  getRandomChar: function getRandomChar(dict) {\n\t    var possible = dict || \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\t    return possible.charAt(Math.floor(Math.random() * possible.length));\n\t  },\n\t\n\t  // generates a dummy sequences\n\t  // @param len [int] number of generated sequences\n\t  // @param seqLen [int] length of the generated sequences\n\t  genConservedSequences: function genConservedSequences(len, seqLen, dict) {\n\t    var seqs = [];\n\t    if (!(typeof len !== \"undefined\" && len !== null)) {\n\t      len = BMath.getRandomInt(3, 5);\n\t    }\n\t    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) {\n\t      seqLen = BMath.getRandomInt(50, 200);\n\t    }\n\t\n\t    dict = dict || \"ACDEFGHIKLMNPQRSTVWY---\";\n\t\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      seqs[i - 1] = \"\";\n\t    }\n\t\n\t    var tolerance = 0.2;\n\t\n\t    var conservAim = 1;\n\t    var end = seqLen - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      if (i % 3 === 0) {\n\t        conservAim = BMath.getRandomInt(50, 100) / 100;\n\t      }\n\t      var observed = [];\n\t      var end1 = len - 1;\n\t      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n\t        var counter = 0;\n\t        while (counter < 100) {\n\t          var c = seqgen.getRandomChar(dict);\n\t          var cConserv = Stat(observed);\n\t          cConserv.addSeq(c);\n\t          counter++;\n\t          if (Math.abs(conservAim - cConserv.scale(cConserv.conservation())[0]) < tolerance) {\n\t            break;\n\t          }\n\t        }\n\t        seqs[j] += c;\n\t        observed.push(c);\n\t      }\n\t    }\n\t\n\t    var pseqs = [];\n\t    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n\t      pseqs.push(new Sequence(seqs[i - 1], \"seq\" + i, \"r\" + i));\n\t    }\n\t\n\t    return pseqs;\n\t  }\n\t};\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar treeHelper;\n\tvar _ = __webpack_require__(1);\n\tvar SeqCollection = __webpack_require__(32);\n\t\n\tmodule.exports = treeHelper = function treeHelper(msa) {\n\t  this.msa = msa;\n\t  return this;\n\t};\n\t\n\tvar tf = { loadTree: function loadTree(cb) {\n\t    return this.msa.g.package.loadPackages([\"msa-tnt\", \"biojs-io-newick\"], cb);\n\t  },\n\t\n\t  showTree: function showTree(newickStr) {\n\t    var newick = this.require(\"biojs-io-newick\");\n\t    if (typeof newickStr === \"string\") {\n\t      var newickObj = newick.parse_newick(newickStr);\n\t    } else {\n\t      newickObj = newickStr;\n\t    }\n\t\n\t    var mt = this.require(\"msa-tnt\");\n\t\n\t    var sel = new mt.selections();\n\t    var treeDiv = document.createElement(\"div\");\n\t    //   @msa.el.insertBefore treeDiv, @msa.el.childNodes[0]\n\t    this.msa.el.appendChild(treeDiv);\n\t\n\t    console.log(this.msa.seqs.models);\n\t    console.log(newickObj);\n\t\n\t    var nodes = mt.app({\n\t      seqs: this.msa.seqs.toJSON(),\n\t      tree: newickObj\n\t    });\n\t\n\t    console.log(\"nodes\", nodes);\n\t\n\t    var t = new mt.adapters.tree({\n\t      model: nodes,\n\t      el: treeDiv,\n\t      sel: sel\n\t    });\n\t\n\t    //treeDiv.style.width = \"500px\"\n\t\n\t    // construct msa in a virtual dom\n\t    var m = new mt.adapters.msa({\n\t      model: nodes,\n\t      sel: sel,\n\t      msa: this.msa\n\t    });\n\t\n\t    // remove top collection\n\t    _.each(nodes.models, function (e) {\n\t      delete e.collection;\n\t      return Object.setPrototypeOf(e, __webpack_require__(2).Model.prototype);\n\t    });\n\t\n\t    this.msa.seqs.reset(nodes.models);\n\t    //@msa.draw()\n\t    //@msa.render()\n\t    return console.log(this.msa.seqs);\n\t  },\n\t\n\t  // workaround against browserify's static analysis\n\t  require: function (_require) {\n\t    function require(_x) {\n\t      return _require.apply(this, arguments);\n\t    }\n\t\n\t    require.toString = function () {\n\t      return _require.toString();\n\t    };\n\t\n\t    return require;\n\t  }(function (pkg) {\n\t    return __webpack_require__(168)(pkg);\n\t  })\n\t};\n\t\n\t_.extend(treeHelper.prototype, tf);\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(88);\n\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function (definition) {\n\t  if (true) {\n\t    module.exports = definition();\n\t  }\n\t  else if (typeof define === 'function' && define.amd) {\n\t    define(definition);\n\t  }\n\t  else {\n\t    window.BackboneExtend = definition();\n\t  }\n\t})(function () {\n\t  \"use strict\";\n\t  \n\t  // mini-underscore\n\t  var _ = {\n\t    has: function (obj, key) {\n\t      return Object.prototype.hasOwnProperty.call(obj, key);\n\t    },\n\t  \n\t    extend: function(obj) {\n\t      for (var i=1; i<arguments.length; ++i) {\n\t        var source = arguments[i];\n\t        if (source) {\n\t          for (var prop in source) {\n\t            obj[prop] = source[prop];\n\t          }\n\t        }\n\t      }\n\t      return obj;\n\t    }\n\t  };\n\t\n\t  /// Following code is pasted from Backbone.js ///\n\t\n\t  // Helper function to correctly set up the prototype chain, for subclasses.\n\t  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n\t  // class properties to be extended.\n\t  var extend = function(protoProps, staticProps) {\n\t    var parent = this;\n\t    var child;\n\t\n\t    // The constructor function for the new subclass is either defined by you\n\t    // (the \"constructor\" property in your `extend` definition), or defaulted\n\t    // by us to simply call the parent's constructor.\n\t    if (protoProps && _.has(protoProps, 'constructor')) {\n\t      child = protoProps.constructor;\n\t    } else {\n\t      child = function(){ return parent.apply(this, arguments); };\n\t    }\n\t\n\t    // Add static properties to the constructor function, if supplied.\n\t    _.extend(child, parent, staticProps);\n\t\n\t    // Set the prototype chain to inherit from `parent`, without calling\n\t    // `parent`'s constructor function.\n\t    var Surrogate = function(){ this.constructor = child; };\n\t    Surrogate.prototype = parent.prototype;\n\t    child.prototype = new Surrogate();\n\t\n\t    // Add prototype properties (instance properties) to the subclass,\n\t    // if supplied.\n\t    if (protoProps) _.extend(child.prototype, protoProps);\n\t\n\t    // Set a convenience property in case the parent's prototype is needed\n\t    // later.\n\t    child.__super__ = parent.prototype;\n\t\n\t    return child;\n\t  };\n\t\n\t  // Expose the extend function\n\t  return extend;\n\t});\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * biojs-io-gff\n\t * https://github.com/greenify/biojs-io-gff\n\t *\n\t * Copyright (c) 2014 greenify\n\t * Licensed under the Apache 2 license.\n\t */\n\t\n\tvar parser = __webpack_require__(113);\n\t\n\tvar gff = function() {};\n\tparser.mixin(gff);\n\t\n\tmodule.exports = gff;\n\t\n\tvar utils = __webpack_require__(46);\n\tvar jalview = __webpack_require__(112);\n\t\n\t/**\n\t * Method responsible to parse GFF\n\t * @see https://www.sanger.ac.uk/resources/software/gff/spec.html#t_2\n\t *\n\t * @example\n\t *\n\t *     biojsiogff.parse('SEQ1  EMBL  atg  103  105  .  +  0');\n\t *\n\t * @method parse\n\t * @param {String} file GFF file\n\t * @return {String} Returns JSON representation\n\t */\n\t\n\tgff.parseLines = function(file) {\n\t  var lines = file.split(\"\\n\");\n\t  var config = {};\n\t  var arr = [];\n\t  config.type = gff._guessType(lines);\n\t  var offset = 0;\n\t  if (config.type === \"jalview\") {\n\t    var ret = jalview.readHeader(lines);\n\t    //console.log(ret);\n\t    offset = ret.offset;\n\t    config.colors = ret.colors;\n\t    arr = ret.features;\n\t  }\n\t  for (var i = offset; i < lines.length; i++) {\n\t    // ignore comments for now\n\t    var line = lines[i];\n\t    if (line.length === 0 || line[0] === \"#\")\n\t      continue;\n\t\n\t    line = gff.parseLine(line);\n\t    if (line !== undefined)\n\t      arr.push(line);\n\t  }\n\t  return {\n\t    features: arr,\n\t    config: config\n\t  };\n\t};\n\t\n\tgff._guessType = function(line) {\n\t  if (line[0].substring(0, 15) === \"##gff-version 3\") {\n\t    return \"gff3\";\n\t  } else if (line[0].indexOf(\"#\") < 0 && line[0].split(\"\\t\").length === 2) {\n\t    // no comments and two columns. let's hope this is from jalview\n\t    return \"jalview\";\n\t  }\n\t  // unable to read file header. lets hope this is gff3\n\t  return \"gff3\";\n\t};\n\t\n\t/**\n\t * parses GFF and returns a dictionary of all seqs with their features\n\t * @method parseSeqs\n\t * @param {String} file GFF file\n\t * @return {String} Returns dictionary of sequences with an array of their features\n\t */\n\tgff.parseSeqs = gff.parse = function(file) {\n\t  var obj = gff.parseLines (file);\n\t  var seqs = {};\n\t  obj.features.forEach(function(entry) {\n\t    var key = entry.seqname;\n\t    if (seqs[key] === undefined) seqs[key] = [];\n\t    delete entry.seqname;\n\t    seqs[key].push(entry);\n\t  });\n\t  delete obj.features;\n\t  obj.seqs = seqs;\n\t  return obj;\n\t};\n\t\n\t/*\n\t * parses one GFF line and returns it\n\t */\n\tgff.parseLine = function(line) {\n\t  var tLine = {};\n\t\n\t  var columns = line.split(/\\s+/);\n\t  // ignore empty lines\n\t  if (columns.length === 1)\n\t    return;\n\t\n\t  tLine.seqname = columns[0];\n\t  tLine.source = columns[1];\n\t  tLine.feature = columns[2];\n\t  tLine.start = parseInt(columns[3]);\n\t  tLine.end = parseInt(columns[4]);\n\t  tLine.score = columns[5]; // only DNA,RNA\n\t  tLine.strand = columns[6]; // only DNA,RNA\n\t  tLine.frame = columns[7]; // only DNA,RNA\n\t  var attr = columns.slice(8).join(\" \"); // plain text comments\n\t\n\t  // remove undefined (dot)\n\t  Object.keys(tLine).forEach(function(key) {\n\t    if (tLine[key] === \".\") {\n\t      tLine[key] = undefined;\n\t    }\n\t  });\n\t\n\t  // parse optional parameters\n\t  if (tLine.score) {\n\t    tLine.score = parseFloat(tLine.score);\n\t  }\n\t  if (tLine.frame) {\n\t    tLine.frame = parseInt(tLine.frame);\n\t  }\n\t\n\t  tLine.attributes = utils.extractKeys(attr);\n\t  return tLine;\n\t};\n\t\n\tgff.exportLine = function(line) {\n\t  var attrs = Object.keys(line.attributes).map(function(key) {\n\t    return key + \"=\" + line.attributes[key];\n\t  }).join(\";\");\n\t  var cells = [line.seqname, line.source, line.feature, line.start, line.end, line.score,\n\t    line.strand, line.frame, attrs\n\t  ];\n\t  cells = cells.map(function(e) {\n\t    if (e === undefined) {\n\t      return \".\";\n\t    }\n\t    return e;\n\t  });\n\t  return cells.join(\"\\t\");\n\t};\n\t\n\tgff.exportLines = function(lines) {\n\t  return \"##gff-version 3\\n\" + lines.map(gff.exportLine).join(\"\\n\");\n\t};\n\t\n\tgff.exportSeqs = gff.export = function(seqs) {\n\t  var lines = [];\n\t  var pLine = function(e) {\n\t    e.seqname = key;\n\t    lines.push(e);\n\t  };\n\t\n\t  for (var key in seqs) {\n\t    seqs[key].forEach(pLine);\n\t  }\n\t  return gff.exportLines(lines);\n\t};\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t/*\n\t * msa-seqtools\n\t * https://github.com/greenify/msa-seqtools\n\t *\n\t * Copyright (c) 2014 greenify\n\t * Licensed under the MIT license.\n\t */\n\t\n\tvar st = {};\n\tmodule.exports = st;\n\t\n\t/****\n\t * Seems to be lots of different ways to format FASTA headers. \n\t * \n\t * Generally there's an ID and a DESCRIPTION\n\t *   >ID DESCRIPTION\n\t * \n\t *   >(parts|of|ID) (DESCRIPTION with optional key=values)\n\t *   \n\t * This is complicated by the fact that the \"values\" in the description can have spaces\n\t * e.g. OS=Arabidopsis thaliana GN=CCD8\n\t * \n\t ****\n\t*/\n\t\n\t// extract IDs and push them to the meta dict\n\tst.getMeta = function(label) {\n\t  \n\t\tvar full_id = false, full_desc = false;\n\t\tvar name, ids = {}, details = {}, description;\n\t\n\t// \tconsole.log( \"getMeta.label: \", label );\n\t  \n\t\tvar label_parts = label.split(\" \");\n\t\n\t\tif ( label_parts.length >= 1 ) {\n\t\t\tfull_id   = label_parts.shift();     // everything up to the first white space\n\t\t\tfull_desc = label_parts.join(\" \");   // everything else\n\t\t}\n\t\telse {\n\t\t\tfull_id = label; \n\t\t}\n\t\t\n\t// \tconsole.log( \"full_id\", full_id );\n\t// \tconsole.log( \"full_desc\", full_desc );\n\t\t\n\t\tif ( full_id ) {\n\t\t\tvar id_parts = full_id.split('|');\n\t\t\t\n\t\t\t// the last item is the accession\n\t\t\tname = id_parts.pop(); \n\t\t\t\n\t\t\tdetails.en = name;\n\t\t\t\n\t\t\t// everything else should be pairs: db|id\n\t\t\twhile ( id_parts.length != 0 ) {\n\t\t\t\tvar db = id_parts.shift();\n\t\t\t\tvar id = id_parts.shift();\n\t\t\t\tids[ db ] = id;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tname = full_id;\n\t\t}\n\t\n\t\tif ( full_desc ) {\n\t\t\n\t\t\tvar kv_parts = full_desc.split('=');\n\t\t\n\t\t\tif ( kv_parts.length > 1 ) {\n\t\t\t\t\n\t\t\t\tvar current_key, next_key;\n\t\t\t\tvar kv;\n\t\t\t\tvar kv_idx_max = kv_parts.length - 1;\n\t\t\t\tvar kv_idx = 0;\n\t\t\t\tkv_parts.forEach( function( value_and_maybe_next_key ) {\n\t\t\t\t\t\n\t\t\t\t\tvalue_and_maybe_next_key = value_and_maybe_next_key.trim();\n\t\t\t\t\t\n\t\t\t\t\tvar value_parts = value_and_maybe_next_key.split(\" \");\n\t\t\t\t\tvar value;\n\t\t\t\t\tif ( value_parts.length > 1 ) {\n\t\t\t\t\t\tnext_key = value_parts.pop();\n\t\t\t\t\t\tvalue = value_parts.join(' ');\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tvalue = value_and_maybe_next_key;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( current_key ) {\n\t\t\t\t\t\tvar key = current_key.toLowerCase();\n\t\t\t\t\t\tdetails[ key ] = value;\n\t\t\t\t\t\t//console.log( \"details[\" + key + \"] = \" + value );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tdescription = value;\n\t\t\t\t\t\t//console.log( \"description=\" + value );\n\t\t\t\t\t}\n\t\t\t\t\tcurrent_key = next_key;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdescription = kv_parts.shift();\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar meta = {\n\t\t\tname: name,\n\t\t\tids: ids,\n\t\t\tdetails: details,\n\t\t};\n\t\t\n\t\tif ( description ) {\n\t\t\tmeta.desc = description\n\t\t}\n\t\t\n\t// \tconsole.log( \"meta\", meta );\n\t\t\n\t\treturn meta;\n\t};\n\t\n\tvar findSepInArr = function(arr, sep) {\n\t  for (var i = 0; i < arr.lenght; i++) {\n\t    if (arr[i].indexOf(i)) {\n\t      return i;\n\t    }\n\t  }\n\t  return arr.length - 1;\n\t};\n\t\n\tvar strToDict = function(str, sep, toJoin) {\n\t  toJoin = toJoin || {};\n\t  var entries = str.split(sep);\n\t  toJoin[entries[0].toLowerCase()] = entries[1];\n\t  return toJoin;\n\t};\n\t\n\tvar identDB = {\n\t  \"sp\": {\n\t    link: \"http://www.uniprot.org/%s\",\n\t    name: \"Uniprot\"\n\t  },\n\t  \"tr\": {\n\t    link: \"http://www.uniprot.org/%s\",\n\t    name: \"Trembl\"\n\t  },\n\t  \"gb\": {\n\t    link: \"http://www.ncbi.nlm.nih.gov/nuccore/%s\",\n\t    name: \"Genbank\"\n\t  },\n\t  \"pdb\": {\n\t    link: \"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s\",\n\t    name: \"PDB\"\n\t  }\n\t};\n\t\n\tst.buildLinks = function(meta) {\n\t  var links = {};\n\t  meta = meta || {};\n\t  Object.keys(meta).forEach(function(id) {\n\t    if (id in identDB) {\n\t      var entry = identDB[id];\n\t      var link = entry.link.replace(\"%s\", meta[id]);\n\t      links[entry.name] = link;\n\t    }\n\t  });\n\t  return links;\n\t};\n\t\n\t\n\t// search for a text\n\tst.contains = function(text, search) {\n\t  return ''.indexOf.call(text, search, 0) !== -1;\n\t};\n\t\n\t// split after e.g. 80 chars\n\tst.splitNChars = function(txt, num) {\n\t  var i, _ref;\n\t  num = num || 80;\n\t  var result = [];\n\t  for (i = 0, _ref = txt.length - 1; i <= _ref; i += num) {\n\t    result.push(txt.substr(i, num));\n\t  }\n\t  return result;\n\t};\n\t\n\tst.reverse = function(seq) {\n\t  return seq.split('').reverse().join('');\n\t}\n\t\n\tst.complement = function(seq) {\n\t  var newSeq = seq + \"\";\n\t  var replacements = [\n\t    // cg\n\t    [/g/g, \"0\"],\n\t    [/c/g, \"1\"],\n\t    [/0/g, \"c\"],\n\t    [/1/g, \"g\"],\n\t    // CG\n\t    [/G/g, \"0\"],\n\t    [/C/g, \"1\"],\n\t    [/0/g, \"C\"],\n\t    [/1/g, \"G\"],\n\t    // at\n\t    [/a/g, \"0\"],\n\t    [/t/g, \"1\"],\n\t    [/0/g, \"t\"],\n\t    [/1/g, \"a\"],\n\t    // AT\n\t    [/A/g, \"0\"],\n\t    [/T/g, \"1\"],\n\t    [/0/g, \"T\"],\n\t    [/1/g, \"A\"],\n\t  ];\n\t\n\t  for(var rep in replacements){\n\t    newSeq = newSeq.replace(replacements[rep][0], replacements[rep][1]);\n\t  }\n\t  return newSeq;\n\t}\n\t\n\tst.reverseComplement = function(seq){\n\t  return st.reverse(st.complement(seq));\n\t}\n\t\n\tst.model = function Seq(seq, name, id) {\n\t  this.seq = seq;\n\t  this.name = name;\n\t  this.id = id;\n\t  this.ids = {};\n\t};\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\r\n\t\tif(!module.webpackPolyfill) {\r\n\t\t\tmodule.deprecate = function() {};\r\n\t\t\tmodule.paths = [];\r\n\t\t\t// module.parent = undefined by default\r\n\t\t\tmodule.children = [];\r\n\t\t\tmodule.webpackPolyfill = 1;\r\n\t\t}\r\n\t\treturn module;\r\n\t}\r\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t//module.exports.VerticalSelection = require(\"./vertical_selection\")\n\t//module.exports.HorizontalSelection = require(\"./horizontal_selection\")\n\t//module.exports.RegionSelect = require(\"./region_select\")\n\t//module.exports.PositionSelect = require(\"./position_selection\")\n\tmodule.exports.SelectionManager = __webpack_require__(9);\n\t//module.exports.SelectionList = require(\"./selectionlist\")\n\t//module.exports.RectangularSelect = require(\"./rectangular_select\")\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.seq = __webpack_require__(33);\n\tmodule.exports.seqcol = __webpack_require__(32);\n\tmodule.exports.feature = __webpack_require__(30);\n\tmodule.exports.featurecol = __webpack_require__(31);\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//     Backbone.js 1.1.2\n\t\n\t//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Backbone may be freely distributed under the MIT license.\n\t//     For all details and documentation:\n\t//     http://backbonejs.org\n\t\n\tvar Events = __webpack_require__(37);\n\tvar extend = __webpack_require__(38);\n\tvar _ = __webpack_require__(1);\n\t\n\t// Backbone.Model\n\t// --------------\n\t\n\t// Backbone **Models** are the basic data object in the framework --\n\t// frequently representing a row in a table in a database on your server.\n\t// A discrete chunk of data and a bunch of useful, related methods for\n\t// performing computations and transformations on that data.\n\t\n\t// Create a new model with the specified attributes. A client id (`cid`)\n\t// is automatically generated and assigned for you.\n\tvar Model = function(attributes, options) {\n\t  var attrs = attributes || {};\n\t  options || (options = {});\n\t  this.cid = _.uniqueId('c');\n\t  this.attributes = {};\n\t  if (options.collection) this.collection = options.collection;\n\t  if (options.parse) attrs = this.parse(attrs, options) || {};\n\t  attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n\t  this.set(attrs, options);\n\t  this.changed = {};\n\t  this.initialize.apply(this, arguments);\n\t};\n\t\n\t// Attach all inheritable methods to the Model prototype.\n\t_.extend(Model.prototype, Events, {\n\t\n\t  // A hash of attributes whose current and previous value differ.\n\t  changed: null,\n\t\n\t  // The value returned during the last failed validation.\n\t  validationError: null,\n\t\n\t    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n\t    // CouchDB users may want to set this to `\"_id\"`.\n\t  idAttribute: 'id',\n\t\n\t    // Initialize is an empty function by default. Override it with your own\n\t    // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // Return a copy of the model's `attributes` object.\n\t  toJSON: function(options) {\n\t    return _.clone(this.attributes);\n\t  },\n\t\n\t    // Proxy `Backbone.sync` by default -- but override this if you need\n\t    // custom syncing semantics for *this* particular model.\n\t  sync: function() {\n\t    return Backbone.sync.apply(this, arguments);\n\t  },\n\t\n\t    // Get the value of an attribute.\n\t  get: function(attr) {\n\t    return this.attributes[attr];\n\t  },\n\t\n\t    // Get the HTML-escaped value of an attribute.\n\t  escape: function(attr) {\n\t    return _.escape(this.get(attr));\n\t  },\n\t\n\t    // Returns `true` if the attribute contains a value that is not null\n\t    // or undefined.\n\t  has: function(attr) {\n\t    return this.get(attr) != null;\n\t  },\n\t\n\t    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n\t    // the core primitive operation of a model, updating the data and notifying\n\t    // anyone who needs to know about the change in state. The heart of the beast.\n\t  set: function(key, val, options) {\n\t    var attr, attrs, unset, changes, silent, changing, prev, current;\n\t    if (key == null) return this;\n\t\n\t    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\t    if (typeof key === 'object') {\n\t      attrs = key;\n\t      options = val;\n\t    } else {\n\t      (attrs = {})[key] = val;\n\t    }\n\t\n\t    options || (options = {});\n\t\n\t    // Run validation.\n\t    if (!this._validate(attrs, options)) return false;\n\t\n\t    // Extract attributes and options.\n\t    unset           = options.unset;\n\t    silent          = options.silent;\n\t    changes         = [];\n\t    changing        = this._changing;\n\t    this._changing  = true;\n\t\n\t    if (!changing) {\n\t      this._previousAttributes = _.clone(this.attributes);\n\t      this.changed = {};\n\t    }\n\t    current = this.attributes, prev = this._previousAttributes;\n\t\n\t    // Check for changes of `id`.\n\t    if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\t\n\t    // For each `set` attribute, update or delete the current value.\n\t    for (attr in attrs) {\n\t      val = attrs[attr];\n\t      if (!_.isEqual(current[attr], val)) changes.push(attr);\n\t      if (!_.isEqual(prev[attr], val)) {\n\t        this.changed[attr] = val;\n\t      } else {\n\t        delete this.changed[attr];\n\t      }\n\t      unset ? delete current[attr] : current[attr] = val;\n\t    }\n\t\n\t    // Trigger all relevant attribute changes.\n\t    if (!silent) {\n\t      if (changes.length) this._pending = options;\n\t      for (var i = 0, length = changes.length; i < length; i++) {\n\t        this.trigger('change:' + changes[i], this, current[changes[i]], options);\n\t      }\n\t    }\n\t\n\t    // You might be wondering why there's a `while` loop here. Changes can\n\t    // be recursively nested within `\"change\"` events.\n\t    if (changing) return this;\n\t    if (!silent) {\n\t      while (this._pending) {\n\t        options = this._pending;\n\t        this._pending = false;\n\t        this.trigger('change', this, options);\n\t      }\n\t    }\n\t    this._pending = false;\n\t    this._changing = false;\n\t    return this;\n\t  },\n\t\n\t    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n\t    // if the attribute doesn't exist.\n\t  unset: function(attr, options) {\n\t    return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n\t  },\n\t\n\t    // Clear all attributes on the model, firing `\"change\"`.\n\t  clear: function(options) {\n\t    var attrs = {};\n\t    for (var key in this.attributes) attrs[key] = void 0;\n\t    return this.set(attrs, _.extend({}, options, {unset: true}));\n\t  },\n\t\n\t    // Determine if the model has changed since the last `\"change\"` event.\n\t    // If you specify an attribute name, determine if that attribute has changed.\n\t  hasChanged: function(attr) {\n\t    if (attr == null) return !_.isEmpty(this.changed);\n\t    return _.has(this.changed, attr);\n\t  },\n\t\n\t    // Return an object containing all the attributes that have changed, or\n\t    // false if there are no changed attributes. Useful for determining what\n\t    // parts of a view need to be updated and/or what attributes need to be\n\t    // persisted to the server. Unset attributes will be set to undefined.\n\t    // You can also pass an attributes object to diff against the model,\n\t    // determining if there *would be* a change.\n\t  changedAttributes: function(diff) {\n\t    if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n\t    var val, changed = false;\n\t    var old = this._changing ? this._previousAttributes : this.attributes;\n\t    for (var attr in diff) {\n\t      if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n\t      (changed || (changed = {}))[attr] = val;\n\t    }\n\t    return changed;\n\t  },\n\t\n\t    // Get the previous value of an attribute, recorded at the time the last\n\t    // `\"change\"` event was fired.\n\t  previous: function(attr) {\n\t    if (attr == null || !this._previousAttributes) return null;\n\t    return this._previousAttributes[attr];\n\t  },\n\t\n\t    // Get all of the attributes of the model at the time of the previous\n\t    // `\"change\"` event.\n\t  previousAttributes: function() {\n\t    return _.clone(this._previousAttributes);\n\t  },\n\t\n\t    // Fetch the model from the server. If the server's representation of the\n\t    // model differs from its current attributes, they will be overridden,\n\t    // triggering a `\"change\"` event.\n\t  fetch: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (options.parse === void 0) options.parse = true;\n\t    var model = this;\n\t    var success = options.success;\n\t    options.success = function(resp) {\n\t      if (!model.set(model.parse(resp, options), options)) return false;\n\t      if (success) success(model, resp, options);\n\t      model.trigger('sync', model, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t    return this.sync('read', this, options);\n\t  },\n\t\n\t    // Set a hash of model attributes, and sync the model to the server.\n\t    // If the server returns an attributes hash that differs, the model's\n\t    // state will be `set` again.\n\t  save: function(key, val, options) {\n\t    var attrs, method, xhr, attributes = this.attributes;\n\t\n\t    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n\t    if (key == null || typeof key === 'object') {\n\t      attrs = key;\n\t      options = val;\n\t    } else {\n\t      (attrs = {})[key] = val;\n\t    }\n\t\n\t    options = _.extend({validate: true}, options);\n\t\n\t    // If we're not waiting and attributes exist, save acts as\n\t    // `set(attr).save(null, opts)` with validation. Otherwise, check if\n\t    // the model will be valid when the attributes, if any, are set.\n\t    if (attrs && !options.wait) {\n\t      if (!this.set(attrs, options)) return false;\n\t    } else {\n\t      if (!this._validate(attrs, options)) return false;\n\t    }\n\t\n\t    // Set temporary attributes if `{wait: true}`.\n\t    if (attrs && options.wait) {\n\t      this.attributes = _.extend({}, attributes, attrs);\n\t    }\n\t\n\t    // After a successful server-side save, the client is (optionally)\n\t    // updated with the server-side state.\n\t    if (options.parse === void 0) options.parse = true;\n\t    var model = this;\n\t    var success = options.success;\n\t    options.success = function(resp) {\n\t      // Ensure attributes are restored during synchronous saves.\n\t      model.attributes = attributes;\n\t      var serverAttrs = model.parse(resp, options);\n\t      if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n\t      if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n\t        return false;\n\t      }\n\t      if (success) success(model, resp, options);\n\t      model.trigger('sync', model, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t\n\t    method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n\t    if (method === 'patch' && !options.attrs) options.attrs = attrs;\n\t    xhr = this.sync(method, this, options);\n\t\n\t    // Restore attributes.\n\t    if (attrs && options.wait) this.attributes = attributes;\n\t\n\t    return xhr;\n\t  },\n\t\n\t    // Destroy this model on the server if it was already persisted.\n\t    // Optimistically removes the model from its collection, if it has one.\n\t    // If `wait: true` is passed, waits for the server to respond before removal.\n\t  destroy: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    var model = this;\n\t    var success = options.success;\n\t\n\t    var destroy = function() {\n\t      model.stopListening();\n\t      model.trigger('destroy', model, model.collection, options);\n\t    };\n\t\n\t    options.success = function(resp) {\n\t      if (options.wait || model.isNew()) destroy();\n\t      if (success) success(model, resp, options);\n\t      if (!model.isNew()) model.trigger('sync', model, resp, options);\n\t    };\n\t\n\t    if (this.isNew()) {\n\t      options.success();\n\t      return false;\n\t    }\n\t    wrapError(this, options);\n\t\n\t    var xhr = this.sync('delete', this, options);\n\t    if (!options.wait) destroy();\n\t    return xhr;\n\t  },\n\t\n\t    // Default URL for the model's representation on the server -- if you're\n\t    // using Backbone's restful methods, override this to change the endpoint\n\t    // that will be called.\n\t  url: function() {\n\t    var base =\n\t      _.result(this, 'urlRoot') ||\n\t      _.result(this.collection, 'url') ||\n\t      urlError();\n\t    if (this.isNew()) return base;\n\t    return base.replace(/([^\\/])$/, '$1/') + encodeURIComponent(this.id);\n\t  },\n\t\n\t    // **parse** converts a response into the hash of attributes to be `set` on\n\t    // the model. The default implementation is just to pass the response along.\n\t  parse: function(resp, options) {\n\t    return resp;\n\t  },\n\t\n\t    // Create a new model with identical attributes to this one.\n\t  clone: function() {\n\t    return new this.constructor(this.attributes);\n\t  },\n\t\n\t    // A model is new if it has never been saved to the server, and lacks an id.\n\t  isNew: function() {\n\t    return !this.has(this.idAttribute);\n\t  },\n\t\n\t    // Check if the model is currently in a valid state.\n\t  isValid: function(options) {\n\t    return this._validate({}, _.extend(options || {}, { validate: true }));\n\t  },\n\t\n\t    // Run validation against the next complete set of model attributes,\n\t    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n\t  _validate: function(attrs, options) {\n\t    if (!options.validate || !this.validate) return true;\n\t    attrs = _.extend({}, this.attributes, attrs);\n\t    var error = this.validationError = this.validate(attrs, options) || null;\n\t    if (!error) return true;\n\t    this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n\t    return false;\n\t  }\n\t\n\t});\n\t\n\t// Underscore methods that we want to implement on the Model.\n\tvar modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit', 'chain', 'isEmpty'];\n\t\n\t// Mix in each Underscore method as a proxy to `Model#attributes`.\n\t_.each(modelMethods, function(method) {\n\t  if (!_[method]) return;\n\t  Model.prototype[method] = function() {\n\t    var args = slice.call(arguments);\n\t    args.unshift(this.attributes);\n\t    return _[method].apply(_, args);\n\t  };\n\t});\n\t\n\t// setup inheritance\n\tModel.extend = extend;\n\tmodule.exports = Model;\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// Generated by CoffeeScript 1.8.0\n\tvar Clustal, GenericReader, st;\n\t\n\tGenericReader = __webpack_require__(94);\n\t\n\tst = __webpack_require__(40);\n\t\n\tmodule.exports = Clustal = {\n\t  parse: function(text) {\n\t    var blockstate, cSeq, k, keys, label, line, lines, match, obj, regex, seqCounter, seqs, sequence;\n\t    seqs = [];\n\t    if (Object.prototype.toString.call(text) === '[object Array]') {\n\t      lines = text;\n\t    } else {\n\t      lines = text.split(\"\\n\");\n\t    }\n\t    if (lines[0].slice(0, 6) === !\"CLUSTAL\") {\n\t      throw new Error(\"Invalid CLUSTAL Header\");\n\t    }\n\t    k = 0;\n\t    blockstate = 1;\n\t    seqCounter = 0;\n\t    while (k < lines.length) {\n\t      k++;\n\t      line = lines[k];\n\t      if ((line == null) || line.length === 0) {\n\t        blockstate = 1;\n\t        continue;\n\t      }\n\t      if (line.trim().length === 0) {\n\t        blockstate = 1;\n\t        continue;\n\t      } else {\n\t        if (st.contains(line, \"*\")) {\n\t          continue;\n\t        }\n\t        if (blockstate === 1) {\n\t          seqCounter = 0;\n\t          blockstate = 0;\n\t        }\n\t        regex = /^(?:\\s*)(\\S+)(?:\\s+)(\\S+)(?:\\s*)(\\d*)(?:\\s*|$)/g;\n\t        match = regex.exec(line);\n\t        if (match != null) {\n\t          label = match[1];\n\t          sequence = match[2];\n\t          if (seqCounter >= seqs.length) {\n\t            obj = st.getMeta(label);\n\t            label = obj.name;\n\t            cSeq = new st.model(sequence, label, seqCounter);\n\t            cSeq.ids = obj.ids || {};\n\t            cSeq.details = obj.details || {};\n\t            keys = Object.keys(cSeq.ids);\n\t            if (keys.length > 0) {\n\t              cSeq.id = cSeq.ids[keys[0]];\n\t            }\n\t            seqs.push(cSeq);\n\t          } else {\n\t            seqs[seqCounter].seq += sequence;\n\t          }\n\t          seqCounter++;\n\t        } else {\n\t          console.log(\"parse error\", line);\n\t        }\n\t      }\n\t    }\n\t    return seqs;\n\t  }\n\t};\n\t\n\tGenericReader.mixin(Clustal);\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\tvar utils = {};\n\tmodule.exports = utils;\n\t\n\tutils.extractKeys = function extractKeys(attr) {\n\t  // extract key-value definitions\n\t  var attributes = {};\n\t  var attrArr = attr.split(\";\");\n\t  attrArr.forEach(function(el) {\n\t    var keyArr, key, val;\n\t    if (el.indexOf(\"=\") > 0) {\n\t      keyArr = el.split(\"=\");\n\t      key = keyArr[0];\n\t      val = keyArr[1];\n\t      attributes[key] = val;\n\t    } else if (el.indexOf(\" \") > 0) {\n\t      keyArr = el.split(\" \");\n\t      key = keyArr[0];\n\t      val = keyArr[1].replace(/\"/g, '');\n\t      attributes[key] = val;\n\t    }\n\t  });\n\t  return attributes;\n\t};\n\t\n\tfunction componentToHex(c) {\n\t  var hex = c.toString(16);\n\t  return hex.length === 1 ? \"0\" + hex : hex;\n\t}\n\t\n\tutils.rgbToHex = function(r, g, b) {\n\t  if(r.length === 3){\n\t    return utils.rgbToHex(r[0],r[1], r[2]);\n\t  }\n\t  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n\t};\n\n\n/***/ },\n/* 47 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function draw_border(context, y, width) {\n\t  context.beginPath();\n\t  context.moveTo(0, y);\n\t  context.lineTo(width, y);\n\t  context.lineWidth = 1;\n\t  context.strokeStyle = \"#999999\";\n\t  context.stroke();\n\t}\n\n\n/***/ },\n/* 48 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function draw_column_number(context, x, y, col_width, col_num, fontsize, right) {\n\t  context.font = fontsize + \"px Arial\";\n\t  context.textAlign = right ? \"right\" : \"center\";\n\t  context.fillStyle = \"#666666\";\n\t  context.fillText(col_num, x + (col_width / 2), y);\n\t}\n\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function draw_ticks(context, x, y, height, color) {\n\t  color = color || '#999999';\n\t  context.beginPath();\n\t  context.moveTo(x, y);\n\t  context.lineTo(x, y + height);\n\t  context.lineWidth = 1;\n\t  context.strokeStyle = color;\n\t  context.stroke();\n\t}\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\tvar Mouse;\n\t\n\tmodule.exports = Mouse = {\n\t  rel: function(e) {\n\t    var mouseX, mouseY, rect, target;\n\t    mouseX = e.offsetX;\n\t    mouseY = e.offsetY;\n\t    if (mouseX == undefined) {\n\t      rect = target.getBoundingClientRect();\n\t      target = e.target || e.srcElement;\n\t      if (mouseX == undefined) {\n\t        mouseX = e.clientX - rect.left;\n\t        mouseY = e.clientY - rect.top;\n\t      }\n\t      if (mouseX == undefined) {\n\t        mouseX = e.pageX - target.offsetLeft;\n\t        mouseY = e.pageY - target.offsetTop;\n\t      }\n\t      if (mouseX == undefined) {\n\t        console.log(e, \"no mouse event defined. your browser sucks\");\n\t        return;\n\t      }\n\t    }\n\t    return [mouseX, mouseY];\n\t  },\n\t  abs: function(e) {\n\t    var mouseX, mouseY;\n\t    mouseX = e.pageX;\n\t    mouseY = e.pageY;\n\t    if (mouseX == undefined) {\n\t      mouseX = e.layerX;\n\t      mouseY = e.layerY;\n\t    }\n\t    if (mouseX == undefined) {\n\t      mouseX = e.clientX;\n\t      mouseY = e.clientY;\n\t    }\n\t    if (mouseX == undefined) {\n\t      mouseX = e.x;\n\t      mouseY = e.y;\n\t    }\n\t    return [mouseX, mouseY];\n\t  },\n\t  wheelDelta: function(e) {\n\t    var delta;\n\t    delta = [e.deltaX, e.deltaY];\n\t    if (delta[0] == undefined) {\n\t      // in case there is a more detailed scroll sensor - use it\n\t      if (e.mozMovementX) {\n\t        delta = [0, e.mozMovementX];\n\t      }\n\t    }\n\t    // safety first\n\t    if (isNaN(delta[0])) {\n\t      delta[0] = 0;\n\t    }\n\t    if (isNaN(delta[1])) {\n\t      delta[1] = 0;\n\t    }\n\t    return delta;\n\t  }\n\t};\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _ = __webpack_require__(1);\n\t\n\tvar stat = function(seqs, opts) {\n\t  // if someone forgets new\n\t  if (this.constructor !== stat) {\n\t    return new stat(seqs);\n\t  }\n\t  if (seqs === undefined || typeof seqs === \"string\") {\n\t    throw new TypeError(\"you need to give the seq stat an array\");\n\t  }\n\t  //if(seqs.length == 0){\n\t  //throw new TypeError(\"you need to give the seq stat a real array\");\n\t  //}\n\t  this.resetSeqs(seqs);\n\t  this.alphabetSize = 4;\n\t  this._useBackground = false;\n\t  this.useGaps = false;\n\t  this.ignoredChars = [\"-\", \"*\"];\n\t  _.extend(this, opts);\n\t};\n\t\n\tstat.prototype.addSeq = function addSeq(seq) {\n\t  this.seqs.push(seq);\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.removeSeq = function addSeq(seq) {\n\t  // check for int or string\n\t  if (typeof seq === 'number') {\n\t    this.seqs.splice(seq, 1);\n\t  } else {\n\t    // identify matches (we could have multiple)\n\t    _.each(this.seqs, function(s, i) {\n\t      if (seq === s) {\n\t        this.seqs.splice(i, 1);\n\t      }\n\t    }.bind(this));\n\t  }\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.addSeqs = function addSeqs(seqs) {\n\t  seqs.forEach(function(seq) {\n\t    this.addSeq(seq);\n\t  }.bind(this));\n\t};\n\t\n\tstat.prototype.resetSeqs = function reset(seqs) {\n\t  this.seqs = [];\n\t\n\t  // support sequence models\n\t  if (! seqs instanceof Array || \"at\" in seqs) {\n\t    this.mseqs = seqs;\n\t    var mSeqsPluck = function() {\n\t      var seqArr = this.mseqs.pluck(\"seq\");\n\t      this.resetSeqs(seqArr);\n\t    };\n\t    seqs.on(\"add change reset \", mSeqsPluck, this);\n\t    mSeqsPluck.call(this);\n\t  } else {\n\t    this.addSeqs(seqs);\n\t    this._reset();\n\t    this.trigger(\"reset\");\n\t  }\n\t};\n\t\n\tvar calcValues = [\"consensus\", \"frequency\", \"maxLength\", \"ic\", \"gaps\"];\n\t\n\tstat.prototype._reset = function _reset() {\n\t  for (var i = 0; i < calcValues.length; i++) {\n\t    this[\"_\" + calcValues[i]] = undefined;\n\t  }\n\t  this._identity = undefined;\n\t  this._background = undefined;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: setter/getter\n\t// -----------------------------------------------------------------------------\n\t\n\tstat.prototype.setBackground = function setBackground(b) {\n\t  this._useBackground = b;\n\t  this._reset();\n\t};\n\t\n\tstat.prototype.useBackground = function useBackground() {\n\t  this.setBackground(true);\n\t};\n\t\n\tstat.prototype.setDNA = function setNucleotide() {\n\t  this.alphabetSize = 4;\n\t};\n\t\n\tstat.prototype.setProtein = function setDNA() {\n\t  this.alphabetSize = 20;\n\t};\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: auto wrappers\n\t// -----------------------------------------------------------------------------\n\t\n\t// neat auto-wrappers\n\tcalcValues.forEach(function(key) {\n\t  stat.prototype[key] = function() {\n\t    if (this[\"_\" + key] === undefined) {\n\t      this[\"_\" + key] = this[key + \"Calc\"]();\n\t    }\n\t    return this[\"_\" + key];\n\t  };\n\t});\n\t\n\tstat.prototype.identity = function identitiy(seq) {\n\t  // do not cache if its called with a special compare seq\n\t  var ident;\n\t  if (this._identity === undefined || seq) {\n\t    ident = this.identityCalc(seq);\n\t    this._identity = undefined;\n\t  }\n\t  return this._identity || ident;\n\t};\n\t\n\t// set your own background with obj.bg\n\tstat.prototype.background = function background() {\n\t  if (this.bg !== undefined) {\n\t    return this.bg;\n\t  }\n\t  if (this._background === undefined) {\n\t    this.backgroundCalc();\n\t  }\n\t  return this._background;\n\t};\n\t\n\t\n\t// -----------------------------------------------------------------------------\n\t// BEGIN: calc tools\n\t// -----------------------------------------------------------------------------\n\t\n\t// calculates the relative frequency of a base at a given position\n\t// this is needed e.g. for the entropy calculation\n\t// seqs: array of sequences (strings)\n\t// opts:\n\t//    all: boolean (use to show the frequencies for all letters [including the ignored ones]\n\t//    (default false)\n\t// @returns array of all positions with a dictionary of all bases with their relative frequency\n\tstat.prototype.frequencyCalc = function frequencyCalc(opts) {\n\t  var occs, totalPerPos;\n\t  occs = new Array(this.maxLength());\n\t  totalPerPos = new Array(this.seqs.length);\n\t  var ignoredChars = this.ignoredChars;\n\t  if(opts !== undefined && opts.all){\n\t    ignoredChars = []; \n\t  }\n\t\n\t  // count the occurrences of the chars at a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (ignoredChars.indexOf(c) >= 0) return;\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {};\n\t      }\n\t      if (occs[pos][c] === undefined) {\n\t        occs[pos][c] = 0;\n\t      }\n\t      occs[pos][c] ++;\n\t      if (totalPerPos[pos] === undefined) {\n\t        totalPerPos[pos] = 0;\n\t      }\n\t      totalPerPos[pos] ++;\n\t    });\n\t  });\n\t\n\t  // normalize to 1\n\t  _.each(occs, function(el, pos) {\n\t    return _.each(el, function(val, c) {\n\t      return (occs[pos][c] = val / totalPerPos[pos]);\n\t    });\n\t  });\n\t  this._frequency = occs;\n\t  return occs;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\tstat.prototype.backgroundCalc = function backgroundCalc() {\n\t  var occ = {};\n\t  var total = 0;\n\t\n\t  // count the occurences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c) {\n\t      if (occ[c] === undefined) {\n\t        occ[c] = 0;\n\t      }\n\t      occ[c] ++;\n\t      return total++;\n\t    });\n\t  });\n\t\n\t  // normalize to 1\n\t  occ = _.mapValues(occ, function(val) {\n\t    return val / total;\n\t  });\n\t  this._background = occ;\n\t  return occ;\n\t};\n\t\n\t\n\t// information content after Shannon\n\t// * gaps are excluded\n\tstat.prototype.icCalc = function icCalc() {\n\t  var f = this.frequency();\n\t  if (this._useBackground) {\n\t    var b = this.background();\n\t  }\n\t  var ignoredChars = this.ignoredChars;\n\t  var useBackground = this._useBackground;\n\t  var ic = _.map(f, function(el) {\n\t    return _.reduce(el, function(memo, val, c) {\n\t      if (ignoredChars.indexOf(c) >= 0) return memo;\n\t      if (useBackground) {\n\t        val = val / b[c];\n\t      }\n\t      return memo - val * (Math.log(val) / Math.log(2));\n\t    }, 0);\n\t  });\n\t  this._ic = ic;\n\t  return ic;\n\t};\n\t\n\t// sequence conservation after Schneider and Stephens (1990)\n\t// @cite Schneider, T.D. and Stephens, R.M. 1990. Sequence logos: A new way to\n\t// display consensus sequences. Nucleic Acids Res. 18: 6097–6100.\n\tstat.prototype.conservation = function conservation(alphabetSize) {\n\t  var ic = this.ic();\n\t  var gaps = this.gaps();\n\t  var self = this;\n\t\n\t  alphabetSize = alphabetSize || this.alphabetSize;\n\t  var icMax = Math.log(alphabetSize) / Math.log(2);\n\t  var i = 0;\n\t  var conserv = _.map(ic, function(el) {\n\t    var ret = (icMax - el);\n\t    if(self.useGaps){\n\t      ret = ret * (1 - gaps[i++]);\n\t    }\n\t    return ret;\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// sequence conservation after Schneider and Stephens (1990)\n\t// conservation for each amino acid\n\t// * gaps are excluded\n\tstat.prototype.conservResidue = function conservation(input) {\n\t  var alphabetSize = input ? input.alphabetSize : undefined;\n\t  var ic;\n\t  var ignoredChars = this.ignoredChars;\n\t  if (input !== undefined && input.scaled) {\n\t    ic = this.scale(this.conservation(alphabetSize));\n\t  } else {\n\t    ic = this.conservation(alphabetSize);\n\t  }\n\t  var f = this.frequency();\n\t  var keys;\n\t  var conserv = _.map(f, function(el, i) {\n\t    keys = _.reject(_.keys(el), function(c) {\n\t      return ignoredChars.indexOf(c) >= 0;\n\t    });\n\t    var obj = {};\n\t    _.each(keys, function(key) {\n\t      obj[key] = el[key] * ic[i];\n\t    });\n\t    return obj;\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// type 2 sequence logo method\n\t// scales relative to background\n\tstat.prototype.conservResidue2 = function conservation(alphabetSize) {\n\t  var f = this.frequency();\n\t  var ic = this.conservation(alphabetSize);\n\t  var b = this.background();\n\t  var conserv = _.map(f, function(el, i) {\n\t    return _.map(el, function(val) {\n\t      var sum = _.reduce(f[i], function(memo, e) {\n\t        return memo + e / b[i];\n\t      }, 0);\n\t      return ((val / b[i]) / sum) * ic[i];\n\t    }, 0);\n\t  });\n\t  return conserv;\n\t};\n\t\n\t// scale information content or conservation to 1\n\tstat.prototype.scale = function conservation(ic, alphabetSize) {\n\t  alphabetSize = alphabetSize || this.alphabetSize;\n\t  var icMax = Math.log(alphabetSize) / Math.log(2);\n\t  var conserv = _.map(ic, function(el) {\n\t    return el / icMax;\n\t  });\n\t  return conserv;\n\t};\n\t\n\tstat.prototype.maxLengthCalc = function() {\n\t  if(this.seqs.length === 0){\n\t    return 0;\n\t  }\n\t  return _.max(this.seqs, function(seq) {\n\t    return seq.length;\n\t  }).length;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\t// @returns consenus sequence\n\tstat.prototype.consensusCalc = function consensusCal() {\n\t  var occs = new Array(this.maxLength());\n\t\n\t  // count the occurrences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {};\n\t      }\n\t      if (occs[pos][c] === undefined) {\n\t        occs[pos][c] = 0;\n\t      }\n\t      occs[pos][c] ++;\n\t    });\n\t  });\n\t\n\t  // now pick the char with most occurrences\n\t  this._consensus = _.reduce(occs, function(memo, occ) {\n\t    var keys;\n\t    keys = _.keys(occ);\n\t    return memo += _.max(keys, function(key) {\n\t      return occ[key];\n\t    });\n\t  }, \"\");\n\t\n\t  return this._consensus;\n\t};\n\t\n\t// seqs: array of sequences (strings)\n\t// consensus: calculated consensus seq\n\t// calculates for each sequence\n\t// * matches with the consensus seq\n\t// * identity = matchedChars / totalChars (excluding gaps)\n\t// @returns: array of length of the seqs with the identity to the consensus (double)\n\tstat.prototype.identityCalc = function identitiyCalc(compareSeq) {\n\t  var consensus = compareSeq || this.consensus();\n\t  this._identity = this.seqs.map(function(seq) {\n\t    var matches = 0;\n\t    var total = 0;\n\t    for (var i = 0; i < seq.length; i++) {\n\t      if (seq[i] !== \"-\" && consensus[i] !== \"-\") {\n\t        total++;\n\t        if (seq[i] === consensus[i]) {\n\t          matches++;\n\t        }\n\t      }\n\t    }\n\t    return matches / total;\n\t  });\n\t  return this._identity;\n\t};\n\t\n\t// percentage of gaps per column\n\tstat.prototype.gapsCalc = function gapsCount() {\n\t  var mLength = this.maxLength();\n\t  if(mLength <= 1 || typeof mLength === \"undefined\" ){\n\t    return [];\n\t  }\n\t  var occs = new Array(this.maxLength());\n\t  // count the occurrences of the chars of a position\n\t  _.each(this.seqs, function(el) {\n\t    _.each(el, function(c, pos) {\n\t      if (occs[pos] === undefined) {\n\t        occs[pos] = {\n\t          g: 0,\n\t          t: 0\n\t        };\n\t      }\n\t      c = c === \"-\" ? \"g\" : \"t\";\n\t      occs[pos][c] ++;\n\t    });\n\t  });\n\t\n\t  // now pick the char with most occurrences\n\t  this._gaps = _.map(occs, function(el) {\n\t    return el.g / (el.g + el.t);\n\t  });\n\t  return this._gaps;\n\t};\n\t\n\t_.mixin({\n\t  mapValues: function(obj, f_val) {\n\t    return _.object(_.keys(obj), _.map(obj, f_val));\n\t  }\n\t});\n\t\n\t__webpack_require__(17).mixin(stat.prototype);\n\t\n\tmodule.exports = stat;\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MSA = __webpack_require__(66);\n\t\n\tmodule.exports = window.msa = function () {\n\t  var msa = function msa(args) {\n\t    return MSA.apply(this, args);\n\t  };\n\t  msa.prototype = MSA.prototype;\n\t  return new msa(arguments);\n\t};\n\t\n\tmodule.exports.msa = MSA;\n\t\n\t// models\n\tmodule.exports.model = __webpack_require__(43);\n\t\n\t// extra plugins, extensions\n\tmodule.exports.menu = __webpack_require__(54);\n\tmodule.exports.utils = __webpack_require__(34);\n\t\n\t// probably needed more often\n\tmodule.exports.selection = __webpack_require__(8);\n\tmodule.exports.selcol = __webpack_require__(9);\n\tmodule.exports.view = __webpack_require__(3);\n\tmodule.exports.boneView = __webpack_require__(5);\n\t\n\t// convenience\n\tmodule.exports._ = __webpack_require__(1);\n\tmodule.exports.$ = __webpack_require__(7);\n\t\n\t// parser (are currently bundled - so we can also expose them)\n\tmodule.exports.io = {};\n\tmodule.exports.io.xhr = __webpack_require__(21);\n\tmodule.exports.io.fasta = __webpack_require__(18);\n\tmodule.exports.io.clustal = __webpack_require__(45);\n\tmodule.exports.io.gff = __webpack_require__(39);\n\t\n\tmodule.exports.version = \"0.2.0\";\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuView;\n\tvar boneView = __webpack_require__(5);\n\t\n\t// menu views\n\tvar ImportMenu = __webpack_require__(62);\n\tvar FilterMenu = __webpack_require__(60);\n\tvar SelectionMenu = __webpack_require__(64);\n\tvar VisMenu = __webpack_require__(65);\n\tvar ColorMenu = __webpack_require__(56);\n\tvar OrderingMenu = __webpack_require__(63);\n\tvar ExtraMenu = __webpack_require__(59);\n\tvar ExportMenu = __webpack_require__(58);\n\tvar HelpMenu = __webpack_require__(61);\n\tvar DebugMenu = __webpack_require__(57);\n\tvar MenuSettings = __webpack_require__(55);\n\t\n\t// this very basic menu demonstrates calls to the MSA component\n\tmodule.exports = MenuView = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    if (!data.msa) {\n\t      throw new Error(\"No msa instance provided. Please provide .msa\");\n\t    }\n\t    this.msa = data.msa;\n\t\n\t    // add menu config to the global object\n\t    this.msa.g.menuconfig = new MenuSettings(data.menu);\n\t\n\t    this.addView(\"10_import\", new ImportMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"15_ordering\", new OrderingMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"20_filter\", new FilterMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"30_selection\", new SelectionMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"40_vis\", new VisMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"50_color\", new ColorMenu({ model: this.msa.seqs, g: this.msa.g }));\n\t    this.addView(\"70_extra\", new ExtraMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"80_export\", new ExportMenu({ model: this.msa.seqs, g: this.msa.g, msa: this.msa }));\n\t    this.addView(\"90_help\", new HelpMenu({ g: this.msa.g }));\n\t    if (this.msa.g.config.get(\"debug\")) {\n\t      return this.addView(\"95_debug\", new DebugMenu({ g: this.msa.g }));\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    // other\n\t    this.el.setAttribute(\"class\", \"smenubar\");\n\t    return this.el.appendChild(document.createElement(\"p\"));\n\t  }\n\t});\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports.defaultmenu = __webpack_require__(53);\n\tmodule.exports.menubuilder = __webpack_require__(4);\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MenuSettings;\n\tvar Model = __webpack_require__(2).Model;\n\tmodule.exports = MenuSettings = Model.extend({\n\t    constructor: function constructor(attributes, options) {\n\t        if (attributes == \"small\") {\n\t            attributes = this.small;\n\t        }\n\t        return Model.apply(this, [attributes]);\n\t    },\n\t    small: {\n\t        menuFontsize: \"12px\"\n\t    },\n\t    defaults: {\n\t        menuFontsize: \"14px\",\n\t        menuItemFontsize: \"14px\",\n\t        menuItemLineHeight: \"14px\",\n\t        menuMarginLeft: \"3px\",\n\t        menuPadding: \"3px 4px 3px 4px\"\n\t    }\n\t});\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ColorMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = ColorMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.listenTo(this.g.colorscheme, \"change\", function () {\n\t      return this.render();\n\t    });\n\t  },\n\t\n\t  render: function render() {\n\t    var menuColor = this.setName(\"Color scheme\");\n\t    this.removeAllNodes();\n\t\n\t    var colorschemes = this.getColorschemes();\n\t    for (var i = 0, scheme; i < colorschemes.length; i++) {\n\t      scheme = colorschemes[i];\n\t      this.addScheme(menuColor, scheme);\n\t    }\n\t\n\t    // text = \"Background\"\n\t    // if @g.colorscheme.get(\"colorBackground\")\n\t    //   text = \"Hide \" + text\n\t    // else\n\t    //   text = \"Show \" + text\n\t\n\t    // @addNode text, =>\n\t    //   @g.colorscheme.set \"colorBackground\", !@g.colorscheme.get(\"colorBackground\")\n\t\n\t    this.grey(menuColor);\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  },\n\t\n\t  addScheme: function addScheme(menuColor, scheme) {\n\t    var _this = this;\n\t\n\t    var style = {};\n\t    var current = this.g.colorscheme.get(\"scheme\");\n\t    if (current === scheme.id) {\n\t      style.backgroundColor = \"#77ED80\";\n\t    }\n\t\n\t    return this.addNode(scheme.name, function () {\n\t      _this.g.colorscheme.set(\"scheme\", scheme.id);\n\t    }, {\n\t      style: style\n\t    });\n\t  },\n\t\n\t  getColorschemes: function getColorschemes() {\n\t    var schemes = [];\n\t    schemes.push({ name: \"Taylor\", id: \"taylor\" });\n\t    schemes.push({ name: \"Buried\", id: \"buried\" });\n\t    schemes.push({ name: \"Cinema\", id: \"cinema\" });\n\t    schemes.push({ name: \"Clustal\", id: \"clustal\" });\n\t    schemes.push({ name: \"Clustal2\", id: \"clustal2\" });\n\t    schemes.push({ name: \"Helix\", id: \"helix\" });\n\t    schemes.push({ name: \"Hydrophobicity\", id: \"hydro\" });\n\t    schemes.push({ name: \"Lesk\", id: \"lesk\" });\n\t    schemes.push({ name: \"MAE\", id: \"mae\" });\n\t    schemes.push({ name: \"Nucleotide\", id: \"nucleotide\" });\n\t    schemes.push({ name: \"Purine\", id: \"purine\" });\n\t    schemes.push({ name: \"PID\", id: \"pid\" });\n\t    schemes.push({ name: \"Strand\", id: \"strand\" });\n\t    schemes.push({ name: \"Turn\", id: \"turn\" });\n\t    schemes.push({ name: \"Zappo\", id: \"zappo\" });\n\t    schemes.push({ name: \"No color\", id: \"foo\" });\n\t    return schemes;\n\t  },\n\t\n\t  grey: function grey(menuColor) {\n\t\n\t    // greys all lowercase letters\n\t    // @addNode \"Shade\", =>\n\t    //   @g.colorscheme.set \"showLowerCase\", false\n\t    //   @model.each (seq) ->\n\t    //     residues = seq.get \"seq\"\n\t    //     grey = []\n\t    //     _.each residues, (el, index) ->\n\t    //       if el is el.toLowerCase()\n\t    //         grey.push index\n\t    //     seq.set \"grey\", grey\n\t\n\t    // @addNode \"Shade by threshold\", =>\n\t    //   threshold = prompt \"Enter threshold (in percent)\", 20\n\t    //   threshold = threshold / 100\n\t    //   maxLen = @model.getMaxLength()\n\t    //   # TODO: cache\n\t    //   conserv = @g.stats.scale @g.stats.conservation()\n\t    //   grey = []\n\t    //   for i in [0.. maxLen - 1]\n\t    //     if conserv[i] < threshold\n\t    //       grey.push i\n\t    //   @model.each (seq) ->\n\t    //     seq.set \"grey\", grey\n\t\n\t    // @addNode \"Shade selection\", =>\n\t    //   maxLen = @model.getMaxLength()\n\t    //   @model.each (seq) =>\n\t    //     blocks = @g.selcol.getBlocksForRow(seq.get(\"id\"),maxLen)\n\t    //     seq.set \"grey\", blocks\n\t\n\t    // @addNode \"Reset shade\", =>\n\t    //   @g.colorscheme.set \"showLowerCase\", true\n\t    //   @model.each (seq) ->\n\t    //     seq.set \"grey\", []\n\t  }\n\t});\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar DebugMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = DebugMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Debug\");\n\t\n\t    this.addNode(\"Get the code\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa\");\n\t    });\n\t\n\t    this.addNode(\"Toggle mouseover events\", function () {\n\t      _this.g.config.set(\"registerMouseHover\", !_this.g.config.get(\"registerMouseHover\"));\n\t      return _this.g.onAll(function () {\n\t        return console.log(arguments);\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Minimized width\", function () {\n\t      return _this.g.zoomer.set(\"alignmentWidth\", 600);\n\t    });\n\t    this.addNode(\"Minimized height\", function () {\n\t      return _this.g.zoomer.set(\"alignmentHeight\", 120);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ExportMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar FastaExporter = __webpack_require__(18).writer;\n\tvar _ = __webpack_require__(1);\n\tvar Exporter = __webpack_require__(13);\n\t\n\tmodule.exports = ExportMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.msa = data.msa;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Export\");\n\t\n\t    this.addNode(\"Share view (URL) ↪\", function () {\n\t      return Exporter.shareLink(_this.msa, function (link) {\n\t        return window.open(link, '_blank');\n\t      });\n\t    });\n\t\n\t    this.addNode(\"View in Jalview\", function () {\n\t      var url = _this.g.config.get('url');\n\t      if (!(typeof url !== \"undefined\" && url !== null)) {\n\t        return alert(\"Sequence weren't imported via an URL\");\n\t      } else {\n\t        if (url.indexOf(\"localhost\" || url === \"dragimport\")) {\n\t          return Exporter.publishWeb(_this.msa, function (link) {\n\t            return Exporter.openInJalview(link, _this.g.colorscheme.get(\"scheme\"));\n\t          });\n\t        } else {\n\t          return Exporter.openInJalview(url, _this.g.colorscheme.get(\"scheme\"));\n\t        }\n\t      }\n\t    });\n\t\n\t    this.addNode(\"Export alignment (FASTA)\", function () {\n\t      return Exporter.saveAsFile(_this.msa, \"all.fasta\");\n\t    });\n\t\n\t    this.addNode(\"Export alignment (URL)\", function () {\n\t      return Exporter.publishWeb(_this.msa, function (link) {\n\t        return window.open(link, '_blank');\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Export selected sequences (FASTA)\", function () {\n\t      return Exporter.saveSelection(_this.msa, \"selection.fasta\");\n\t    });\n\t\n\t    this.addNode(\"Export features (GFF)\", function () {\n\t      return Exporter.saveAnnots(_this.msa, \"features.gff3\");\n\t    });\n\t\n\t    this.addNode(\"Export MSA image (PNG)\", function () {\n\t      return Exporter.saveAsImg(_this.msa, \"biojs-msa.png\");\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ExtraMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar Seq = __webpack_require__(33);\n\tvar Loader = __webpack_require__(15);\n\tvar xhr = __webpack_require__(21);\n\t\n\tmodule.exports = ExtraMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.msa = data.msa;\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Extras\");\n\t    var stats = this.g.stats;\n\t    var msa = this.msa;\n\t    this.addNode(\"Add consensus seq\", function () {\n\t      var con = stats.consensus();\n\t      var seq = new Seq({\n\t        seq: con,\n\t        id: \"0c\",\n\t        name: \"Consenus\"\n\t      });\n\t      _this.model.add(seq);\n\t      _this.model.setRef(seq);\n\t      _this.model.comparator = function (seq) {\n\t        return !seq.get(\"ref\");\n\t      };\n\t      return _this.model.sort();\n\t    });\n\t\n\t    // @addNode \"Calc Tree\", ->\n\t    //   # this is a very experimental feature\n\t    //   # TODO: exclude msa & tnt in the adapter package\n\t    //   newickStr = \"\"\n\t    //\n\t    //   cbs = Loader.joinCb ->\n\t    //     msa.u.tree.showTree nwkData\n\t    //   , 2, @\n\t    //\n\t    //   msa.u.tree.loadTree cbs\n\t    //   # load fake tree\n\t    //   nwkData =\n\t    //     name: \"root\",\n\t    //     children: [\n\t    //       name: \"c1\",\n\t    //       branch_length: 4\n\t    //       children: msa.seqs.filter (f,i) ->  i % 2 is 0\n\t    //     ,\n\t    //       name: \"c2\",\n\t    //       children: msa.seqs.filter (f,i) ->  i % 2 is 1\n\t    //       branch_length: 4\n\t    //     ]\n\t    //   msa.seqs.each (s) ->\n\t    //     s.set \"branch_length\", 2\n\t    //   cbs()\n\t\n\t    this.addNode(\"Increase font size\", function () {\n\t      var columnWidth = _this.g.zoomer.get(\"columnWidth\");\n\t      var nColumnWidth = columnWidth + 5;\n\t      _this.g.zoomer.set(\"columnWidth\", nColumnWidth);\n\t      _this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n\t      var nFontSize = nColumnWidth * 0.7;\n\t      _this.g.zoomer.set(\"residueFont\", nFontSize);\n\t      return _this.g.zoomer.set(\"labelFontSize\", nFontSize);\n\t    });\n\t    this.addNode(\"Decrease font size\", function () {\n\t      var columnWidth = _this.g.zoomer.get(\"columnWidth\");\n\t      var nColumnWidth = columnWidth - 2;\n\t      _this.g.zoomer.set(\"columnWidth\", nColumnWidth);\n\t      _this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n\t      var nFontSize = nColumnWidth * 0.6;\n\t      _this.g.zoomer.set(\"residueFont\", nFontSize);\n\t      _this.g.zoomer.set(\"labelFontSize\", nFontSize);\n\t\n\t      if (_this.g.zoomer.get(\"columnWidth\") < 8) {\n\t        return _this.g.zoomer.set(\"textVisible\", false);\n\t      }\n\t    });\n\t\n\t    this.addNode(\"Jump to a column\", function () {\n\t      var offset = prompt(\"Column\", \"20\");\n\t      if (offset < 0 || offset > _this.model.getMaxLength() || isNaN(offset)) {\n\t        alert(\"invalid column\");\n\t        return;\n\t      }\n\t      return _this.g.zoomer.setLeftOffset(offset);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar FilterMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = FilterMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Filter\");\n\t    this.addNode(\"Hide columns by threshold\", function (e) {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      var maxLen = _this.model.getMaxLength();\n\t      var hidden = [];\n\t      // TODO: cache this value\n\t      var conserv = _this.g.stats.scale(_this.g.stats.conservation());\n\t      var end = maxLen - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        if (conserv[i] < threshold) {\n\t          hidden.push(i);\n\t        }\n\t      }\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide columns by selection\", function () {\n\t      var hiddenOld = _this.g.columns.get(\"hidden\");\n\t      var hidden = hiddenOld.concat(_this.g.selcol.getAllColumnBlocks({ maxLen: _this.model.getMaxLength(), withPos: true }));\n\t      _this.g.selcol.reset([]);\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide columns by gaps\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      var maxLen = _this.model.getMaxLength();\n\t      var hidden = [];\n\t      var end = maxLen - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        var gaps = 0;\n\t        var total = 0;\n\t        _this.model.each(function (el) {\n\t          if (el.get('seq')[i] === \"-\") {\n\t            gaps++;\n\t          }\n\t          return total++;\n\t        });\n\t        var gapContent = gaps / total;\n\t        if (gapContent > threshold) {\n\t          hidden.push(i);\n\t        }\n\t      }\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by identity\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n\t      threshold = threshold / 100;\n\t      return _this.model.each(function (el) {\n\t        if (el.get('identity') < threshold) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by selection\", function () {\n\t      var hidden = _this.g.selcol.where({ type: \"row\" });\n\t      var ids = _.map(hidden, function (el) {\n\t        return el.get('seqId');\n\t      });\n\t      _this.g.selcol.reset([]);\n\t      return _this.model.each(function (el) {\n\t        if (ids.indexOf(el.get('id')) >= 0) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Hide seqs by gaps\", function () {\n\t      var threshold = prompt(\"Enter threshold (in percent)\", 40);\n\t      return _this.model.each(function (el, i) {\n\t        var seq = el.get('seq');\n\t        var gaps = _.reduce(seq, function (memo, c) {\n\t          return c === '-' ? ++memo : undefined;\n\t        }, 0);\n\t        if (gaps > threshold) {\n\t          return el.set('hidden', true);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.addNode(\"Reset\", function () {\n\t      _this.g.columns.set(\"hidden\", []);\n\t      return _this.model.each(function (el) {\n\t        if (el.get('hidden')) {\n\t          return el.set('hidden', false);\n\t        }\n\t      });\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar HelpMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = HelpMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    return this.g = data.g;\n\t  },\n\t\n\t  render: function render() {\n\t    this.setName(\"Help\");\n\t    this.addNode(\"About the project\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa\");\n\t    });\n\t    this.addNode(\"Report issues\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa/issues\");\n\t    });\n\t    this.addNode(\"User manual\", function () {\n\t      return window.open(\"https://github.com/wilzbach/msa/wiki\");\n\t    });\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar ImportMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar k = __webpack_require__(19);\n\t\n\tmodule.exports = ImportMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.msa = data.msa;\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    var msa = this.msa;\n\t    var uploader = k.mk(\"input\");\n\t    uploader.type = \"file\";\n\t    uploader.style.display = \"none\";\n\t    //uploader.accept\n\t    // http://www.w3schools.com/jsref/prop_fileupload_accept.asp\n\t    // for now we allow multiple files\n\t    uploader.multiple = true;\n\t    uploader.addEventListener(\"change\", function () {\n\t      var files = uploader.files || [];\n\t      return msa.u.file.importFiles(files);\n\t    });\n\t\n\t    this.el.appendChild(uploader);\n\t\n\t    var filetypes = \"(Fasta, Clustal, GFF, Jalview features, Newick)\";\n\t\n\t    this.setName(\"Import\");\n\t    this.addNode(\"URL\", function (e) {\n\t      var url = prompt(\"URL \" + filetypes, \"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw\");\n\t      if (url.length > 5) {\n\t        return _this.msa.u.file.importURL(url, function () {});\n\t      }\n\t    });\n\t    // mass update on zoomer\n\t    //zoomer = @g.zoomer.toJSON()\n\t    //#zoomer.textVisible = false\n\t    //#zoomer.columnWidth = 4\n\t    //zoomer.boxRectHeight = 2\n\t    //zoomer.boxRectWidth = 2\n\t    //@g.zoomer.set zoomer\n\t\n\t    this.addNode(\"From file \" + filetypes, function () {\n\t      return uploader.click();\n\t    });\n\t\n\t    this.addNode(\"Drag & Drop\", function () {\n\t      return alert(\"Yep. Just drag & drop your file \" + filetypes);\n\t    });\n\t\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar OrderingMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar dom = __webpack_require__(6);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = OrderingMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.order = \"ID\";\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t\n\t  setOrder: function setOrder(order) {\n\t    this.order = order;\n\t    return this.render();\n\t  },\n\t\n\t  // TODO: make more generic\n\t  render: function render() {\n\t    this.setName(\"Sorting\");\n\t    this.removeAllNodes();\n\t\n\t    var comps = this.getComparators();\n\t    for (var i = 0, m; i < comps.length; i++) {\n\t      m = comps[i];\n\t      this._addNode(m);\n\t    }\n\t\n\t    var el = this.buildDOM();\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(el);\n\t    return this;\n\t  },\n\t\n\t  _addNode: function _addNode(m) {\n\t    var _this = this;\n\t\n\t    var text = m.text;\n\t    var style = {};\n\t    if (text === this.order) {\n\t      style.backgroundColor = \"#77ED80\";\n\t    }\n\t    return this.addNode(text, function () {\n\t      if (m.precode != null) {\n\t        m.precode();\n\t      }\n\t      _this.model.comparator = m.comparator;\n\t      _this.model.sort();\n\t      return _this.setOrder(m.text);\n\t    }, {\n\t      style: style\n\t    });\n\t  },\n\t\n\t\n\t  getComparators: function getComparators() {\n\t    var _this2 = this;\n\t\n\t    var models = [];\n\t\n\t    models.push({ text: \"ID ↑\", comparator: \"id\" });\n\t\n\t    models.push({ text: \"ID ↓\", comparator: function comparator(a, b) {\n\t        // auto converts to string for localeCompare\n\t        return -(\"\" + a.get(\"id\")).localeCompare(\"\" + b.get(\"id\"), [], { numeric: true });\n\t      } });\n\t\n\t    models.push({ text: \"Label ↑\", comparator: \"name\" });\n\t\n\t    models.push({ text: \"Label ↓\", comparator: function comparator(a, b) {\n\t        return -a.get(\"name\").localeCompare(b.get(\"name\"));\n\t      } });\n\t\n\t    models.push({ text: \"Seq ↑\", comparator: \"seq\" });\n\t\n\t    models.push({ text: \"Seq ↓\", comparator: function comparator(a, b) {\n\t        return -a.get(\"seq\").localeCompare(b.get(\"seq\"));\n\t      } });\n\t\n\t    var setIdent = function setIdent() {\n\t      return _this2.ident = _this2.g.stats.identity();\n\t    };\n\t\n\t    var setGaps = function setGaps() {\n\t      _this2.gaps = {};\n\t      return _this2.model.each(function (el) {\n\t        var seq = el.attributes.seq;\n\t        return _this2.gaps[el.id] = _.reduce(seq, function (memo, c) {\n\t          return c === '-' ? ++memo : undefined;\n\t        }, 0) / seq.length;\n\t      });\n\t    };\n\t\n\t    models.push({ text: \"Identity ↑\", comparator: function comparator(a, b) {\n\t        var val = _this2.ident[a.id] - _this2.ident[b.id];\n\t        console.log(_this2.ident[a.id], _this2.ident[b.id]);\n\t        if (val > 0) {\n\t          return 1;\n\t        }\n\t        if (val < 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setIdent });\n\t\n\t    models.push({ text: \"Identity ↓\", comparator: function comparator(a, b) {\n\t        var val = _this2.ident[a.id] - _this2.ident[b.id];\n\t        if (val > 0) {\n\t          return -1;\n\t        }\n\t        if (val < 0) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      }, precode: setIdent });\n\t\n\t    models.push({ text: \"Gaps ↑\", comparator: function comparator(a, b) {\n\t        var val = _this2.gaps[a.id] - _this2.gaps[b.id];\n\t        if (val > 0) {\n\t          return 1;\n\t        }\n\t        if (val < 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setGaps });\n\t\n\t    models.push({ text: \"Gaps ↓\", comparator: function comparator(a, b) {\n\t        var val = _this2.gaps[a.id] - _this2.gaps[b.id];\n\t        if (val < 0) {\n\t          return 1;\n\t        }\n\t        if (val > 0) {\n\t          return -1;\n\t        }\n\t        return 0;\n\t      }, precode: setGaps });\n\t\n\t    models.push({ text: \"Consensus to top\", comparator: function comparator(seq) {\n\t        return !seq.get(\"ref\");\n\t      }\n\t    });\n\t\n\t    //models.push text: \"Partition codes ↑\", comparator: \"partition\", precode: =>\n\t    //# set partitions random\n\t    //@g.vis.set('labelPartition', true)\n\t    //@model.each (el) ->\n\t    //el.set('partition', _.random(1,3))\n\t\n\t    return models;\n\t  }\n\t});\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SelectionMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\t\n\tmodule.exports = SelectionMenu = MenuBuilder.extend({\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    return this.el.style.display = \"inline-block\";\n\t  },\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.setName(\"Selection\");\n\t    this.addNode(\"Find Motif (supports RegEx)\", function () {\n\t      var search = prompt(\"your search\", \"D\");\n\t      return _this.g.user.set(\"searchText\", search);\n\t    });\n\t\n\t    this.addNode(\"Invert columns\", function () {\n\t      return _this.g.selcol.invertCol(function () {\n\t        var result = [];\n\t        var end = this.model.getMaxLength();\n\t        var i = 0;\n\t        if (0 <= end) {\n\t          while (i <= end) {\n\t            result.push(i++);\n\t          }\n\t        } else {\n\t          while (i >= end) {\n\t            result.push(i--);\n\t          }\n\t        }\n\t        return result;\n\t      }());\n\t    });\n\t    this.addNode(\"Invert rows\", function () {\n\t      return _this.g.selcol.invertRow(_this.model.pluck(\"id\"));\n\t    });\n\t    this.addNode(\"Reset\", function () {\n\t      return _this.g.selcol.reset();\n\t    });\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar VisMenu;\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = VisMenu = MenuBuilder.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.el.style.display = \"inline-block\";\n\t    return this.listenTo(this.g.vis, \"change\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t    var _this = this;\n\t\n\t    this.removeAllNodes();\n\t    this.setName(\"Vis.elements\");\n\t\n\t    var visElements = this.getVisElements();\n\t    for (var i = 0, visEl; i < visElements.length; i++) {\n\t      visEl = visElements[i];\n\t      this._addVisEl(visEl);\n\t    }\n\t\n\t    // other\n\t    this.addNode(\"Reset\", function () {\n\t      _this.g.vis.set(\"labels\", true);\n\t      _this.g.vis.set(\"sequences\", true);\n\t      _this.g.vis.set(\"metacell\", true);\n\t      _this.g.vis.set(\"conserv\", true);\n\t      _this.g.vis.set(\"labelId\", true);\n\t      _this.g.vis.set(\"labelName\", true);\n\t      _this.g.vis.set(\"labelCheckbox\", false);\n\t      _this.g.vis.set(\"seqlogo\", false);\n\t      _this.g.vis.set(\"gapHeader\", false);\n\t      _this.g.vis.set(\"leftHeader\", true);\n\t      _this.g.vis.set(\"metaGaps\", true);\n\t      _this.g.vis.set(\"metaIdentity\", true);\n\t      return _this.g.vis.set(\"metaLinks\", true);\n\t    });\n\t\n\t    // TODO: make more efficient\n\t    dom.removeAllChilds(this.el);\n\t    this.el.appendChild(this.buildDOM());\n\t    return this;\n\t  },\n\t\n\t  _addVisEl: function _addVisEl(visEl) {\n\t    var _this2 = this;\n\t\n\t    var style = {};\n\t\n\t    if (this.g.vis.get(visEl.id)) {\n\t      var pre = \"Hide \";\n\t      style.color = \"red\";\n\t    } else {\n\t      pre = \"Show \";\n\t      style.color = \"green\";\n\t    }\n\t\n\t    return this.addNode(pre + visEl.name, function () {\n\t      return _this2.g.vis.set(visEl.id, !_this2.g.vis.get(visEl.id));\n\t    }, { style: style\n\t    });\n\t  },\n\t\n\t\n\t  getVisElements: function getVisElements() {\n\t    var vis = [];\n\t    vis.push({ name: \"residues indices\", id: \"markers\" });\n\t    vis.push({ name: \"ID/Label\", id: \"labels\" });\n\t    //vis.push name: \"Sequences\", id: \"sequences\"\n\t    vis.push({ name: \"meta info (Gaps/Ident)\", id: \"metacell\" });\n\t    vis.push({ name: \"overview panel\", id: \"overviewbox\" });\n\t    vis.push({ name: \"sequence logo\", id: \"seqlogo\" });\n\t    vis.push({ name: \"gap weights\", id: \"gapHeader\" });\n\t    vis.push({ name: \"conservation weights\", id: \"conserv\" });\n\t    //vis.push name: \"Left header\", id: \"leftHeader\"\n\t    vis.push({ name: \"Label\", id: \"labelName\" });\n\t    vis.push({ name: \"ID\", id: \"labelId\" });\n\t    //vis.push name: \"Label checkbox\", id: \"labelCheckbox\"\n\t    vis.push({ name: \"gaps %\", id: \"metaGaps\" });\n\t    vis.push({ name: \"identity score\", id: \"metaIdentity\" });\n\t    // vis.push name: \"Meta links\", id: \"metaLinks\"\n\t    return vis;\n\t  }\n\t});\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t// models\n\tvar SeqCollection = __webpack_require__(32);\n\t\n\t// globals\n\tvar Colorator = __webpack_require__(22);\n\tvar Columns = __webpack_require__(23);\n\tvar Config = __webpack_require__(24);\n\tvar Package = __webpack_require__(25);\n\tvar SelCol = __webpack_require__(9);\n\tvar User = __webpack_require__(26);\n\tvar Visibility = __webpack_require__(28);\n\tvar VisOrdering = __webpack_require__(27);\n\tvar Zoomer = __webpack_require__(29);\n\t\n\t// MV from backbone\n\tvar boneView = __webpack_require__(5);\n\tvar Eventhandler = __webpack_require__(17);\n\t\n\t// MSA views\n\tvar Stage = __webpack_require__(70);\n\t\n\t// statistics\n\tvar Stats = __webpack_require__(51);\n\t\n\t// utils\n\tvar $ = __webpack_require__(7);\n\tvar FileHelper = __webpack_require__(14);\n\tvar TreeHelper = __webpack_require__(36);\n\tvar ProxyHelper = __webpack_require__(16);\n\t\n\t// opts is a dictionary consisting of\n\t// @param el [String] id or reference to a DOM element\n\t// @param seqs [SeqArray] Array of sequences for initlization\n\t// @param conf [Dict] user config\n\t// @param vis [Dict] config of visible views\n\t// @param zoomer [Dict] display settings like columnWidth\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    if (!(typeof data !== \"undefined\" && data !== null)) {\n\t      data = {};\n\t    }\n\t    // check for default arrays\n\t    if (!(data.colorscheme != null)) {\n\t      data.colorscheme = {};\n\t    }\n\t    if (!(data.columns != null)) {\n\t      data.columns = {};\n\t    }\n\t    if (!(data.conf != null)) {\n\t      data.conf = {};\n\t    }\n\t    if (!(data.vis != null)) {\n\t      data.vis = {};\n\t    }\n\t    if (!(data.visorder != null)) {\n\t      data.visorder = {};\n\t    }\n\t    if (!(data.zoomer != null)) {\n\t      data.zoomer = {};\n\t    }\n\t\n\t    // g is our global Mediator\n\t    this.g = Eventhandler.mixin({});\n\t\n\t    // load seqs and add subviews\n\t    this.seqs = this.g.seqs = new SeqCollection(data.seqs, this.g);\n\t\n\t    // populate it and init the global models\n\t    this.g.config = new Config(data.conf);\n\t    this.g.package = new Package(this.g);\n\t    this.g.selcol = new SelCol([], { g: this.g });\n\t    this.g.user = new User();\n\t    this.g.vis = new Visibility(data.vis, { model: this.seqs });\n\t    this.g.visorder = new VisOrdering(data.visorder);\n\t    this.g.zoomer = new Zoomer(data.zoomer, { g: this.g, model: this.seqs });\n\t\n\t    // debug mode\n\t    if (window.location.hostname === \"localhost\") {\n\t      this.g.config.set(\"debug\", true);\n\t    }\n\t\n\t    this._loadSeqs(data);\n\t\n\t    // utils\n\t    this.u = {};\n\t    this.u.file = new FileHelper(this);\n\t    this.u.proxy = new ProxyHelper({ g: this.g });\n\t    this.u.tree = new TreeHelper(this);\n\t\n\t    if (this.g.config.get(\"eventBus\") === true) {\n\t      this.startEventBus();\n\t    }\n\t\n\t    if (this.g.config.get(\"dropImport\")) {\n\t      var events = { \"dragover\": this.dragOver,\n\t        \"drop\": this.dropFile\n\t      };\n\t      this.delegateEvents(events);\n\t    }\n\t\n\t    if (data.importURL) {\n\t      this.u.file.importURL(data.importURL, function () {\n\t        return _this.render();\n\t      });\n\t    }\n\t\n\t    if (data.bootstrapMenu) {\n\t      // pass menu configuration to defaultmenu\n\t      if (data.menu) {\n\t        this.menuConfig = data.menu;\n\t      }\n\t      this.g.config.set(\"bootstrapMenu\", true);\n\t    }\n\t\n\t    this.draw();\n\t    // add models to the msa (convenience)\n\t    return this.m();\n\t  },\n\t\n\t  _loadSeqs: function _loadSeqs(data) {\n\t    // stats\n\t    var pureSeq = this.seqs.pluck(\"seq\");\n\t    this.g.stats = new Stats(this.seqs, { useGaps: true });\n\t    this.g.stats.alphabetSize = this.g.config.get(\"alphabetSize\");\n\t    this.g.columns = new Columns(data.columns, this.g.stats); // for action on the columns like hiding\n\t\n\t    // depending config\n\t    this.g.colorscheme = new Colorator(data.colorscheme, pureSeq, this.g.stats);\n\t\n\t    // more init\n\t    return this.g.zoomer.setEl(this.el, this.seqs);\n\t  },\n\t\n\t  // proxy to the utility package\n\t  importURL: function importURL() {\n\t    return this.u.file.importURL.apply(this.u.file, arguments);\n\t  },\n\t\n\t  // add models to the msa (convenience)\n\t  m: function m() {\n\t    var m = {};\n\t    m.model = __webpack_require__(43);\n\t    m.selection = __webpack_require__(8);\n\t    m.selcol = __webpack_require__(9);\n\t    m.view = __webpack_require__(3);\n\t    m.boneView = __webpack_require__(5);\n\t    return this.m = m;\n\t  },\n\t\n\t  draw: function draw() {\n\t    var _this2 = this;\n\t\n\t    this.removeViews();\n\t\n\t    this.addView(\"stage\", new Stage({ model: this.seqs, g: this.g }));\n\t    this.el.setAttribute(\"class\", \"biojs_msa_div\");\n\t\n\t    // bootstraps the menu bar by default -> destroys modularity\n\t    if (this.g.config.get(\"bootstrapMenu\")) {\n\t      var menuDiv = document.createElement('div');\n\t      var wrapperDiv = document.createElement('div');\n\t      if (!this.el.parentNode) {\n\t        wrapperDiv.appendChild(menuDiv);\n\t        wrapperDiv.appendChild(this.el);\n\t      } else {\n\t        this.el.parentNode.replaceChild(wrapperDiv, this.el);\n\t        wrapperDiv.appendChild(menuDiv);\n\t        wrapperDiv.appendChild(this.el);\n\t      }\n\t\n\t      var bootstrapOpts = { el: menuDiv,\n\t        msa: this\n\t      };\n\t      if (this.menuConfig) {\n\t        bootstrapOpts.menu = this.menuConfig;\n\t      }\n\t      var defMenu = new msa.menu.defaultmenu(bootstrapOpts);\n\t      defMenu.render();\n\t    }\n\t\n\t    return $(window).on(\"resize\", function (e) {\n\t      var f = function f() {\n\t        return this.g.zoomer.autoResize();\n\t      };\n\t      return setTimeout(f.bind(_this2), 5);\n\t    });\n\t  },\n\t\n\t  dragOver: function dragOver(e) {\n\t    // prevent the normal browser actions\n\t    e.preventDefault();\n\t    e.target.className = 'hover';\n\t    return false;\n\t  },\n\t\n\t  dropFile: function dropFile(e) {\n\t    e.preventDefault();\n\t    var files = e.target.files || e.dataTransfer.files;\n\t    this.u.file.importFiles(files);\n\t    return false;\n\t  },\n\t\n\t  startEventBus: function startEventBus() {\n\t    var _this3 = this;\n\t\n\t    var busObjs = [\"config\", \"columns\", \"colorscheme\", \"selcol\", \"vis\", \"visorder\", \"zoomer\"];\n\t    return function () {\n\t      var result = [];\n\t      for (var i = 0, key; i < busObjs.length; i++) {\n\t        key = busObjs[i];\n\t        result.push(_this3._proxyToG(key));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t\n\t  _proxyToG: function _proxyToG(key) {\n\t    return this.listenTo(this.g[key], \"all\", function (name, prev, now, opts) {\n\t      // suppress duplicate events\n\t      if (name === \"change\") {\n\t        return;\n\t      }\n\t      // backbone uses the second argument for the next value -> swap\n\t      if (typeof opts !== \"undefined\" && opts !== null) {\n\t        return this.g.trigger(key + \":\" + name, now, prev, opts);\n\t      } else {\n\t        return this.g.trigger(key + \":\" + name, now, prev);\n\t      }\n\t    });\n\t  },\n\t\n\t  render: function render() {\n\t    if (this.seqs === undefined || this.seqs.length === 0) {\n\t      console.log(\"warning. empty seqs.\");\n\t    }\n\t    this.renderSubviews();\n\t    this.g.vis.set(\"loaded\", true);\n\t    return this;\n\t  }\n\t});\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar SeqBlock = __webpack_require__(74);\n\tvar LabelBlock = __webpack_require__(83);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    if (true) {\n\t      var labelblock = new LabelBlock({ model: this.model, g: this.g });\n\t      labelblock.ordering = -1;\n\t      this.addView(\"labelblock\", labelblock);\n\t    }\n\t\n\t    if (this.g.vis.get(\"sequences\")) {\n\t      var seqblock = new SeqBlock({ model: this.model, g: this.g });\n\t      seqblock.ordering = 0;\n\t      this.addView(\"seqblock\", seqblock);\n\t    }\n\t\n\t    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.adjustHeight);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.adjustWidth);\n\t    return this.listenTo(this.g.columns, \"change:hidden\", this.adjustHeight);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_albody\";\n\t    this.el.style.whiteSpace = \"nowrap\";\n\t    this.adjustHeight();\n\t    this.adjustWidth();\n\t    return this;\n\t  },\n\t\n\t  adjustHeight: function adjustHeight() {\n\t    if (this.g.zoomer.get(\"alignmentHeight\") === \"auto\") {\n\t      // TODO: fix the magic 5\n\t      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") * this.model.length + 5;\n\t    } else {\n\t      return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\");\n\t    }\n\t  },\n\t\n\t  adjustWidth: function adjustWidth() {\n\t    // TODO: 15 is the width of the scrollbar\n\t    return this.el.style.width = this.getWidth();\n\t  },\n\t\n\t  getWidth: function getWidth() {\n\t    var width = 0;\n\t    width += this.g.zoomer.getLeftBlockWidth();\n\t    if (this.g.vis.get(\"sequences\")) {\n\t      width += this.g.zoomer.get(\"alignmentWidth\");\n\t    }\n\t    return width;\n\t  }\n\t});\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar OverviewBox;\n\tvar view = __webpack_require__(3);\n\tvar mouse = __webpack_require__(50);\n\tvar selection = __webpack_require__(8);\n\tvar jbone = __webpack_require__(7);\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = OverviewBox = view.extend({\n\t\n\t  className: \"biojs_msa_overviewbox\",\n\t  tagName: \"canvas\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop\", this.rerender);\n\t    this.listenTo(this.g.selcol, \"add reset change\", this.rerender);\n\t    this.listenTo(this.g.columns, \"change:hidden\", this.rerender);\n\t    this.listenTo(this.g.colorscheme, \"change:showLowerCase\", this.rerender);\n\t    this.listenTo(this.model, \"change\", _.debounce(this.rerender, 5));\n\t\n\t    // color\n\t    this.color = this.g.colorscheme.getSelectedScheme();\n\t    this.listenTo(this.g.colorscheme, \"change:scheme\", function () {\n\t      this.color = this.g.colorscheme.getSelectedScheme();\n\t      return this.rerender();\n\t    });\n\t    return this.dragStart = [];\n\t  },\n\t\n\t  events: { click: \"_onclick\",\n\t    mousedown: \"_onmousedown\"\n\t  },\n\t\n\t  rerender: function rerender() {\n\t    if (!this.g.config.get(\"manualRendering\")) {\n\t      return this.render();\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this._createCanvas();\n\t    this.el.textContent = \"overview\";\n\t    this.el.style.marginTop = this.g.zoomer.get(\"overviewboxPaddingTop\");\n\t\n\t    // background bg for non-drawed area\n\t    this.ctx.fillStyle = \"#999999\";\n\t    this.ctx.fillRect(0, 0, this.el.width, this.el.height);\n\t\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var showLowerCase = this.g.colorscheme.get(\"showLowerCase\");\n\t\n\t    var y = -rectHeight;\n\t    var end = this.model.length - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      var seq = this.model.at(i).get(\"seq\");\n\t      var x = 0;\n\t      y = y + rectHeight;\n\t\n\t      if (this.model.at(i).get(\"hidden\")) {\n\t        // hidden seq\n\t        console.log(this.model.at(i).get(\"hidden\"));\n\t        this.ctx.fillStyle = \"grey\";\n\t        this.ctx.fillRect(0, y, seq.length * rectWidth, rectHeight);\n\t        continue;\n\t      }\n\t\n\t      var end1 = seq.length - 1;\n\t      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n\t        var c = seq[j];\n\t        // todo: optional uppercasing\n\t        if (showLowerCase) {\n\t          c = c.toUpperCase();\n\t        }\n\t        var color = this.color.getColor(c, { pos: j });\n\t\n\t        if (hidden.indexOf(j) >= 0) {\n\t          color = \"grey\";\n\t        }\n\t\n\t        if (typeof color !== \"undefined\" && color !== null) {\n\t          this.ctx.fillStyle = color;\n\t          this.ctx.fillRect(x, y, rectWidth, rectHeight);\n\t        }\n\t\n\t        x = x + rectWidth;\n\t      }\n\t    }\n\t\n\t    return this._drawSelection();\n\t  },\n\t\n\t  _drawSelection: function _drawSelection() {\n\t    // hide during selection\n\t    if (this.dragStart.length > 0 && !this.prolongSelection) {\n\t      return;\n\t    }\n\t\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t    var maxHeight = rectHeight * this.model.length;\n\t    this.ctx.fillStyle = \"#666666\";\n\t    this.ctx.globalAlpha = 0.9;\n\t    var end = this.g.selcol.length - 1;\n\t    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t      var sel = this.g.selcol.at(i);\n\t      if (!sel) continue;\n\t      if (sel.get('type') === 'column') {\n\t        this.ctx.fillRect(rectWidth * sel.get('xStart'), 0, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), maxHeight);\n\t      } else if (sel.get('type') === 'row') {\n\t        var seq = this.model.filter(function (el) {\n\t          return el.get('id') === sel.get('seqId');\n\t        })[0];\n\t        var pos = this.model.indexOf(seq);\n\t        this.ctx.fillRect(0, rectHeight * pos, rectWidth * seq.get('seq').length, rectHeight);\n\t      } else if (sel.get('type') === 'pos') {\n\t        seq = this.model.filter(function (el) {\n\t          return el.get('id') === sel.get('seqId');\n\t        })[0];\n\t        pos = this.model.indexOf(seq);\n\t        this.ctx.fillRect(rectWidth * sel.get('xStart'), rectHeight * pos, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), rectHeight);\n\t      }\n\t    }\n\t\n\t    return this.ctx.globalAlpha = 1;\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    return this.g.trigger(\"meta:click\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmousemove: function _onmousemove(e) {\n\t    // duplicate events\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    this.render();\n\t    this.ctx.fillStyle = \"#666666\";\n\t    this.ctx.globalAlpha = 0.9;\n\t\n\t    var rect = this._calcSelection(mouse.abs(e));\n\t    this.ctx.fillRect(rect[0][0], rect[1][0], rect[0][1] - rect[0][0], rect[1][1] - rect[1][0]);\n\t\n\t    // abort selection events of the browser\n\t    e.preventDefault();\n\t    return e.stopPropagation();\n\t  },\n\t\n\t  // start the selection mode\n\t  _onmousedown: function _onmousedown(e) {\n\t    var _this = this;\n\t\n\t    this.dragStart = mouse.abs(e);\n\t    this.dragStartRel = mouse.rel(e);\n\t\n\t    if (e.ctrlKey || e.metaKey) {\n\t      this.prolongSelection = true;\n\t    } else {\n\t      this.prolongSelection = false;\n\t    }\n\t    // enable global listeners\n\t    jbone(document.body).on('mousemove.overmove', function (e) {\n\t      return _this._onmousemove(e);\n\t    });\n\t    jbone(document.body).on('mouseup.overup', function (e) {\n\t      return _this._onmouseup(e);\n\t    });\n\t    return this.dragStart;\n\t  },\n\t\n\t  // calculates the current selection\n\t  _calcSelection: function _calcSelection(dragMove) {\n\t    // relative to first click\n\t    var dragRel = [dragMove[0] - this.dragStart[0], dragMove[1] - this.dragStart[1]];\n\t\n\t    // relative to target\n\t    for (var i = 0; i <= 1; i++) {\n\t      dragRel[i] = this.dragStartRel[i] + dragRel[i];\n\t    }\n\t\n\t    // 0:x, 1: y\n\t    var rect = [[this.dragStartRel[0], dragRel[0]], [this.dragStartRel[1], dragRel[1]]];\n\t\n\t    // swap the coordinates if needed\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (rect[i][1] < rect[i][0]) {\n\t        rect[i] = [rect[i][1], rect[i][0]];\n\t      }\n\t\n\t      // lower limit\n\t      rect[i][0] = Math.max(rect[i][0], 0);\n\t    }\n\t\n\t    return rect;\n\t  },\n\t\n\t  _endSelection: function _endSelection(dragEnd) {\n\t    // remove listeners\n\t    jbone(document.body).off('.overmove');\n\t    jbone(document.body).off('.overup');\n\t\n\t    // duplicate events\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var rect = this._calcSelection(dragEnd);\n\t\n\t    // x\n\t    for (var i = 0; i <= 1; i++) {\n\t      rect[0][i] = Math.floor(rect[0][i] / this.g.zoomer.get(\"boxRectWidth\"));\n\t    }\n\t\n\t    // y\n\t    for (var i = 0; i <= 1; i++) {\n\t      rect[1][i] = Math.floor(rect[1][i] / this.g.zoomer.get(\"boxRectHeight\"));\n\t    }\n\t\n\t    // upper limit\n\t    rect[0][1] = Math.min(this.model.getMaxLength() - 1, rect[0][1]);\n\t    rect[1][1] = Math.min(this.model.length - 1, rect[1][1]);\n\t\n\t    // select\n\t    var selis = [];\n\t    for (var j = rect[1][0]; rect[1][0] < rect[1][1] ? j <= rect[1][1] : j >= rect[1][1]; rect[1][0] < rect[1][1] ? j++ : j--) {\n\t      var args = { seqId: this.model.at(j).get('id'), xStart: rect[0][0], xEnd: rect[0][1] };\n\t      selis.push(new selection.possel(args));\n\t    }\n\t\n\t    // reset\n\t    this.dragStart = [];\n\t    // look for ctrl key\n\t    if (this.prolongSelection) {\n\t      this.g.selcol.add(selis);\n\t    } else {\n\t      this.g.selcol.reset(selis);\n\t    }\n\t\n\t    // safety check + update offset\n\t    this.g.zoomer.setLeftOffset(rect[0][0]);\n\t    return this.g.zoomer.setTopOffset(rect[1][0]);\n\t  },\n\t\n\t  // ends the selection mode\n\t  _onmouseup: function _onmouseup(e) {\n\t    return this._endSelection(mouse.abs(e));\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(e) {\n\t    return this._endSelection(mouse.abs(e));\n\t  },\n\t\n\t  // init the canvas\n\t  _createCanvas: function _createCanvas() {\n\t    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\t\n\t    this.el.height = this.model.length * rectHeight;\n\t    this.el.width = this.model.getMaxLength() * rectWidth;\n\t    this.ctx = this.el.getContext(\"2d\");\n\t    this.el.style.overflow = \"scroll\";\n\t    return this.el.style.cursor = \"crosshair\";\n\t  }\n\t});\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar _ = __webpack_require__(1);\n\tvar k = __webpack_require__(19);\n\tvar dom = __webpack_require__(6);\n\tvar sel = __webpack_require__(8);\n\t\n\t// this is a very simplistic approach to show search result\n\t// TODO: needs proper styling\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.user, \"change:searchText\", function (model, prop) {\n\t      this.search(prop);\n\t      return this.render();\n\t    });\n\t    this.sel = [];\n\t    return this.selPos = 0;\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this.el.className = \"biojs_msa_searchresult\";\n\t    var searchText = this.g.user.get(\"searchText\");\n\t    if (typeof searchText !== \"undefined\" && searchText !== null && searchText.length > 0) {\n\t      if (this.sel.length === 0) {\n\t        this.el.textContent = \"no selection found\";\n\t      } else {\n\t        this.resultBox = k.mk(\"div\");\n\t        this.resultBox.className = \"biojs_msa_searchresult_ovbox\";\n\t        this.updateResult();\n\t        this.el.appendChild(this.resultBox);\n\t        this.el.appendChild(this.buildBtns());\n\t      }\n\t    }\n\t    return this;\n\t  },\n\t\n\t  updateResult: function updateResult() {\n\t    var text = \"search pattern: \" + this.g.user.get(\"searchText\");\n\t    text += \", selection: \" + (this.selPos + 1);\n\t    var seli = this.sel[this.selPos];\n\t    text += \" (\";\n\t    text += seli.get(\"xStart\") + \" - \" + seli.get(\"xEnd\");\n\t    text += \", id: \" + seli.get(\"seqId\");\n\t    text += \")\";\n\t    return this.resultBox.textContent = text;\n\t  },\n\t\n\t  buildBtns: function buildBtns() {\n\t    var _this = this;\n\t\n\t    var prevBtn = k.mk(\"button\");\n\t    prevBtn.textContent = \"Prev\";\n\t    prevBtn.addEventListener(\"click\", function () {\n\t      return _this.moveSel(-1);\n\t    });\n\t\n\t    var nextBtn = k.mk(\"button\");\n\t    nextBtn.textContent = \"Next\";\n\t    nextBtn.addEventListener(\"click\", function () {\n\t      return _this.moveSel(1);\n\t    });\n\t\n\t    var allBtn = k.mk(\"button\");\n\t    allBtn.textContent = \"All\";\n\t    allBtn.addEventListener(\"click\", function () {\n\t      return _this.g.selcol.reset(_this.sel);\n\t    });\n\t\n\t    var searchrow = k.mk(\"div\");\n\t    searchrow.appendChild(prevBtn);\n\t    searchrow.appendChild(nextBtn);\n\t    searchrow.appendChild(allBtn);\n\t    searchrow.className = \"biojs_msa_searchresult_row\";\n\t    return searchrow;\n\t  },\n\t\n\t  moveSel: function moveSel(relDist) {\n\t    var selNew = this.selPos + relDist;\n\t    if (selNew < 0 || selNew >= this.sel.length) {\n\t      return -1;\n\t    } else {\n\t      this.focus(selNew);\n\t      this.selPos = selNew;\n\t      return this.updateResult();\n\t    }\n\t  },\n\t\n\t  focus: function focus(selPos) {\n\t    var seli = this.sel[selPos];\n\t    var leftIndex = seli.get(\"xStart\");\n\t    this.g.zoomer.setLeftOffset(leftIndex);\n\t    return this.g.selcol.reset([seli]);\n\t  },\n\t\n\t  search: function search(searchText) {\n\t    // marks all hits\n\t    var origIndex;\n\t    var search = new RegExp(searchText, \"gi\");\n\t    var newSeli = [];\n\t    var leftestIndex = origIndex = 100042;\n\t\n\t    this.model.each(function (seq) {\n\t      var strSeq = seq.get(\"seq\");\n\t      return function () {\n\t        var match;\n\t        var result = [];\n\t        while (match = search.exec(strSeq)) {\n\t          var index = match.index;\n\t          var args = { xStart: index, xEnd: index + match[0].length - 1, seqId: seq.get(\"id\") };\n\t          newSeli.push(new sel.possel(args));\n\t          result.push(leftestIndex = Math.min(index, leftestIndex));\n\t        }\n\t        return result;\n\t      }();\n\t    });\n\t\n\t    this.g.selcol.reset(newSeli);\n\t\n\t    // safety check + update offset\n\t    if (leftestIndex === origIndex) {\n\t      leftestIndex = 0;\n\t    }\n\t    this.g.zoomer.setLeftOffset(leftestIndex);\n\t\n\t    return this.sel = newSeli;\n\t  }\n\t});\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar AlignmentBody = __webpack_require__(67);\n\tvar HeaderBlock = __webpack_require__(78);\n\tvar OverviewBox = __webpack_require__(68);\n\tvar Search = __webpack_require__(69);\n\tvar _ = __webpack_require__(1);\n\t\n\t// a neat collection view\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.draw();\n\t    //@listenTo @model,\"reset\", ->\n\t    // we need to wait until stats gives us the ok\n\t    this.listenTo(this.g.stats, \"reset\", function () {\n\t      return this.rerender();\n\t    });\n\t\n\t    // debounce a bulk operation\n\t    this.listenTo(this.model, \"change:hidden\", _.debounce(this.rerender, 10));\n\t\n\t    this.listenTo(this.model, \"sort\", this.rerender);\n\t    this.listenTo(this.model, \"add\", function () {\n\t      return console.log(\"seq add\");\n\t    });\n\t\n\t    this.listenTo(this.g.vis, \"change:sequences\", this.rerender);\n\t    this.listenTo(this.g.vis, \"change:overviewbox\", this.rerender);\n\t    return this.listenTo(this.g.visorder, \"change\", this.rerender);\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"overviewbox\")) {\n\t      var overviewbox = new OverviewBox({ model: this.model, g: this.g });\n\t      overviewbox.ordering = this.g.visorder.get('overviewBox');\n\t      this.addView(\"overviewBox\", overviewbox);\n\t    }\n\t\n\t    if (true) {\n\t      var headerblock = new HeaderBlock({ model: this.model, g: this.g });\n\t      headerblock.ordering = this.g.visorder.get('headerBox');\n\t      this.addView(\"headerBox\", headerblock);\n\t    }\n\t\n\t    if (true) {\n\t      var searchblock = new Search({ model: this.model, g: this.g });\n\t      searchblock.ordering = this.g.visorder.get('searchBox');\n\t      this.addView(\"searchbox\", searchblock);\n\t    }\n\t\n\t    var body = new AlignmentBody({ model: this.model, g: this.g });\n\t    body.ordering = this.g.visorder.get('alignmentBody');\n\t    return this.addView(\"body\", body);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_stage\";\n\t\n\t    return this;\n\t  },\n\t\n\t  rerender: function rerender() {\n\t    if (!this.g.config.get(\"manualRendering\")) {\n\t      this.draw();\n\t      return this.render();\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Events = __webpack_require__(17);\n\t\n\tmodule.exports = function () {\n\t  function CanvasCharCache(g) {\n\t    _classCallCheck(this, CanvasCharCache);\n\t\n\t    this.g = g;\n\t    this.cache = {};\n\t    this.cacheHeight = 0;\n\t    this.cacheWidth = 0;\n\t  }\n\t\n\t  // returns a cached canvas\n\t\n\t\n\t  _createClass(CanvasCharCache, [{\n\t    key: \"getFontTile\",\n\t    value: function getFontTile(letter, width, height) {\n\t      // validate cache\n\t      if (width !== this.cacheWidth || height !== this.cacheHeight) {\n\t        this.cacheHeight = height;\n\t        this.cacheWidth = width;\n\t        this.cache = {};\n\t      }\n\t\n\t      if (this.cache[letter] === undefined) {\n\t        this.createTile(letter, width, height);\n\t      }\n\t\n\t      return this.cache[letter];\n\t    }\n\t\n\t    // creates a canvas with a single letter\n\t    // (for the fast font cache)\n\t\n\t  }, {\n\t    key: \"createTile\",\n\t    value: function createTile(letter, width, height) {\n\t\n\t      var canvas = this.cache[letter] = document.createElement(\"canvas\");\n\t      canvas.width = width;\n\t      canvas.height = height;\n\t      this.ctx = canvas.getContext('2d');\n\t      this.ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\t\n\t      this.ctx.textBaseline = 'middle';\n\t      this.ctx.textAlign = \"center\";\n\t\n\t      return this.ctx.fillText(letter, width / 2, height / 2, width);\n\t    }\n\t  }]);\n\t\n\t  return CanvasCharCache;\n\t}();\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar cacheConstructor;\n\tvar _ = __webpack_require__(1);\n\tvar Events = __webpack_require__(17);\n\t\n\tvar cache = {\n\t  setMaxScrollHeight: function setMaxScrollHeight() {\n\t    return this.maxScrollHeight = this.g.zoomer.getMaxAlignmentHeight() - this.g.zoomer.get('alignmentHeight');\n\t  },\n\t  setMaxScrollWidth: function setMaxScrollWidth() {\n\t    return this.maxScrollWidth = this.g.zoomer.getMaxAlignmentWidth() - this.g.zoomer.getAlignmentWidth();\n\t  }\n\t};\n\t\n\tmodule.exports = cacheConstructor = function cacheConstructor(g, model) {\n\t  this.g = g;\n\t  this.model = model;\n\t  this.maxScrollWidth = 0;\n\t  this.maxScrollHeight = 0;\n\t  this.setMaxScrollHeight();\n\t  this.setMaxScrollWidth();\n\t\n\t  this.listenTo(this.g.zoomer, \"change:rowHeight\", this.setMaxScrollHeight);\n\t  this.listenTo(this.g.zoomer, \"change:columnWidth\", this.setMaxScrollWidth);\n\t  this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.setMaxScrollWidth);\n\t  this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.setMaxScrollHeight);\n\t  this.listenTo(this.model, \"add change reset\", function () {\n\t    this.setMaxScrollHeight();\n\t    return this.setMaxScrollWidth();\n\t  }, this);\n\t  return this;\n\t};\n\t\n\t_.extend(cacheConstructor.prototype, cache);\n\tEvents.mixin(cacheConstructor.prototype);\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar SelectionClass;\n\tvar _ = __webpack_require__(1);\n\t\n\tmodule.exports = SelectionClass = function SelectionClass(g, ctx) {\n\t  this.g = g;\n\t  this.ctx = ctx;\n\t  return this;\n\t};\n\t\n\t_.extend(SelectionClass.prototype, {\n\t\n\t  // TODO: should I be moved to the selection manager?\n\t  // returns an array with the currently selected residues\n\t  // e.g. [0,3] = pos 0 and 3 are selected\n\t  _getSelection: function _getSelection(model) {\n\t    var maxLen = model.get(\"seq\").length;\n\t    var selection = [];\n\t    var sels = this.g.selcol.getSelForRow(model.get(\"id\"));\n\t    var rows = _.find(sels, function (el) {\n\t      return el.get(\"type\") === \"row\";\n\t    });\n\t    if (typeof rows !== \"undefined\" && rows !== null) {\n\t      // full match\n\t      var end = maxLen - 1;\n\t      for (var n = 0; n <= end; n++) {\n\t        selection.push(n);\n\t      }\n\t    } else if (sels.length > 0) {\n\t      for (var i = 0, sel; i < sels.length; i++) {\n\t        sel = sels[i];\n\t        var start = sel.get(\"xStart\");\n\t        var end = sel.get(\"xEnd\");\n\t        for (var n = start; n <= end; n++) {\n\t          selection.push(n);\n\t        }\n\t      }\n\t    }\n\t\n\t    return selection;\n\t  },\n\t\n\t  // loops over all selection and calls the render method\n\t  _appendSelection: function _appendSelection(data) {\n\t    var _this = this;\n\t\n\t    var seq = data.model.get(\"seq\");\n\t    var selection = this._getSelection(data.model);\n\t    // get the status of the upper and lower row\n\t\n\t    var _getPrevNextSelection = this._getPrevNextSelection(data.model);\n\t\n\t    var _getPrevNextSelection2 = _slicedToArray(_getPrevNextSelection, 2);\n\t\n\t    var mPrevSel = _getPrevNextSelection2[0];\n\t    var mNextSel = _getPrevNextSelection2[1];\n\t\n\t\n\t    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\t\n\t    // avoid unnecessary loops\n\t    if (selection.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var hiddenOffset = 0;\n\t    return function () {\n\t      var result = [];\n\t      var end = seq.length - 1;\n\t      for (var n = 0; 0 < end ? n <= end : n >= end; 0 < end ? n++ : n--) {\n\t        result.push(function () {\n\t          if (data.hidden.indexOf(n) >= 0) {\n\t            return hiddenOffset++;\n\t          } else {\n\t            var k = n - hiddenOffset;\n\t            // only if its a new selection\n\t            if (selection.indexOf(n) >= 0 && (k === 0 || selection.indexOf(n - 1) < 0)) {\n\t              return _this._renderSelection({ n: n, k: k, selection: selection, mPrevSel: mPrevSel, mNextSel: mNextSel, xZero: data.xZero, yZero: data.yZero, model: data.model });\n\t            }\n\t          }\n\t        }());\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  // draws a single user selection\n\t  _renderSelection: function _renderSelection(data) {\n\t\n\t    var xZero = data.xZero;\n\t    var yZero = data.yZero;\n\t    var n = data.n;\n\t    var k = data.k;\n\t    var selection = data.selection;\n\t    // and checks the prev and next row for selection  -> no borders in a selection\n\t    var mPrevSel = data.mPrevSel;\n\t    var mNextSel = data.mNextSel;\n\t\n\t    // get the length of this selection\n\t    var selectionLength = 0;\n\t    var end = data.model.get(\"seq\").length - 1;\n\t    for (var i = n; n < end ? i <= end : i >= end; n < end ? i++ : i--) {\n\t      if (selection.indexOf(i) >= 0) {\n\t        selectionLength++;\n\t      } else {\n\t        break;\n\t      }\n\t    }\n\t\n\t    // TODO: ugly!\n\t    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\t    var totalWidth = boxWidth * selectionLength + 1;\n\t\n\t    var hidden = this.g.columns.get('hidden');\n\t\n\t    this.ctx.beginPath();\n\t    var beforeWidth = this.ctx.lineWidth;\n\t    this.ctx.lineWidth = 3;\n\t    var beforeStyle = this.ctx.strokeStyle;\n\t    this.ctx.strokeStyle = \"#FF0000\";\n\t\n\t    xZero += k * boxWidth;\n\t\n\t    // split up the selection into single cells\n\t    var xPart = 0;\n\t    var end1 = selectionLength - 1;\n\t    for (var i = 0; 0 < end1 ? i <= end1 : i >= end1; 0 < end1 ? i++ : i--) {\n\t      var xPos = n + i;\n\t      if (hidden.indexOf(xPos) >= 0) {\n\t        continue;\n\t      }\n\t      // upper line\n\t      if (!(typeof mPrevSel !== \"undefined\" && mPrevSel !== null && mPrevSel.indexOf(xPos) >= 0)) {\n\t        this.ctx.moveTo(xZero + xPart, yZero);\n\t        this.ctx.lineTo(xPart + boxWidth + xZero, yZero);\n\t      }\n\t      // lower line\n\t      if (!(typeof mNextSel !== \"undefined\" && mNextSel !== null && mNextSel.indexOf(xPos) >= 0)) {\n\t        this.ctx.moveTo(xPart + xZero, boxHeight + yZero);\n\t        this.ctx.lineTo(xPart + boxWidth + xZero, boxHeight + yZero);\n\t      }\n\t\n\t      xPart += boxWidth;\n\t    }\n\t\n\t    // left\n\t    this.ctx.moveTo(xZero, yZero);\n\t    this.ctx.lineTo(xZero, boxHeight + yZero);\n\t\n\t    // right\n\t    this.ctx.moveTo(xZero + totalWidth, yZero);\n\t    this.ctx.lineTo(xZero + totalWidth, boxHeight + yZero);\n\t\n\t    this.ctx.stroke();\n\t    this.ctx.strokeStyle = beforeStyle;\n\t    return this.ctx.lineWidth = beforeWidth;\n\t  },\n\t\n\t  // looks at the selection of the prev and next el\n\t  // TODO: this is very naive, as there might be gaps above or below\n\t  _getPrevNextSelection: function _getPrevNextSelection(model) {\n\t\n\t    var modelPrev = model.collection.prev(model);\n\t    var modelNext = model.collection.next(model);\n\t    if (typeof modelPrev !== \"undefined\" && modelPrev !== null) {\n\t      var mPrevSel = this._getSelection(modelPrev);\n\t    }\n\t    if (typeof modelNext !== \"undefined\" && modelNext !== null) {\n\t      var mNextSel = this._getSelection(modelNext);\n\t    }\n\t    return [mPrevSel, mNextSel];\n\t  }\n\t});\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar mouse = __webpack_require__(50);\n\tvar _ = __webpack_require__(1);\n\tvar jbone = __webpack_require__(7);\n\tvar CharCache = __webpack_require__(71);\n\tvar SelectionClass = __webpack_require__(73);\n\tvar CanvasSeqDrawer = __webpack_require__(75);\n\tvar CanvasCoordsCache = __webpack_require__(72);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  tagName: \"canvas\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft change:_alignmentScrollTop\", function (model, value, options) {\n\t      if (!((typeof options !== \"undefined\" && options !== null ? options.origin : undefined) != null) || options.origin !== \"canvasseq\") {\n\t        return this.render();\n\t      }\n\t    });\n\t\n\t    this.listenTo(this.g.columns, \"change:hidden\", this.render);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth change:alignmentHeight\", this.render);\n\t    this.listenTo(this.g.colorscheme, \"change\", this.render);\n\t    this.listenTo(this.g.selcol, \"reset add\", this.render);\n\t    this.listenTo(this.model, \"reset add\", this.render);\n\t\n\t    // el props\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.overflowX = \"hidden\";\n\t    this.el.style.overflowY = \"hidden\";\n\t    this.el.className = \"biojs_msa_seqblock\";\n\t\n\t    this.ctx = this.el.getContext('2d');\n\t    this.cache = new CharCache(this.g);\n\t    this.coordsCache = new CanvasCoordsCache(this.g, this.model);\n\t\n\t    // clear the char cache\n\t    this.listenTo(this.g.zoomer, \"change:residueFont\", function () {\n\t      this.cache = new CharCache(this.g);\n\t      return this.render();\n\t    });\n\t\n\t    // init selection\n\t    this.sel = new SelectionClass(this.g, this.ctx);\n\t\n\t    this._setColor();\n\t\n\t    // throttle the expensive draw function\n\t    this.throttleTime = 0;\n\t    this.throttleCounts = 0;\n\t    if (document.documentElement.style.webkitAppearance != null) {\n\t      // webkit browser - no throttling needed\n\t      this.throttledDraw = function () {\n\t        var start = +new Date();\n\t        this.draw();\n\t        this.throttleTime += +new Date() - start;\n\t        this.throttleCounts++;\n\t        if (this.throttleCounts > 15) {\n\t          var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n\t          console.log(\"avgDrawTime/WebKit\", tTime);\n\t          // remove perf analyser\n\t          return this.throttledDraw = this.draw;\n\t        }\n\t      };\n\t    } else {\n\t      // slow browsers like Gecko\n\t      this.throttledDraw = _.throttle(this.throttledDraw, 30);\n\t    }\n\t\n\t    return this.manageEvents();\n\t  },\n\t\n\t  // measures the time of a redraw and thus set the throttle limit\n\t  throttledDraw: function throttledDraw() {\n\t    // +new is the fastest: http://jsperf.com/new-date-vs-date-now-vs-performance-now/6\n\t    var start = +new Date();\n\t    this.draw();\n\t    this.throttleTime += +new Date() - start;\n\t    this.throttleCounts++;\n\t\n\t    // remove itself after analysis\n\t    if (this.throttleCounts > 15) {\n\t      var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n\t      console.log(\"avgDrawTime\", tTime);\n\t      tTime *= 1.2; // add safety time\n\t      tTime = Math.max(20, tTime); // limit for ultra fast computers\n\t      return this.throttledDraw = _.throttle(this.draw, tTime);\n\t    }\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    events.mousedown = \"_onmousedown\";\n\t    events.touchstart = \"_ontouchstart\";\n\t\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.dblclick = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t\n\t    events.mousewheel = \"_onmousewheel\";\n\t    events.DOMMouseScroll = \"_onmousewheel\";\n\t    this.delegateEvents(events);\n\t\n\t    // listen for changes\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t    return this.dragStart = [];\n\t  },\n\t\n\t  _setColor: function _setColor() {\n\t    return this.color = this.g.colorscheme.getSelectedScheme();\n\t  },\n\t\n\t  draw: function draw() {\n\t    // fastest way to clear the canvas\n\t    // http://jsperf.com/canvas-clear-speed/25\n\t    this.el.width = this.el.width;\n\t\n\t    // draw all the stuff\n\t    if (this.seqDrawer != null && this.model.length > 0) {\n\t      // char based\n\t      this.seqDrawer.drawLetters();\n\t      // row based\n\t      this.seqDrawer.drawRows(this.sel._appendSelection, this.sel);\n\t      return this.seqDrawer.drawRows(this.drawFeatures, this);\n\t    }\n\t  },\n\t\n\t  drawFeatures: function drawFeatures(data) {\n\t    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var rectHeight = this.g.zoomer.get(\"rowHeight\");\n\t    if (data.model.attributes.height > 1) {\n\t      var ctx = this.ctx;\n\t      data.model.attributes.features.each(function (feature) {\n\t        ctx.fillStyle = feature.attributes.fillColor || \"red\";\n\t        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n\t        var y = (feature.attributes.row + 1) * rectHeight;\n\t        return ctx.fillRect(feature.attributes.xStart * rectWidth + data.xZero, y + data.yZero, rectWidth * len, rectHeight);\n\t      });\n\t\n\t      // draw text\n\t      ctx.fillStyle = \"black\";\n\t      ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\t      ctx.textBaseline = 'middle';\n\t      ctx.textAlign = \"center\";\n\t\n\t      return data.model.attributes.features.each(function (feature) {\n\t        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n\t        var y = (feature.attributes.row + 1) * rectHeight;\n\t        return ctx.fillText(feature.attributes.text, data.xZero + feature.attributes.xStart * rectWidth + len / 2 * rectWidth, data.yZero + rectHeight * 0.5 + y);\n\t      });\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t\n\t    this.el.setAttribute('height', this.g.zoomer.get(\"alignmentHeight\") + \"px\");\n\t    this.el.setAttribute('width', this.g.zoomer.getAlignmentWidth() + \"px\");\n\t\n\t    this.g.zoomer._checkScrolling(this._checkScrolling([this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')]), { header: \"canvasseq\" });\n\t\n\t    this._setColor();\n\t\n\t    this.seqDrawer = new CanvasSeqDrawer(this.g, this.ctx, this.model, { width: this.el.width,\n\t      height: this.el.height,\n\t      color: this.color,\n\t      cache: this.cache\n\t    });\n\t\n\t    this.throttledDraw();\n\t    return this;\n\t  },\n\t\n\t  _onmousemove: function _onmousemove(e, reversed) {\n\t    if (this.dragStart.length === 0) {\n\t      return;\n\t    }\n\t\n\t    var dragEnd = mouse.abs(e);\n\t    // relative to first click\n\t    var relEnd = [dragEnd[0] - this.dragStart[0], dragEnd[1] - this.dragStart[1]];\n\t    // relative to initial scroll status\n\t\n\t    // scale events\n\t    var scaleFactor = this.g.zoomer.get(\"canvasEventScale\");\n\t    if (reversed) {\n\t      scaleFactor = 3;\n\t    }\n\t    for (var i = 0; i <= 1; i++) {\n\t      relEnd[i] = relEnd[i] * scaleFactor;\n\t    }\n\t\n\t    // calculate new scrolling vals\n\t    var relDist = [this.dragStartScroll[0] - relEnd[0], this.dragStartScroll[1] - relEnd[1]];\n\t\n\t    // round values\n\t    for (var i = 0; i <= 1; i++) {\n\t      relDist[i] = Math.round(relDist[i]);\n\t    }\n\t\n\t    // update scrollbar\n\t    var scrollCorrected = this._checkScrolling(relDist);\n\t    this.g.zoomer._checkScrolling(scrollCorrected, { origin: \"canvasseq\" });\n\t\n\t    // reset start if use scrolls out of bounds\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (scrollCorrected[i] !== relDist[i]) {\n\t        if (scrollCorrected[i] === 0) {\n\t          // reset of left, top\n\t          this.dragStart[i] = dragEnd[i];\n\t          this.dragStartScroll[i] = 0;\n\t        } else {\n\t          // recalibrate on right, bottom\n\t          this.dragStart[i] = dragEnd[i] - scrollCorrected[i];\n\t        }\n\t      }\n\t    }\n\t\n\t    this.throttledDraw();\n\t\n\t    // abort selection events of the browser (mouse only)\n\t    if (e.preventDefault != null) {\n\t      e.preventDefault();\n\t      return e.stopPropagation();\n\t    }\n\t  },\n\t\n\t  // converts touches into old mouse event\n\t  _ontouchmove: function _ontouchmove(e) {\n\t    this._onmousemove(e.changedTouches[0], true);\n\t    e.preventDefault();\n\t    return e.stopPropagation();\n\t  },\n\t\n\t  // start the dragging mode\n\t  _onmousedown: function _onmousedown(e) {\n\t    var _this = this;\n\t\n\t    this.dragStart = mouse.abs(e);\n\t    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n\t    jbone(document.body).on('mousemove.overmove', function (e) {\n\t      return _this._onmousemove(e);\n\t    });\n\t    jbone(document.body).on('mouseup.overup', function () {\n\t      return _this._cleanup();\n\t    });\n\t    //jbone(document.body).on 'mouseout.overout', (e) => @_onmousewinout(e)\n\t    return e.preventDefault();\n\t  },\n\t\n\t  // starts the touch mode\n\t  _ontouchstart: function _ontouchstart(e) {\n\t    var _this2 = this;\n\t\n\t    this.dragStart = mouse.abs(e.changedTouches[0]);\n\t    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n\t    jbone(document.body).on('touchmove.overtmove', function (e) {\n\t      return _this2._ontouchmove(e);\n\t    });\n\t    return jbone(document.body).on('touchend.overtend touchleave.overtleave touchcancel.overtcanel', function (e) {\n\t      return _this2._touchCleanup(e);\n\t    });\n\t  },\n\t\n\t  // checks whether mouse moved out of the window\n\t  // -> terminate dragging\n\t  _onmousewinout: function _onmousewinout(e) {\n\t    if (e.toElement === document.body.parentNode) {\n\t      return this._cleanup();\n\t    }\n\t  },\n\t\n\t  // terminates dragging\n\t  _cleanup: function _cleanup() {\n\t    this.dragStart = [];\n\t    // remove all listeners\n\t    jbone(document.body).off('.overmove');\n\t    jbone(document.body).off('.overup');\n\t    return jbone(document.body).off('.overout');\n\t  },\n\t\n\t  // terminates touching\n\t  _touchCleanup: function _touchCleanup(e) {\n\t    if (e.changedTouches.length > 0) {\n\t      // maybe we can send a final event\n\t      this._onmousemove(e.changedTouches[0], true);\n\t    }\n\t\n\t    this.dragStart = [];\n\t    // remove all listeners\n\t    jbone(document.body).off('.overtmove');\n\t    jbone(document.body).off('.overtend');\n\t    jbone(document.body).off('.overtleave');\n\t    return jbone(document.body).off('.overtcancel');\n\t  },\n\t\n\t  // might be incompatible with some browsers\n\t  _onmousewheel: function _onmousewheel(e) {\n\t    var delta = mouse.wheelDelta(e);\n\t    this.g.zoomer.set('_alignmentScrollLeft', this.g.zoomer.get('_alignmentScrollLeft') + delta[0]);\n\t    this.g.zoomer.set('_alignmentScrollTop', this.g.zoomer.get('_alignmentScrollTop') + delta[1]);\n\t    return e.preventDefault();\n\t  },\n\t\n\t  _onclick: function _onclick(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:click\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:click\", res);\n\t      }\n\t    }\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _onmousein: function _onmousein(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:mousein\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:mousein\", res);\n\t      }\n\t    }\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(e) {\n\t    var res = this._getClickPos(e);\n\t    if (typeof res !== \"undefined\" && res !== null) {\n\t      if (res.feature != null) {\n\t        this.g.trigger(\"feature:mouseout\", res);\n\t      } else {\n\t        this.g.trigger(\"residue:mouseout\", res);\n\t      }\n\t    }\n\t\n\t    return this.throttledDraw();\n\t  },\n\t\n\t  _getClickPos: function _getClickPos(e) {\n\t    var coords = mouse.rel(e);\n\t\n\t    coords[0] += this.g.zoomer.get(\"_alignmentScrollLeft\");\n\t    var x = Math.floor(coords[0] / this.g.zoomer.get(\"columnWidth\"));\n\t\n\t    var _seqDrawer$_getSeqFor = this.seqDrawer._getSeqForYClick(coords[1]);\n\t\n\t    var _seqDrawer$_getSeqFor2 = _slicedToArray(_seqDrawer$_getSeqFor, 2);\n\t\n\t    var y = _seqDrawer$_getSeqFor2[0];\n\t    var rowNumber = _seqDrawer$_getSeqFor2[1];\n\t\n\t    // add hidden columns\n\t\n\t    x += this.g.columns.calcHiddenColumns(x);\n\t    // add hidden seqs\n\t    y += this.model.calcHiddenSeqs(y);\n\t\n\t    x = Math.max(0, x);\n\t    y = Math.max(0, y);\n\t\n\t    var seqId = this.model.at(y).get(\"id\");\n\t\n\t    if (rowNumber > 0) {\n\t      // click on a feature\n\t      var features = this.model.at(y).get(\"features\").getFeatureOnRow(rowNumber - 1, x);\n\t      if (!(features.length === 0)) {\n\t        var feature = features[0];\n\t        console.log(features[0].attributes);\n\t        return { seqId: seqId, feature: feature, rowPos: x, evt: e };\n\t      }\n\t    } else {\n\t      // click on a seq\n\t      return { seqId: seqId, rowPos: x, evt: e };\n\t    }\n\t  },\n\t\n\t  // checks whether the scrolling coordinates are valid\n\t  // @returns: [xScroll,yScroll] valid coordinates\n\t  _checkScrolling: function _checkScrolling(scrollObj) {\n\t\n\t    // 0: maxLeft, 1: maxTop\n\t    var max = [this.coordsCache.maxScrollWidth, this.coordsCache.maxScrollHeight];\n\t\n\t    for (var i = 0; i <= 1; i++) {\n\t      if (scrollObj[i] > max[i]) {\n\t        scrollObj[i] = max[i];\n\t      }\n\t\n\t      if (scrollObj[i] < 0) {\n\t        scrollObj[i] = 0;\n\t      }\n\t    }\n\t\n\t    return scrollObj;\n\t  }\n\t});\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar construc;\n\tvar _ = __webpack_require__(1);\n\t\n\tvar drawer = { drawLetters: function drawLetters() {\n\t\n\t    var rectHeight = this.rectHeight;\n\t\n\t    // rects\n\t    this.ctx.globalAlpha = this.g.colorscheme.get(\"opacity\");\n\t    this.drawSeqs(function (data) {\n\t      return this.drawSeq(data, this._drawRect);\n\t    });\n\t    this.ctx.globalAlpha = 1;\n\t\n\t    // letters\n\t    return this.drawSeqs(function (data) {\n\t      return this.drawSeq(data, this._drawLetter);\n\t    });\n\t  },\n\t\n\t  drawSeqs: function drawSeqs(callback, target) {\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t\n\t    target = target || this;\n\t\n\t    var _getStartSeq = this.getStartSeq();\n\t\n\t    var _getStartSeq2 = _slicedToArray(_getStartSeq, 2);\n\t\n\t    var start = _getStartSeq2[0];\n\t    var y = _getStartSeq2[1];\n\t\n\t\n\t    for (var i = start; i < this.model.length; i++) {\n\t      var seq = this.model.at(i);\n\t      if (seq.get('hidden')) {\n\t        continue;\n\t      }\n\t      callback.call(target, { model: seq, yPos: y, y: i, hidden: hidden });\n\t\n\t      var seqHeight = (seq.attributes.height || 1) * this.rectHeight;\n\t      y = y + seqHeight;\n\t\n\t      // out of viewport - stop\n\t      if (y > this.height) {\n\t        break;\n\t      }\n\t    }\n\t  },\n\t\n\t  // calls the callback for every drawable row\n\t  drawRows: function drawRows(callback, target) {\n\t    return this.drawSeqs(function (data) {\n\t      return this.drawRow(data, callback, target);\n\t    });\n\t  },\n\t\n\t  // draws a single row\n\t  drawRow: function drawRow(data, callback, target) {\n\t    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n\t    var x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\t\n\t    var xZero = x - start * rectWidth;\n\t    var yZero = data.yPos;\n\t    return callback.call(target, { model: data.model, xZero: xZero, yZero: yZero, hidden: data.hidden });\n\t  },\n\t\n\t  // returns first sequence in the viewport\n\t  // y is the position to start drawing\n\t  getStartSeq: function getStartSeq() {\n\t    var start = Math.max(0, Math.floor(this.g.zoomer.get('_alignmentScrollTop') / this.rectHeight)) + 1;\n\t    var counter = 0;\n\t    var i = 0;\n\t    while (counter < start && i < this.model.length) {\n\t      counter += this.model.at(i).attributes.height || 1;\n\t      i++;\n\t    }\n\t    var y = Math.max(0, this.g.zoomer.get('_alignmentScrollTop') - counter * this.rectHeight + (this.model.at(i - 1).attributes.height || 1) * this.rectHeight);\n\t    return [i - 1, -y];\n\t  },\n\t\n\t  // returns [the clicked seq for a viewport, row number]\n\t  _getSeqForYClick: function _getSeqForYClick(click) {\n\t    var _getStartSeq3 = this.getStartSeq();\n\t\n\t    var _getStartSeq4 = _slicedToArray(_getStartSeq3, 2);\n\t\n\t    var start = _getStartSeq4[0];\n\t    var yDiff = _getStartSeq4[1];\n\t\n\t    var yRel = yDiff % this.rectHeight;\n\t    var clickedRows = Math.max(0, Math.floor((click - yRel) / this.rectHeight)) + 1;\n\t    var counter = 0;\n\t    var i = start;\n\t    while (counter < clickedRows && i < this.model.length) {\n\t      counter += this.model.at(i).attributes.height || 1;\n\t      i++;\n\t    }\n\t    var rowNumber = Math.max(0, Math.floor(click / this.rectHeight) - counter + (this.model.at(i - 1).get(\"height\") || 1));\n\t    return [i - 1, rowNumber];\n\t  },\n\t\n\t  // TODO: very expensive method\n\t  drawSeq: function drawSeq(data, callback) {\n\t    var seq = data.model.get(\"seq\");\n\t    var y = data.yPos;\n\t    var rectWidth = this.rectWidth;\n\t    var rectHeight = this.rectHeight;\n\t\n\t    // skip unneeded blocks at the beginning\n\t    var start = Math.max(0, Math.abs(Math.ceil(-this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n\t    var x = -Math.abs(-this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\t\n\t    var res = { rectWidth: rectWidth, rectHeight: rectHeight, yPos: y, y: data.y };\n\t    var elWidth = this.width;\n\t\n\t    for (var j = start; j < seq.length; j++) {\n\t      var c = seq[j];\n\t      c = c.toUpperCase();\n\t\n\t      // call the custom function\n\t      res.x = j;\n\t      res.c = c;\n\t      res.xPos = x;\n\t\n\t      // local call is faster than apply\n\t      // http://jsperf.com/function-calls-direct-vs-apply-vs-call-vs-bind/6\n\t      if (data.hidden.indexOf(j) < 0) {\n\t        callback(this, res);\n\t      } else {\n\t        continue;\n\t      }\n\t\n\t      // move to the right\n\t      x = x + rectWidth;\n\t\n\t      // out of viewport - stop\n\t      if (x > elWidth) {\n\t        break;\n\t      }\n\t    }\n\t  },\n\t\n\t  _drawRect: function _drawRect(that, data) {\n\t    var color = that.color.getColor(data.c, { pos: data.x,\n\t      y: data.y\n\t    });\n\t    if (typeof color !== \"undefined\" && color !== null) {\n\t      that.ctx.fillStyle = color;\n\t      return that.ctx.fillRect(data.xPos, data.yPos, data.rectWidth, data.rectHeight);\n\t    }\n\t  },\n\t\n\t  // REALLY expensive call on FF\n\t  // Performance:\n\t  // chrome: 2000ms drawLetter - 1000ms drawRect\n\t  // FF: 1700ms drawLetter - 300ms drawRect\n\t  _drawLetter: function _drawLetter(that, data) {\n\t    return that.ctx.drawImage(that.cache.getFontTile(data.c, data.rectWidth, data.rectHeight), data.xPos, data.yPos, data.rectWidth, data.rectHeight);\n\t  }\n\t};\n\t\n\tmodule.exports = construc = function construc(g, ctx, model, opts) {\n\t  this.g = g;\n\t  this.ctx = ctx;\n\t  this.model = model;\n\t  this.width = opts.width;\n\t  this.height = opts.height;\n\t  this.color = opts.color;\n\t  this.cache = opts.cache;\n\t  this.rectHeight = this.g.zoomer.get(\"rowHeight\");\n\t  this.rectWidth = this.g.zoomer.get(\"columnWidth\");\n\t  return this;\n\t};\n\t\n\t_.extend(construc.prototype, drawer);\n\n/***/ },\n/* 76 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\t\n\tvar ConservationView = view.extend({\n\t\n\t  className: \"biojs_msa_conserv\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n\t    // we need to wait until stats gives us the ok\n\t    //@listenTo @model, \"reset\",@render\n\t    this.listenTo(this.g.stats, \"reset\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    var conserv = this.g.stats.scale(this.g.stats.conservation());\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var maxHeight = 20;\n\t    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\t\n\t    var s = svg.base({ height: maxHeight, width: width });\n\t    s.style.display = \"inline-block\";\n\t    s.style.cursor = \"pointer\";\n\t\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var x = 0;\n\t    var n = 0;\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      width = cellWidth * stepSize;\n\t      var avgHeight = 0;\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        avgHeight += conserv[n];\n\t      }\n\t      var height = maxHeight * (avgHeight / stepSize);\n\t\n\t      var rect = svg.rect({ x: x, y: maxHeight - height, width: width - cellWidth / 4, height: height, style: \"stroke:red;stroke-width:1;\"\n\t      });rect.rowPos = n;\n\t      s.appendChild(rect);\n\t      x += width;\n\t      n += stepSize;\n\t    }\n\t\n\t    this.el.appendChild(s);\n\t    return this;\n\t  },\n\t\n\t  //TODO: make more general with HeaderView\n\t  _onclick: function _onclick(evt) {\n\t    var _this = this;\n\t\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    // simulate hidden columns\n\t    return function () {\n\t      var result = [];\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        result.push(_this.g.trigger(\"bar:click\", { rowPos: rowPos + i, evt: evt }));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"bar:mousein\", { rowPos: rowPos, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"bar:mouseout\", { rowPos: rowPos, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = ConservationView;\n\n/***/ },\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\t\n\t// TODO: merge this with the conservation view\n\tvar ConservationView = view.extend({\n\t\n\t  className: \"biojs_msa_gapview\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n\t    // we need to wait until stats gives us the ok\n\t    this.listenTo(this.model, \"reset\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    var gaps = this.g.stats.gaps();\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t    var maxHeight = 20;\n\t    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\t\n\t    var s = svg.base({ height: maxHeight, width: width });\n\t    s.style.display = \"inline-block\";\n\t    s.style.cursor = \"pointer\";\n\t\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t    var x = 0;\n\t    var n = 0;\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      width = cellWidth * stepSize;\n\t      var avgHeight = 0;\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        avgHeight += gaps[n];\n\t      }\n\t      var height = maxHeight * (avgHeight / stepSize);\n\t\n\t      var rect = svg.rect({ x: x, y: maxHeight - height, width: width - cellWidth / 4, height: height, style: \"stroke:red;stroke-width:1;\"\n\t      });rect.rowPos = n;\n\t      s.appendChild(rect);\n\t      x += width;\n\t      n += stepSize;\n\t    }\n\t\n\t    this.el.appendChild(s);\n\t    return this;\n\t  },\n\t\n\t  //TODO: make more general with HeaderView\n\t  _onclick: function _onclick(evt) {\n\t    var _this = this;\n\t\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    // simulate hidden columns\n\t    return function () {\n\t      var result = [];\n\t      var end = stepSize - 1;\n\t      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n\t        result.push(_this.g.trigger(\"gap:click\", { rowPos: rowPos + i, evt: evt }));\n\t      }\n\t      return result;\n\t    }();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"gap:mousein\", { rowPos: rowPos, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    return this.g.trigger(\"gap:mouseout\", { rowPos: rowPos, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = ConservationView;\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar LabelHeader = __webpack_require__(79);\n\tvar RightLabelHeader = __webpack_require__(81);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    this.g = data.g;\n\t    this.draw();\n\t    return this.listenTo(this.g.vis, \"change:labels change:metacell change:leftHeader\", function () {\n\t      _this.draw();\n\t      return _this.render();\n\t    });\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"leftHeader\") && (this.g.vis.get(\"labels\") || this.g.vis.get(\"metacell\"))) {\n\t      var lHeader = new LabelHeader({ model: this.model, g: this.g });\n\t      lHeader.ordering = -50;\n\t      this.addView(\"lHeader\", lHeader);\n\t    }\n\t\n\t    var rHeader = new RightLabelHeader({ model: this.model, g: this.g });\n\t    rHeader.ordering = 0;\n\t    return this.addView(\"rHeader\", rHeader);\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    return this.el.className = \"biojs_msa_header\";\n\t  }\n\t});\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar LabelHeader;\n\tvar k = __webpack_require__(19);\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\tmodule.exports = LabelHeader = view.extend({\n\t\n\t  className: \"biojs_msa_headers\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t\n\t    this.listenTo(this.g.vis, \"change:metacell change:labels\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:labelWidth change:metaWidth\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t\n\t    dom.removeAllChilds(this.el);\n\t\n\t    var width = 0;\n\t    width += this.g.zoomer.getLeftBlockWidth();\n\t    this.el.style.width = width + \"px\";\n\t\n\t    if (this.g.vis.get(\"labels\")) {\n\t      this.el.appendChild(this.labelDOM());\n\t    }\n\t\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      this.el.appendChild(this.metaDOM());\n\t    }\n\t\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\t    return this;\n\t  },\n\t\n\t  labelDOM: function labelDOM() {\n\t    var labelHeader = k.mk(\"div\");\n\t    labelHeader.style.width = this.g.zoomer.getLabelWidth();\n\t    labelHeader.style.display = \"inline-block\";\n\t\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      labelHeader.appendChild(this.addEl(\".\", 10));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      labelHeader.appendChild(this.addEl(\"ID\", this.g.zoomer.get(\"labelIdLength\")));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      labelHeader.appendChild(this.addEl(\"part\", 15));\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      var name = this.addEl(\"Label\");\n\t      //name.style.marginLeft = \"50px\"\n\t      labelHeader.appendChild(name);\n\t    }\n\t\n\t    return labelHeader;\n\t  },\n\t\n\t  addEl: function addEl(content, width) {\n\t    var id = document.createElement(\"span\");\n\t    id.textContent = content;\n\t    if (typeof width !== \"undefined\" && width !== null) {\n\t      id.style.width = width + \"px\";\n\t    }\n\t    id.style.display = \"inline-block\";\n\t    return id;\n\t  },\n\t\n\t  metaDOM: function metaDOM() {\n\t    var metaHeader = k.mk(\"div\");\n\t    metaHeader.style.width = this.g.zoomer.getMetaWidth();\n\t    metaHeader.style.display = \"inline-block\";\n\t\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      metaHeader.appendChild(this.addEl(\"Gaps\", this.g.zoomer.get('metaGapWidth')));\n\t    }\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      metaHeader.appendChild(this.addEl(\"Ident\", this.g.zoomer.get('metaIdentWidth')));\n\t    }\n\t    // if @.g.vis.get \"metaLinks\"\n\t    //   metaHeader.appendChild @addEl(\"Links\")\n\t\n\t    return metaHeader;\n\t  }\n\t});\n\n/***/ },\n/* 80 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\tvar svg = __webpack_require__(10);\n\tvar jbone = __webpack_require__(7);\n\t\n\tvar HeaderView = view.extend({\n\t\n\t  className: \"biojs_msa_marker\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize\", this.render);\n\t    this.listenTo(this.g.vis, \"change:labels change:metacell\", this.render);\n\t    return this.manageEvents();\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\t\n\t    var container = document.createElement(\"span\");\n\t    var n = 0;\n\t    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\t\n\t    var nMax = this.model.getMaxLength();\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    var hidden = this.g.columns.get(\"hidden\");\n\t\n\t    while (n < nMax) {\n\t      if (hidden.indexOf(n) >= 0) {\n\t        this.markerHidden(span, n, stepSize);\n\t        n += stepSize;\n\t        continue;\n\t      }\n\t      var span = document.createElement(\"span\");\n\t      span.style.width = cellWidth * stepSize + \"px\";\n\t      span.style.display = \"inline-block\";\n\t      // TODO: this doesn't work for a larger stepSize\n\t      if ((n + 1) % this.g.zoomer.get('markerStepSize') === 0) {\n\t        span.textContent = n + 1;\n\t      } else {\n\t        span.textContent = \".\";\n\t      }\n\t      span.rowPos = n;\n\t\n\t      n += stepSize;\n\t      container.appendChild(span);\n\t    }\n\t\n\t    this.el.appendChild(container);\n\t    return this;\n\t  },\n\t\n\t  markerHidden: function markerHidden(span, n, stepSize) {\n\t    var _this = this;\n\t\n\t    var hidden = this.g.columns.get(\"hidden\").slice(0);\n\t\n\t    var min = Math.max(0, n - stepSize);\n\t    var prevHidden = true;\n\t    for (var j = min; min < n ? j <= n : j >= n; min < n ? j++ : j--) {\n\t      prevHidden &= hidden.indexOf(j) >= 0;\n\t    }\n\t\n\t    // filter duplicates\n\t    if (prevHidden) {\n\t      return;\n\t    }\n\t\n\t    var nMax = this.model.getMaxLength();\n\t\n\t    var length = 0;\n\t    var index = -1;\n\t    // accumlate multiple rows\n\t    for (var n = n; n < nMax ? n <= nMax : n >= nMax; n < nMax ? n++ : n--) {\n\t      if (!(index >= 0)) {\n\t        index = hidden.indexOf(n);\n\t      } // sets the first index\n\t      if (hidden.indexOf(n) >= 0) {\n\t        length++;\n\t      } else {\n\t        break;\n\t      }\n\t    }\n\t\n\t    var s = svg.base({ height: 10, width: 10 });\n\t    s.style.position = \"relative\";\n\t    var triangle = svg.polygon({ points: \"0,0 5,5 10,0\", style: \"fill:lime;stroke:purple;stroke-width:1\"\n\t    });jbone(triangle).on(\"click\", function (evt) {\n\t      hidden.splice(index, length);\n\t      return _this.g.columns.set(\"hidden\", hidden);\n\t    });\n\t\n\t    s.appendChild(triangle);\n\t    span.appendChild(s);\n\t    return s;\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    var rowPos = evt.target.rowPos;\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:click\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:mousein\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n\t    var stepSize = this.g.zoomer.get(\"stepSize\");\n\t    return this.g.trigger(\"column:mouseout\", { rowPos: rowPos, stepSize: stepSize, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = HeaderView;\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MarkerView = __webpack_require__(80);\n\tvar ConservationView = __webpack_require__(76);\n\tvar boneView = __webpack_require__(5);\n\tvar _ = __webpack_require__(1);\n\tvar SeqLogoWrapper = __webpack_require__(82);\n\tvar GapView = __webpack_require__(77);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.blockEvents = false;\n\t\n\t    this.listenTo(this.g.vis, \"change:header\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t    this.listenTo(this.g.vis, \"change\", this._setSpacer);\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this._setWidth);\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft\", this._adjustScrollingLeft);\n\t\n\t    // TODO: duplicate rendering\n\t    this.listenTo(this.g.columns, \"change:hidden\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t\n\t    this.draw();\n\t\n\t    return this.g.vis.once('change:loaded', this._adjustScrollingLeft, this);\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t\n\t    if (this.g.vis.get(\"conserv\")) {\n\t      var conserv = new ConservationView({ model: this.model, g: this.g });\n\t      conserv.ordering = -20;\n\t      this.addView(\"conserv\", conserv);\n\t    }\n\t\n\t    if (this.g.vis.get(\"markers\")) {\n\t      var marker = new MarkerView({ model: this.model, g: this.g });\n\t      marker.ordering = -10;\n\t      this.addView(\"marker\", marker);\n\t    }\n\t\n\t    if (this.g.vis.get(\"seqlogo\")) {\n\t      var seqlogo = new SeqLogoWrapper({ model: this.model, g: this.g });\n\t      seqlogo.ordering = -30;\n\t      this.addView(\"seqlogo\", seqlogo);\n\t    }\n\t\n\t    if (this.g.vis.get(\"gapHeader\")) {\n\t      var gapview = new GapView({ model: this.model, g: this.g });\n\t      gapview.ordering = -25;\n\t      return this.addView(\"gapview\", gapview);\n\t    }\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this._setSpacer();\n\t\n\t    this.el.className = \"biojs_msa_rheader\";\n\t    this.el.style.overflowX = \"auto\";\n\t    this.el.style.display = \"inline-block\";\n\t    //@el.style.height = @g.zoomer.get(\"markerHeight\") + \"px\"\n\t    this._setWidth();\n\t    this._adjustScrollingLeft();\n\t    return this;\n\t  },\n\t\n\t  // scrollLeft triggers a reflow of the whole area (even only get)\n\t  _sendScrollEvent: function _sendScrollEvent() {\n\t    if (!this.blockEvents) {\n\t      this.g.zoomer.set(\"_alignmentScrollLeft\", this.el.scrollLeft, { origin: \"header\" });\n\t    }\n\t    return this.blockEvents = false;\n\t  },\n\t\n\t  _adjustScrollingLeft: function _adjustScrollingLeft(model, value, options) {\n\t    if (!((typeof options !== \"undefined\" && options !== null ? options.origin : undefined) != null) || options.origin !== \"header\") {\n\t      var scrollLeft = this.g.zoomer.get(\"_alignmentScrollLeft\");\n\t      this.blockEvents = true;\n\t      return this.el.scrollLeft = scrollLeft;\n\t    }\n\t  },\n\t\n\t  _setSpacer: function _setSpacer() {\n\t    // spacer / padding element\n\t    return this.el.style.marginLeft = this._getLabelWidth() + \"px\";\n\t  },\n\t\n\t  _getLabelWidth: function _getLabelWidth() {\n\t    var paddingLeft = 0;\n\t    if (!this.g.vis.get(\"leftHeader\")) {\n\t      paddingLeft += this.g.zoomer.getLeftBlockWidth();\n\t    }\n\t    return paddingLeft;\n\t  },\n\t\n\t  _setWidth: function _setWidth() {\n\t    return this.el.style.width = this.g.zoomer.getAlignmentWidth() + \"px\";\n\t  }\n\t});\n\n/***/ },\n/* 82 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar SeqLogoView = __webpack_require__(124);\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\t// this is a bridge between the MSA and the seqlogo viewer\n\tmodule.exports = view.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.render);\n\t    this.listenTo(this.g.colorscheme, \"change\", function () {\n\t      var colors = this.g.colorscheme.getSelectedScheme();\n\t      this.seqlogo.changeColors(colors);\n\t      return this.render();\n\t    });\n\t\n\t    this.listenTo(this.g.zoomer, \"change:columnWidth\", function () {\n\t      this.seqlogo.column_width = this.g.zoomer.get('columnWidth');\n\t      return this.render();\n\t    });\n\t\n\t    //@listenTo @g.zoomer,\"change:columnWidth change:rowHeight\", ->\n\t\n\t    this.listenTo(this.g.stats, \"reset\", function () {\n\t      this.draw();\n\t      return this.render();\n\t    });\n\t\n\t    return this.draw();\n\t  },\n\t\n\t  draw: function draw() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    console.log(\"redraw seqlogo\");\n\t    var arr = this.g.stats.conservResidue({ scaled: true });\n\t    arr = _.map(arr, function (el) {\n\t      return _.pick(el, function (e, k) {\n\t        return k !== \"-\";\n\t      });\n\t    });\n\t    var data = { alphabet: \"aa\",\n\t      heightArr: arr\n\t    };\n\t\n\t    var colors = this.g.colorscheme.getSelectedScheme();\n\t    // TODO: seqlogo might have problems with true dynamic schemes\n\t    return this.seqlogo = new SeqLogoView({ model: this.model, g: this.g, data: data, yaxis: false, scroller: false, xaxis: false, height: 100, column_width: this.g.zoomer.get('columnWidth'), positionMarker: false, zoom: 1, el: this.el, colors: colors });\n\t  },\n\t\n\t  render: function render() {\n\t    return this.seqlogo.render();\n\t  }\n\t});\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar LabelRowView = __webpack_require__(84);\n\tvar boneView = __webpack_require__(5);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    var _this = this;\n\t\n\t    this.g = data.g;\n\t    this.draw();\n\t    this.listenTo(this.g.zoomer, \"change:_alignmentScrollTop\", this._adjustScrollingTop);\n\t    this.g.vis.once('change:loaded', this._adjustScrollingTop, this);\n\t\n\t    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this._setHeight);\n\t    this.listenTo(this.model, \"change:reference\", this.draw);\n\t\n\t    return this.listenTo(this.model, \"reset add remove\", function () {\n\t      _this.draw();\n\t      return _this.render();\n\t    });\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t    console.log(\"redraw columns\", this.model.length);\n\t    for (var i = 0; i < this.model.length; i++) {\n\t      if (this.model.at(i).get('hidden')) {\n\t        continue;\n\t      }\n\t      var view = new LabelRowView({ model: this.model.at(i), g: this.g });\n\t      view.ordering = i;\n\t      this.addView(\"row_\" + i, view);\n\t    }\n\t  },\n\t\n\t  events: { \"scroll\": \"_sendScrollEvent\" },\n\t\n\t  // broadcast the scrolling event (by the scrollbar)\n\t  _sendScrollEvent: function _sendScrollEvent() {\n\t    return this.g.zoomer.set(\"_alignmentScrollTop\", this.el.scrollTop, { origin: \"label\" });\n\t  },\n\t\n\t  // sets the scrolling property (from another event e.g. dragging)\n\t  _adjustScrollingTop: function _adjustScrollingTop() {\n\t    return this.el.scrollTop = this.g.zoomer.get(\"_alignmentScrollTop\");\n\t  },\n\t\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t    this.el.className = \"biojs_msa_labelblock\";\n\t    this.el.style.display = \"inline-block\";\n\t    this.el.style.verticalAlign = \"top\";\n\t    this.el.style.overflowY = \"auto\";\n\t    this.el.style.overflowX = \"hidden\";\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') + \"px\";\n\t    this.el.style.lineHeight = \"\" + this.g.zoomer.get(\"labelLineHeight\");\n\t    this._setHeight();\n\t    return this;\n\t  },\n\t\n\t  _setHeight: function _setHeight() {\n\t    return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\") + \"px\";\n\t  }\n\t});\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar boneView = __webpack_require__(5);\n\tvar LabelView = __webpack_require__(85);\n\tvar MetaView = __webpack_require__(86);\n\t\n\tmodule.exports = boneView.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.draw();\n\t\n\t    this.listenTo(this.g.vis, \"change:labels\", this.drawR);\n\t    this.listenTo(this.g.vis, \"change:metacell\", this.drawR);\n\t    this.listenTo(this.g.zoomer, \"change:rowHeight\", function () {\n\t      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") + \"px\";\n\t    });\n\t\n\t    return this.listenTo(this.g.selcol, \"change reset add\", this.setSelection);\n\t  },\n\t\n\t  draw: function draw() {\n\t    this.removeViews();\n\t    if (this.g.vis.get(\"labels\")) {\n\t      this.addView(\"labels\", new LabelView({ model: this.model, g: this.g }));\n\t    }\n\t    if (this.g.vis.get(\"metacell\")) {\n\t      var meta = new MetaView({ model: this.model, g: this.g });\n\t      return this.addView(\"metacell\", meta);\n\t    }\n\t  },\n\t\n\t  drawR: function drawR() {\n\t    this.draw();\n\t    return this.render();\n\t  },\n\t\n\t  render: function render() {\n\t    this.renderSubviews();\n\t\n\t    this.el.setAttribute(\"class\", \"biojs_msa_labelrow\");\n\t    this.el.style.height = this.g.zoomer.get(\"rowHeight\") * (this.model.attributes.height || 1) + \"px\";\n\t\n\t    this.setSelection();\n\t    return this;\n\t  },\n\t\n\t  setSelection: function setSelection() {\n\t    var sel = this.g.selcol.getSelForRow(this.model.id);\n\t    if (sel.length > 0) {\n\t      return this.el.style.fontWeight = \"bold\";\n\t    } else {\n\t      return this.el.style.fontWeight = \"normal\";\n\t    }\n\t  }\n\t});\n\n/***/ },\n/* 85 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar view = __webpack_require__(3);\n\tvar dom = __webpack_require__(6);\n\t\n\tvar LabelView = view.extend({\n\t\n\t  initialize: function initialize(data) {\n\t    this.seq = data.seq;\n\t    this.g = data.g;\n\t\n\t    return this.manageEvents();\n\t  },\n\t\n\t  manageEvents: function manageEvents() {\n\t    var events = {};\n\t    if (this.g.config.get(\"registerMouseClicks\")) {\n\t      events.click = \"_onclick\";\n\t    }\n\t    if (this.g.config.get(\"registerMouseHover\")) {\n\t      events.mousein = \"_onmousein\";\n\t      events.mouseout = \"_onmouseout\";\n\t    }\n\t    this.delegateEvents(events);\n\t    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n\t    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n\t    this.listenTo(this.g.vis, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", this.render);\n\t    this.listenTo(this.g.zoomer, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight\", this.render);\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.width = this.g.zoomer.getLabelWidth() + \"px\";\n\t    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\t    this.el.setAttribute(\"class\", \"biojs_msa_labels\");\n\t\n\t    if (this.g.vis.get(\"labelCheckbox\")) {\n\t      var checkBox = document.createElement(\"input\");\n\t      checkBox.setAttribute(\"type\", \"checkbox\");\n\t      checkBox.value = this.model.get('id');\n\t      checkBox.name = \"seq\";\n\t      checkBox.style.width = this.g.zoomer.get(\"labelCheckLength\") + \"px\";\n\t      this.el.appendChild(checkBox);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelId\")) {\n\t      var id = document.createElement(\"span\");\n\t      var val = this.model.get(\"id\");\n\t      if (!isNaN(val)) {\n\t        val++;\n\t      }\n\t      id.textContent = val;\n\t      id.style.width = this.g.zoomer.get(\"labelIdLength\") + \"px\";\n\t      id.style.display = \"inline-block\";\n\t      this.el.appendChild(id);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelPartition\")) {\n\t      var part = document.createElement(\"span\");\n\t      part.style.width = this.g.zoomer.get(\"labelPartLength\") + \"px\";\n\t      part.textContent = this.model.get(\"partition\");\n\t      part.style.display = \"inline-block\";\n\t      this.el.appendChild(id);\n\t      this.el.appendChild(part);\n\t    }\n\t\n\t    if (this.g.vis.get(\"labelName\")) {\n\t      var name = document.createElement(\"span\");\n\t      name.textContent = this.model.get(\"name\");\n\t      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n\t        name.style.fontWeight = \"bold\";\n\t      }\n\t      name.style.width = this.g.zoomer.get(\"labelNameLength\") + \"px\";\n\t      this.el.appendChild(name);\n\t    }\n\t\n\t    this.el.style.overflow = scroll;\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') + \"px\";\n\t    return this;\n\t  },\n\t\n\t  _onclick: function _onclick(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:click\", { seqId: seqId, evt: evt });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:mouseout\", { seqId: seqId, evt: evt });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    var seqId = this.model.get(\"id\");\n\t    return this.g.trigger(\"row:mouseout\", { seqId: seqId, evt: evt });\n\t  }\n\t});\n\t\n\tmodule.exports = LabelView;\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar MetaView;\n\tvar view = __webpack_require__(3);\n\tvar MenuBuilder = __webpack_require__(4);\n\tvar _ = __webpack_require__(1);\n\tvar dom = __webpack_require__(6);\n\tvar st = __webpack_require__(40);\n\t\n\tmodule.exports = MetaView = view.extend({\n\t\n\t  className: \"biojs_msa_metaview\",\n\t\n\t  initialize: function initialize(data) {\n\t    this.g = data.g;\n\t    this.listenTo(this.g.vis, \"change:metacell\", this.render);\n\t    return this.listenTo(this.g.zoomer, \"change:metaWidth\", this.render);\n\t  },\n\t\n\t  events: { click: \"_onclick\",\n\t    mousein: \"_onmousein\",\n\t    mouseout: \"_onmouseout\"\n\t  },\n\t\n\t  render: function render() {\n\t    dom.removeAllChilds(this.el);\n\t\n\t    this.el.style.display = \"inline-block\";\n\t\n\t    var width = this.g.zoomer.getMetaWidth();\n\t    this.el.style.width = width - 10;\n\t    this.el.style.paddingRight = 5;\n\t    this.el.style.paddingLeft = 5;\n\t    // TODO: why do we need to decrease the font size?\n\t    // otherwise we see a scrollbar\n\t    this.el.style.fontSize = this.g.zoomer.get('labelFontsize') - 2 + \"px\";\n\t\n\t    if (this.g.vis.get(\"metaGaps\")) {\n\t      // adds gaps\n\t      var seq = this.model.get('seq');\n\t      var gaps = _.reduce(seq, function (memo, c) {\n\t        return c === '-' ? ++memo : undefined;\n\t      }, 0);\n\t      // 2-place percentage , e.g. 42%\n\t      gaps = (gaps * 100 / seq.length).toFixed(0) + \"%\";\n\t\n\t      // append gap count\n\t      var gapSpan = document.createElement('span');\n\t      gapSpan.textContent = gaps;\n\t      gapSpan.style.display = \"inline-block\";\n\t      gapSpan.style.width = 35;\n\t      this.el.appendChild(gapSpan);\n\t    }\n\t\n\t    if (this.g.vis.get(\"metaIdentity\")) {\n\t      // identity\n\t      // TODO: there must be a better way to pass the id\n\t      var ident = this.g.stats.identity()[this.model.id];\n\t      var identSpan = document.createElement('span');\n\t\n\t      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n\t        identSpan.textContent = \"ref.\";\n\t      } else if (typeof ident !== \"undefined\" && ident !== null) {\n\t        identSpan.textContent = ident.toFixed(2);\n\t      }\n\t\n\t      identSpan.style.display = \"inline-block\";\n\t      identSpan.style.width = 40;\n\t      this.el.appendChild(identSpan);\n\t    }\n\t\n\t    if (this.g.vis.get(\"metaLinks\")) {\n\t      // TODO: this menu builder is just an example how one could customize this\n\t      // view\n\t      if (this.model.attributes.ids) {\n\t        var links = st.buildLinks(this.model.attributes.ids);\n\t        if (_.keys(links).length > 0) {\n\t          var menu = new MenuBuilder({ name: \"↗\" });\n\t          console.log(_.keys(links));\n\t          _.each(links, function (val, key) {\n\t            return menu.addNode(key, function (e) {\n\t              return window.open(val);\n\t            });\n\t          });\n\t\n\t          var linkEl = menu.buildDOM();\n\t          linkEl.style.cursor = \"pointer\";\n\t          return this.el.appendChild(linkEl);\n\t        }\n\t      }\n\t    }\n\t  },\n\t\n\t  //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\t\n\t  _onclick: function _onclick(evt) {\n\t    return this.g.trigger(\"meta:click\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmousein: function _onmousein(evt) {\n\t    return this.g.trigger(\"meta:mousein\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  },\n\t\n\t  _onmouseout: function _onmouseout(evt) {\n\t    return this.g.trigger(\"meta:mouseout\", { seqId: this.model.get(\"id\", { evt: evt }) });\n\t  }\n\t});\n\n/***/ },\n/* 87 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t//     Backbone.js 1.1.2\n\t\n\t//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n\t//     Backbone may be freely distributed under the MIT license.\n\t//     For all details and documentation:\n\t//     http://backbonejs.org\n\t\n\tvar Events = __webpack_require__(37);\n\tvar extend = __webpack_require__(38);\n\tvar _ = __webpack_require__(1);\n\tvar Model = __webpack_require__(44);\n\t\n\t// Create local references to array methods we'll want to use later.\n\tvar array = [];\n\tvar slice = array.slice;\n\t\n\t// Backbone.Collection\n\t// -------------------\n\t\n\t// If models tend to represent a single row of data, a Backbone Collection is\n\t// more analogous to a table full of data ... or a small slice or page of that\n\t// table, or a collection of rows that belong together for a particular reason\n\t// -- all of the messages in this particular folder, all of the documents\n\t// belonging to this particular author, and so on. Collections maintain\n\t// indexes of their models, both in order, and for lookup by `id`.\n\t\n\t// Create a new **Collection**, perhaps to contain a specific type of `model`.\n\t// If a `comparator` is specified, the Collection will maintain\n\t// its models in sort order, as they're added and removed.\n\tvar Collection = function(models, options) {\n\t  options || (options = {});\n\t  if (options.model) this.model = options.model;\n\t  if (options.comparator !== void 0) this.comparator = options.comparator;\n\t  this._reset();\n\t  this.initialize.apply(this, arguments);\n\t  if (models) this.reset(models, _.extend({silent: true}, options));\n\t};\n\t\n\t// Default options for `Collection#set`.\n\tvar setOptions = {add: true, remove: true, merge: true};\n\tvar addOptions = {add: true, remove: false};\n\t\n\t// Define the Collection's inheritable methods.\n\t_.extend(Collection.prototype, Events, {\n\t\n\t  // The default model for a collection is just a **Backbone.Model**.\n\t  // This should be overridden in most cases.\n\t  model: Model,\n\t\n\t  // Initialize is an empty function by default. Override it with your own\n\t  // initialization logic.\n\t  initialize: function(){},\n\t\n\t    // The JSON representation of a Collection is an array of the\n\t    // models' attributes.\n\t  toJSON: function(options) {\n\t    return this.map(function(model){ return model.toJSON(options); });\n\t  },\n\t\n\t    // Proxy `Backbone.sync` by default.\n\t  sync: function() {\n\t    return Backbone.sync.apply(this, arguments);\n\t  },\n\t\n\t    // Add a model, or list of models to the set.\n\t  add: function(models, options) {\n\t    return this.set(models, _.extend({merge: false}, options, addOptions));\n\t  },\n\t\n\t    // Remove a model, or a list of models from the set.\n\t  remove: function(models, options) {\n\t    var singular = !_.isArray(models);\n\t    models = singular ? [models] : _.clone(models);\n\t    options || (options = {});\n\t    for (var i = 0, length = models.length; i < length; i++) {\n\t      var model = models[i] = this.get(models[i]);\n\t      if (!model) continue;\n\t      var id = this.modelId(model.attributes);\n\t      if (id != null) delete this._byId[id];\n\t      delete this._byId[model.cid];\n\t      var index = this.indexOf(model);\n\t      this.models.splice(index, 1);\n\t      this.length--;\n\t      if (!options.silent) {\n\t        options.index = index;\n\t        model.trigger('remove', model, this, options);\n\t      }\n\t      this._removeReference(model, options);\n\t    }\n\t    return singular ? models[0] : models;\n\t  },\n\t\n\t    // Update a collection by `set`-ing a new list of models, adding new ones,\n\t    // removing models that are no longer present, and merging models that\n\t    // already exist in the collection, as necessary. Similar to **Model#set**,\n\t    // the core operation for updating the data contained by the collection.\n\t  set: function(models, options) {\n\t    options = _.defaults({}, options, setOptions);\n\t    if (options.parse) models = this.parse(models, options);\n\t    var singular = !_.isArray(models);\n\t    models = singular ? (models ? [models] : []) : models.slice();\n\t    var id, model, attrs, existing, sort;\n\t    var at = options.at;\n\t    var sortable = this.comparator && (at == null) && options.sort !== false;\n\t    var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\t    var toAdd = [], toRemove = [], modelMap = {};\n\t    var add = options.add, merge = options.merge, remove = options.remove;\n\t    var order = !sortable && add && remove ? [] : false;\n\t\n\t    // Turn bare objects into model references, and prevent invalid models\n\t    // from being added.\n\t    for (var i = 0, length = models.length; i < length; i++) {\n\t      attrs = models[i];\n\t\n\t      // If a duplicate is found, prevent it from being added and\n\t      // optionally merge it into the existing model.\n\t      if (existing = this.get(attrs)) {\n\t        if (remove) modelMap[existing.cid] = true;\n\t        if (merge && attrs !== existing) {\n\t          attrs = this._isModel(attrs) ? attrs.attributes : attrs;\n\t          if (options.parse) attrs = existing.parse(attrs, options);\n\t          existing.set(attrs, options);\n\t          if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n\t        }\n\t        models[i] = existing;\n\t\n\t        // If this is a new, valid model, push it to the `toAdd` list.\n\t      } else if (add) {\n\t        model = models[i] = this._prepareModel(attrs, options);\n\t        if (!model) continue;\n\t        toAdd.push(model);\n\t        this._addReference(model, options);\n\t      }\n\t\n\t      // Do not add multiple models with the same `id`.\n\t      model = existing || model;\n\t      if (!model) continue;\n\t      id = this.modelId(model.attributes);\n\t      if (order && (model.isNew() || !modelMap[id])) order.push(model);\n\t      modelMap[id] = true;\n\t    }\n\t\n\t    // Remove nonexistent models if appropriate.\n\t    if (remove) {\n\t      for (var i = 0, length = this.length; i < length; i++) {\n\t        if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n\t      }\n\t      if (toRemove.length) this.remove(toRemove, options);\n\t    }\n\t\n\t    // See if sorting is needed, update `length` and splice in new models.\n\t    if (toAdd.length || (order && order.length)) {\n\t      if (sortable) sort = true;\n\t      this.length += toAdd.length;\n\t      if (at != null) {\n\t        for (var i = 0, length = toAdd.length; i < length; i++) {\n\t          this.models.splice(at + i, 0, toAdd[i]);\n\t        }\n\t      } else {\n\t        if (order) this.models.length = 0;\n\t        var orderedModels = order || toAdd;\n\t        for (var i = 0, length = orderedModels.length; i < length; i++) {\n\t          this.models.push(orderedModels[i]);\n\t        }\n\t      }\n\t    }\n\t\n\t    // Silently sort the collection if appropriate.\n\t    if (sort) this.sort({silent: true});\n\t\n\t    // Unless silenced, it's time to fire all appropriate add/sort events.\n\t    if (!options.silent) {\n\t      var addOpts = at != null ? _.clone(options) : options;\n\t      for (var i = 0, length = toAdd.length; i < length; i++) {\n\t        if (at != null) addOpts.index = at + i;\n\t        (model = toAdd[i]).trigger('add', model, this, addOpts);\n\t      }\n\t      if (sort || (order && order.length)) this.trigger('sort', this, options);\n\t    }\n\t\n\t    // Return the added (or merged) model (or models).\n\t    return singular ? models[0] : models;\n\t  },\n\t\n\t    // When you have more items than you want to add or remove individually,\n\t    // you can reset the entire set with a new list of models, without firing\n\t    // any granular `add` or `remove` events. Fires `reset` when finished.\n\t    // Useful for bulk operations and optimizations.\n\t  reset: function(models, options) {\n\t    options || (options = {});\n\t    for (var i = 0, length = this.models.length; i < length; i++) {\n\t      this._removeReference(this.models[i], options);\n\t    }\n\t    options.previousModels = this.models;\n\t    this._reset();\n\t    models = this.add(models, _.extend({silent: true}, options));\n\t    if (!options.silent) this.trigger('reset', this, options);\n\t    return models;\n\t  },\n\t\n\t    // Add a model to the end of the collection.\n\t  push: function(model, options) {\n\t    return this.add(model, _.extend({at: this.length}, options));\n\t  },\n\t\n\t    // Remove a model from the end of the collection.\n\t  pop: function(options) {\n\t    var model = this.at(this.length - 1);\n\t    this.remove(model, options);\n\t    return model;\n\t  },\n\t\n\t    // Add a model to the beginning of the collection.\n\t  unshift: function(model, options) {\n\t    return this.add(model, _.extend({at: 0}, options));\n\t  },\n\t\n\t    // Remove a model from the beginning of the collection.\n\t  shift: function(options) {\n\t    var model = this.at(0);\n\t    this.remove(model, options);\n\t    return model;\n\t  },\n\t\n\t    // Slice out a sub-array of models from the collection.\n\t  slice: function() {\n\t    return slice.apply(this.models, arguments);\n\t  },\n\t\n\t    // Get a model from the set by id.\n\t  get: function(obj) {\n\t    if (obj == null) return void 0;\n\t    var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);\n\t    return this._byId[obj] || this._byId[id] || this._byId[obj.cid];\n\t  },\n\t\n\t    // Get the model at the given index.\n\t  at: function(index) {\n\t    if (index < 0) index += this.length;\n\t    return this.models[index];\n\t  },\n\t\n\t    // Return models with matching attributes. Useful for simple cases of\n\t    // `filter`.\n\t  where: function(attrs, first) {\n\t    if (_.isEmpty(attrs)) return first ? void 0 : [];\n\t    return this[first ? 'find' : 'filter'](function(model) {\n\t      for (var key in attrs) {\n\t        if (attrs[key] !== model.get(key)) return false;\n\t      }\n\t      return true;\n\t    });\n\t  },\n\t\n\t    // Return the first model with matching attributes. Useful for simple cases\n\t    // of `find`.\n\t  findWhere: function(attrs) {\n\t    return this.where(attrs, true);\n\t  },\n\t\n\t    // Force the collection to re-sort itself. You don't need to call this under\n\t    // normal circumstances, as the set will maintain sort order as each item\n\t    // is added.\n\t  sort: function(options) {\n\t    if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n\t    options || (options = {});\n\t\n\t    // Run sort based on type of `comparator`.\n\t    if (_.isString(this.comparator) || this.comparator.length === 1) {\n\t      this.models = this.sortBy(this.comparator, this);\n\t    } else {\n\t      this.models.sort(_.bind(this.comparator, this));\n\t    }\n\t\n\t    if (!options.silent) this.trigger('sort', this, options);\n\t    return this;\n\t  },\n\t\n\t    // Pluck an attribute from each model in the collection.\n\t  pluck: function(attr) {\n\t    return _.invoke(this.models, 'get', attr);\n\t  },\n\t\n\t    // Fetch the default set of models for this collection, resetting the\n\t    // collection when they arrive. If `reset: true` is passed, the response\n\t    // data will be passed through the `reset` method instead of `set`.\n\t  fetch: function(options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (options.parse === void 0) options.parse = true;\n\t    var success = options.success;\n\t    var collection = this;\n\t    options.success = function(resp) {\n\t      var method = options.reset ? 'reset' : 'set';\n\t      collection[method](resp, options);\n\t      if (success) success(collection, resp, options);\n\t      collection.trigger('sync', collection, resp, options);\n\t    };\n\t    wrapError(this, options);\n\t    return this.sync('read', this, options);\n\t  },\n\t\n\t    // Create a new instance of a model in this collection. Add the model to the\n\t    // collection immediately, unless `wait: true` is passed, in which case we\n\t    // wait for the server to agree.\n\t  create: function(model, options) {\n\t    options = options ? _.clone(options) : {};\n\t    if (!(model = this._prepareModel(model, options))) return false;\n\t    if (!options.wait) this.add(model, options);\n\t    var collection = this;\n\t    var success = options.success;\n\t    options.success = function(model, resp) {\n\t      if (options.wait) collection.add(model, options);\n\t      if (success) success(model, resp, options);\n\t    };\n\t    model.save(null, options);\n\t    return model;\n\t  },\n\t\n\t    // **parse** converts a response into a list of models to be added to the\n\t    // collection. The default implementation is just to pass it through.\n\t  parse: function(resp, options) {\n\t    return resp;\n\t  },\n\t\n\t    // Create a new collection with an identical list of models as this one.\n\t  clone: function() {\n\t    return new this.constructor(this.models, {\n\t      model: this.model,\n\t      comparator: this.comparator\n\t    });\n\t  },\n\t\n\t    // Define how to uniquely identify models in the collection.\n\t  modelId: function (attrs) {\n\t    return attrs[this.model.prototype.idAttribute || 'id'];\n\t  },\n\t\n\t    // Private method to reset all internal state. Called when the collection\n\t    // is first initialized or reset.\n\t  _reset: function() {\n\t    this.length = 0;\n\t    this.models = [];\n\t    this._byId  = {};\n\t  },\n\t\n\t    // Prepare a hash of attributes (or other model) to be added to this\n\t    // collection.\n\t  _prepareModel: function(attrs, options) {\n\t    if (this._isModel(attrs)) {\n\t      if (!attrs.collection) attrs.collection = this;\n\t      return attrs;\n\t    }\n\t    options = options ? _.clone(options) : {};\n\t    options.collection = this;\n\t    var model = new this.model(attrs, options);\n\t    if (!model.validationError) return model;\n\t    this.trigger('invalid', this, model.validationError, options);\n\t    return false;\n\t  },\n\t\n\t    // Method for checking whether an object should be considered a model for\n\t    // the purposes of adding to the collection.\n\t  _isModel: function (model) {\n\t    return model instanceof Model;\n\t  },\n\t\n\t    // Internal method to create a model's ties to a collection.\n\t  _addReference: function(model, options) {\n\t    this._byId[model.cid] = model;\n\t    var id = this.modelId(model.attributes);\n\t    if (id != null) this._byId[id] = model;\n\t    model.on('all', this._onModelEvent, this);\n\t  },\n\t\n\t    // Internal method to sever a model's ties to a collection.\n\t  _removeReference: function(model, options) {\n\t    if (this === model.collection) delete model.collection;\n\t    model.off('all', this._onModelEvent, this);\n\t  },\n\t\n\t    // Internal method called every time a model in the set fires an event.\n\t    // Sets need to update their indexes when models change ids. All other\n\t    // events simply proxy through. \"add\" and \"remove\" events that originate\n\t    // in other collections are ignored.\n\t  _onModelEvent: function(event, model, collection, options) {\n\t    if ((event === 'add' || event === 'remove') && collection !== this) return;\n\t    if (event === 'destroy') this.remove(model, options);\n\t    if (event === 'change') {\n\t      var prevId = this.modelId(model.previousAttributes());\n\t      var id = this.modelId(model.attributes);\n\t      if (prevId !== id) {\n\t        if (prevId != null) delete this._byId[prevId];\n\t        if (id != null) this._byId[id] = model;\n\t      }\n\t    }\n\t    this.trigger.apply(this, arguments);\n\t  }\n\t\n\t});\n\t\n\t// Underscore methods that we want to implement on the Collection.\n\t// 90% of the core usefulness of Backbone Collections is actually implemented\n\t// right here:\n\tvar methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n\t    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n\t    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n\t    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n\t    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',\n\t    'lastIndexOf', 'isEmpty', 'chain', 'sample', 'partition'];\n\t\n\t// Mix in each Underscore method as a proxy to `Collection#models`.\n\t_.each(methods, function(method) {\n\t  if (!_[method]) return;\n\t  Collection.prototype[method] = function() {\n\t    var args = slice.call(arguments);\n\t    args.unshift(this.models);\n\t    return _[method].apply(_, args);\n\t  };\n\t});\n\t\n\t// Underscore methods that take a property name as an argument.\n\tvar attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];\n\t\n\t// Use attributes instead of properties.\n\t_.each(attributeMethods, function(method) {\n\t  if (!_[method]) return;\n\t  Collection.prototype[method] = function(value, context) {\n\t    var iterator = _.isFunction(value) ? value : function(model) {\n\t      return model.get(value);\n\t    };\n\t    return _[method](this.models, iterator, context);\n\t  };\n\t});\n\t\n\t// setup inheritance\n\tCollection.extend = extend;\n\tmodule.exports = Collection;\n\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Standalone extraction of Backbone.Events, no external dependency required.\n\t * Degrades nicely when Backone/underscore are already available in the current\n\t * global context.\n\t *\n\t * Note that docs suggest to use underscore's `_.extend()` method to add Events\n\t * support to some given object. A `mixin()` method has been added to the Events\n\t * prototype to avoid using underscore for that sole purpose:\n\t *\n\t *     var myEventEmitter = BackboneEvents.mixin({});\n\t *\n\t * Or for a function constructor:\n\t *\n\t *     function MyConstructor(){}\n\t *     MyConstructor.prototype.foo = function(){}\n\t *     BackboneEvents.mixin(MyConstructor.prototype);\n\t *\n\t * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n\t * (c) 2013 Nicolas Perriault\n\t */\n\t/* global exports:true, define, module */\n\t(function() {\n\t  var root = this,\n\t      nativeForEach = Array.prototype.forEach,\n\t      hasOwnProperty = Object.prototype.hasOwnProperty,\n\t      slice = Array.prototype.slice,\n\t      idCounter = 0;\n\t\n\t  // Returns a partial implementation matching the minimal API subset required\n\t  // by Backbone.Events\n\t  function miniscore() {\n\t    return {\n\t      keys: Object.keys || function (obj) {\n\t        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n\t          throw new TypeError(\"keys() called on a non-object\");\n\t        }\n\t        var key, keys = [];\n\t        for (key in obj) {\n\t          if (obj.hasOwnProperty(key)) {\n\t            keys[keys.length] = key;\n\t          }\n\t        }\n\t        return keys;\n\t      },\n\t\n\t      uniqueId: function(prefix) {\n\t        var id = ++idCounter + '';\n\t        return prefix ? prefix + id : id;\n\t      },\n\t\n\t      has: function(obj, key) {\n\t        return hasOwnProperty.call(obj, key);\n\t      },\n\t\n\t      each: function(obj, iterator, context) {\n\t        if (obj == null) return;\n\t        if (nativeForEach && obj.forEach === nativeForEach) {\n\t          obj.forEach(iterator, context);\n\t        } else if (obj.length === +obj.length) {\n\t          for (var i = 0, l = obj.length; i < l; i++) {\n\t            iterator.call(context, obj[i], i, obj);\n\t          }\n\t        } else {\n\t          for (var key in obj) {\n\t            if (this.has(obj, key)) {\n\t              iterator.call(context, obj[key], key, obj);\n\t            }\n\t          }\n\t        }\n\t      },\n\t\n\t      once: function(func) {\n\t        var ran = false, memo;\n\t        return function() {\n\t          if (ran) return memo;\n\t          ran = true;\n\t          memo = func.apply(this, arguments);\n\t          func = null;\n\t          return memo;\n\t        };\n\t      }\n\t    };\n\t  }\n\t\n\t  var _ = miniscore(), Events;\n\t\n\t  // Backbone.Events\n\t  // ---------------\n\t\n\t  // A module that can be mixed in to *any object* in order to provide it with\n\t  // custom events. You may bind with `on` or remove with `off` callback\n\t  // functions to an event; `trigger`-ing an event fires all callbacks in\n\t  // succession.\n\t  //\n\t  //     var object = {};\n\t  //     _.extend(object, Backbone.Events);\n\t  //     object.on('expand', function(){ alert('expanded'); });\n\t  //     object.trigger('expand');\n\t  //\n\t  Events = {\n\t\n\t    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n\t    // the callback to all events fired.\n\t    on: function(name, callback, context) {\n\t      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n\t      this._events || (this._events = {});\n\t      var events = this._events[name] || (this._events[name] = []);\n\t      events.push({callback: callback, context: context, ctx: context || this});\n\t      return this;\n\t    },\n\t\n\t    // Bind an event to only be triggered a single time. After the first time\n\t    // the callback is invoked, it will be removed.\n\t    once: function(name, callback, context) {\n\t      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\t      var self = this;\n\t      var once = _.once(function() {\n\t        self.off(name, once);\n\t        callback.apply(this, arguments);\n\t      });\n\t      once._callback = callback;\n\t      return this.on(name, once, context);\n\t    },\n\t\n\t    // Remove one or many callbacks. If `context` is null, removes all\n\t    // callbacks with that function. If `callback` is null, removes all\n\t    // callbacks for the event. If `name` is null, removes all bound\n\t    // callbacks for all events.\n\t    off: function(name, callback, context) {\n\t      var retain, ev, events, names, i, l, j, k;\n\t      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\t      if (!name && !callback && !context) {\n\t        this._events = {};\n\t        return this;\n\t      }\n\t\n\t      names = name ? [name] : _.keys(this._events);\n\t      for (i = 0, l = names.length; i < l; i++) {\n\t        name = names[i];\n\t        if (events = this._events[name]) {\n\t          this._events[name] = retain = [];\n\t          if (callback || context) {\n\t            for (j = 0, k = events.length; j < k; j++) {\n\t              ev = events[j];\n\t              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n\t                  (context && context !== ev.context)) {\n\t                retain.push(ev);\n\t              }\n\t            }\n\t          }\n\t          if (!retain.length) delete this._events[name];\n\t        }\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    // Trigger one or many events, firing all bound callbacks. Callbacks are\n\t    // passed the same arguments as `trigger` is, apart from the event name\n\t    // (unless you're listening on `\"all\"`, which will cause your callback to\n\t    // receive the true name of the event as the first argument).\n\t    trigger: function(name) {\n\t      if (!this._events) return this;\n\t      var args = slice.call(arguments, 1);\n\t      if (!eventsApi(this, 'trigger', name, args)) return this;\n\t      var events = this._events[name];\n\t      var allEvents = this._events.all;\n\t      if (events) triggerEvents(events, args);\n\t      if (allEvents) triggerEvents(allEvents, arguments);\n\t      return this;\n\t    },\n\t\n\t    // Tell this object to stop listening to either specific events ... or\n\t    // to every object it's currently listening to.\n\t    stopListening: function(obj, name, callback) {\n\t      var listeners = this._listeners;\n\t      if (!listeners) return this;\n\t      var deleteListener = !name && !callback;\n\t      if (typeof name === 'object') callback = this;\n\t      if (obj) (listeners = {})[obj._listenerId] = obj;\n\t      for (var id in listeners) {\n\t        listeners[id].off(name, callback, this);\n\t        if (deleteListener) delete this._listeners[id];\n\t      }\n\t      return this;\n\t    }\n\t\n\t  };\n\t\n\t  // Regular expression used to split event strings.\n\t  var eventSplitter = /\\s+/;\n\t\n\t  // Implement fancy features of the Events API such as multiple event\n\t  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n\t  // in terms of the existing API.\n\t  var eventsApi = function(obj, action, name, rest) {\n\t    if (!name) return true;\n\t\n\t    // Handle event maps.\n\t    if (typeof name === 'object') {\n\t      for (var key in name) {\n\t        obj[action].apply(obj, [key, name[key]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    // Handle space separated event names.\n\t    if (eventSplitter.test(name)) {\n\t      var names = name.split(eventSplitter);\n\t      for (var i = 0, l = names.length; i < l; i++) {\n\t        obj[action].apply(obj, [names[i]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  };\n\t\n\t  // A difficult-to-believe, but optimized internal dispatch function for\n\t  // triggering events. Tries to keep the usual cases speedy (most internal\n\t  // Backbone events have 3 arguments).\n\t  var triggerEvents = function(events, args) {\n\t    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n\t    switch (args.length) {\n\t      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n\t      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n\t      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n\t      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n\t      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\t    }\n\t  };\n\t\n\t  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\t\n\t  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n\t  // listen to an event in another object ... keeping track of what it's\n\t  // listening to.\n\t  _.each(listenMethods, function(implementation, method) {\n\t    Events[method] = function(obj, name, callback) {\n\t      var listeners = this._listeners || (this._listeners = {});\n\t      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n\t      listeners[id] = obj;\n\t      if (typeof name === 'object') callback = this;\n\t      obj[implementation](name, callback, this);\n\t      return this;\n\t    };\n\t  });\n\t\n\t  // Aliases for backwards compatibility.\n\t  Events.bind   = Events.on;\n\t  Events.unbind = Events.off;\n\t\n\t  // Mixin utility\n\t  Events.mixin = function(proto) {\n\t    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n\t                   'listenToOnce', 'bind', 'unbind'];\n\t    _.each(exports, function(name) {\n\t      proto[name] = this[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  // Export Events as BackboneEvents depending on current context\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = Events;\n\t    }\n\t    exports.BackboneEvents = Events;\n\t  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n\t    define(function() {\n\t      return Events;\n\t    });\n\t  } else {\n\t    root.BackboneEvents = Events;\n\t  }\n\t})(this);\n\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Standalone extraction of Backbone.Events, no external dependency required.\n\t * Degrades nicely when Backone/underscore are already available in the current\n\t * global context.\n\t *\n\t * Note that docs suggest to use underscore's `_.extend()` method to add Events\n\t * support to some given object. A `mixin()` method has been added to the Events\n\t * prototype to avoid using underscore for that sole purpose:\n\t *\n\t *     var myEventEmitter = BackboneEvents.mixin({});\n\t *\n\t * Or for a function constructor:\n\t *\n\t *     function MyConstructor(){}\n\t *     MyConstructor.prototype.foo = function(){}\n\t *     BackboneEvents.mixin(MyConstructor.prototype);\n\t *\n\t * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n\t * (c) 2013 Nicolas Perriault\n\t */\n\t/* global exports:true, define, module */\n\t(function() {\n\t  var root = this,\n\t      nativeForEach = Array.prototype.forEach,\n\t      hasOwnProperty = Object.prototype.hasOwnProperty,\n\t      slice = Array.prototype.slice,\n\t      idCounter = 0;\n\t\n\t  // Returns a partial implementation matching the minimal API subset required\n\t  // by Backbone.Events\n\t  function miniscore() {\n\t    return {\n\t      keys: Object.keys || function (obj) {\n\t        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n\t          throw new TypeError(\"keys() called on a non-object\");\n\t        }\n\t        var key, keys = [];\n\t        for (key in obj) {\n\t          if (obj.hasOwnProperty(key)) {\n\t            keys[keys.length] = key;\n\t          }\n\t        }\n\t        return keys;\n\t      },\n\t\n\t      uniqueId: function(prefix) {\n\t        var id = ++idCounter + '';\n\t        return prefix ? prefix + id : id;\n\t      },\n\t\n\t      has: function(obj, key) {\n\t        return hasOwnProperty.call(obj, key);\n\t      },\n\t\n\t      each: function(obj, iterator, context) {\n\t        if (obj == null) return;\n\t        if (nativeForEach && obj.forEach === nativeForEach) {\n\t          obj.forEach(iterator, context);\n\t        } else if (obj.length === +obj.length) {\n\t          for (var i = 0, l = obj.length; i < l; i++) {\n\t            iterator.call(context, obj[i], i, obj);\n\t          }\n\t        } else {\n\t          for (var key in obj) {\n\t            if (this.has(obj, key)) {\n\t              iterator.call(context, obj[key], key, obj);\n\t            }\n\t          }\n\t        }\n\t      },\n\t\n\t      once: function(func) {\n\t        var ran = false, memo;\n\t        return function() {\n\t          if (ran) return memo;\n\t          ran = true;\n\t          memo = func.apply(this, arguments);\n\t          func = null;\n\t          return memo;\n\t        };\n\t      }\n\t    };\n\t  }\n\t\n\t  var _ = miniscore(), Events;\n\t\n\t  // Backbone.Events\n\t  // ---------------\n\t\n\t  // A module that can be mixed in to *any object* in order to provide it with\n\t  // custom events. You may bind with `on` or remove with `off` callback\n\t  // functions to an event; `trigger`-ing an event fires all callbacks in\n\t  // succession.\n\t  //\n\t  //     var object = {};\n\t  //     _.extend(object, Backbone.Events);\n\t  //     object.on('expand', function(){ alert('expanded'); });\n\t  //     object.trigger('expand');\n\t  //\n\t  Events = {\n\t\n\t    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n\t    // the callback to all events fired.\n\t    on: function(name, callback, context) {\n\t      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n\t      this._events || (this._events = {});\n\t      var events = this._events[name] || (this._events[name] = []);\n\t      events.push({callback: callback, context: context, ctx: context || this});\n\t      return this;\n\t    },\n\t\n\t    // Bind an event to only be triggered a single time. After the first time\n\t    // the callback is invoked, it will be removed.\n\t    once: function(name, callback, context) {\n\t      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\t      var self = this;\n\t      var once = _.once(function() {\n\t        self.off(name, once);\n\t        callback.apply(this, arguments);\n\t      });\n\t      once._callback = callback;\n\t      return this.on(name, once, context);\n\t    },\n\t\n\t    // Remove one or many callbacks. If `context` is null, removes all\n\t    // callbacks with that function. If `callback` is null, removes all\n\t    // callbacks for the event. If `name` is null, removes all bound\n\t    // callbacks for all events.\n\t    off: function(name, callback, context) {\n\t      var retain, ev, events, names, i, l, j, k;\n\t      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\t      if (!name && !callback && !context) {\n\t        this._events = {};\n\t        return this;\n\t      }\n\t\n\t      names = name ? [name] : _.keys(this._events);\n\t      for (i = 0, l = names.length; i < l; i++) {\n\t        name = names[i];\n\t        if (events = this._events[name]) {\n\t          this._events[name] = retain = [];\n\t          if (callback || context) {\n\t            for (j = 0, k = events.length; j < k; j++) {\n\t              ev = events[j];\n\t              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n\t                  (context && context !== ev.context)) {\n\t                retain.push(ev);\n\t              }\n\t            }\n\t          }\n\t          if (!retain.length) delete this._events[name];\n\t        }\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    // Trigger one or many events, firing all bound callbacks. Callbacks are\n\t    // passed the same arguments as `trigger` is, apart from the event name\n\t    // (unless you're listening on `\"all\"`, which will cause your callback to\n\t    // receive the true name of the event as the first argument).\n\t    trigger: function(name) {\n\t      if (!this._events) return this;\n\t      var args = slice.call(arguments, 1);\n\t      if (!eventsApi(this, 'trigger', name, args)) return this;\n\t      var events = this._events[name];\n\t      var allEvents = this._events.all;\n\t      if (events) triggerEvents(events, args);\n\t      if (allEvents) triggerEvents(allEvents, arguments);\n\t      return this;\n\t    },\n\t\n\t    // Tell this object to stop listening to either specific events ... or\n\t    // to every object it's currently listening to.\n\t    stopListening: function(obj, name, callback) {\n\t      var listeners = this._listeners;\n\t      if (!listeners) return this;\n\t      var deleteListener = !name && !callback;\n\t      if (typeof name === 'object') callback = this;\n\t      if (obj) (listeners = {})[obj._listenerId] = obj;\n\t      for (var id in listeners) {\n\t        listeners[id].off(name, callback, this);\n\t        if (deleteListener) delete this._listeners[id];\n\t      }\n\t      return this;\n\t    }\n\t\n\t  };\n\t\n\t  // Regular expression used to split event strings.\n\t  var eventSplitter = /\\s+/;\n\t\n\t  // Implement fancy features of the Events API such as multiple event\n\t  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n\t  // in terms of the existing API.\n\t  var eventsApi = function(obj, action, name, rest) {\n\t    if (!name) return true;\n\t\n\t    // Handle event maps.\n\t    if (typeof name === 'object') {\n\t      for (var key in name) {\n\t        obj[action].apply(obj, [key, name[key]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    // Handle space separated event names.\n\t    if (eventSplitter.test(name)) {\n\t      var names = name.split(eventSplitter);\n\t      for (var i = 0, l = names.length; i < l; i++) {\n\t        obj[action].apply(obj, [names[i]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  };\n\t\n\t  // A difficult-to-believe, but optimized internal dispatch function for\n\t  // triggering events. Tries to keep the usual cases speedy (most internal\n\t  // Backbone events have 3 arguments).\n\t  var triggerEvents = function(events, args) {\n\t    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n\t    switch (args.length) {\n\t      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n\t      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n\t      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n\t      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n\t      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\t    }\n\t  };\n\t\n\t  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\t\n\t  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n\t  // listen to an event in another object ... keeping track of what it's\n\t  // listening to.\n\t  _.each(listenMethods, function(implementation, method) {\n\t    Events[method] = function(obj, name, callback) {\n\t      var listeners = this._listeners || (this._listeners = {});\n\t      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n\t      listeners[id] = obj;\n\t      if (typeof name === 'object') callback = this;\n\t      obj[implementation](name, callback, this);\n\t      return this;\n\t    };\n\t  });\n\t\n\t  // Aliases for backwards compatibility.\n\t  Events.bind   = Events.on;\n\t  Events.unbind = Events.off;\n\t\n\t  // Mixin utility\n\t  Events.mixin = function(proto) {\n\t    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n\t                   'listenToOnce', 'bind', 'unbind'];\n\t    _.each(exports, function(name) {\n\t      proto[name] = this[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  // Export Events as BackboneEvents depending on current context\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = Events;\n\t    }\n\t    exports.BackboneEvents = Events;\n\t  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n\t    define(function() {\n\t      return Events;\n\t    });\n\t  } else {\n\t    root.BackboneEvents = Events;\n\t  }\n\t})(this);\n\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(89);\n\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function (definition) {\n\t  if (true) {\n\t    module.exports = definition();\n\t  }\n\t  else if (typeof define === 'function' && define.amd) {\n\t    define(definition);\n\t  }\n\t  else {\n\t    window.BackboneExtend = definition();\n\t  }\n\t})(function () {\n\t  \"use strict\";\n\t  \n\t  // mini-underscore\n\t  var _ = {\n\t    has: function (obj, key) {\n\t      return Object.prototype.hasOwnProperty.call(obj, key);\n\t    },\n\t  \n\t    extend: function(obj) {\n\t      for (var i=1; i<arguments.length; ++i) {\n\t        var source = arguments[i];\n\t        if (source) {\n\t          for (var prop in source) {\n\t            obj[prop] = source[prop];\n\t          }\n\t        }\n\t      }\n\t      return obj;\n\t    }\n\t  };\n\t\n\t  /// Following code is pasted from Backbone.js ///\n\t\n\t  // Helper function to correctly set up the prototype chain, for subclasses.\n\t  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n\t  // class properties to be extended.\n\t  var extend = function(protoProps, staticProps) {\n\t    var parent = this;\n\t    var child;\n\t\n\t    // The constructor function for the new subclass is either defined by you\n\t    // (the \"constructor\" property in your `extend` definition), or defaulted\n\t    // by us to simply call the parent's constructor.\n\t    if (protoProps && _.has(protoProps, 'constructor')) {\n\t      child = protoProps.constructor;\n\t    } else {\n\t      child = function(){ return parent.apply(this, arguments); };\n\t    }\n\t\n\t    // Add static properties to the constructor function, if supplied.\n\t    _.extend(child, parent, staticProps);\n\t\n\t    // Set the prototype chain to inherit from `parent`, without calling\n\t    // `parent`'s constructor function.\n\t    var Surrogate = function(){ this.constructor = child; };\n\t    Surrogate.prototype = parent.prototype;\n\t    child.prototype = new Surrogate();\n\t\n\t    // Add prototype properties (instance properties) to the subclass,\n\t    // if supplied.\n\t    if (protoProps) _.extend(child.prototype, protoProps);\n\t\n\t    // Set a convenience property in case the parent's prototype is needed\n\t    // later.\n\t    child.__super__ = parent.prototype;\n\t\n\t    return child;\n\t  };\n\t\n\t  // Expose the extend function\n\t  return extend;\n\t});\n\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Standalone extraction of Backbone.Events, no external dependency required.\n\t * Degrades nicely when Backone/underscore are already available in the current\n\t * global context.\n\t *\n\t * Note that docs suggest to use underscore's `_.extend()` method to add Events\n\t * support to some given object. A `mixin()` method has been added to the Events\n\t * prototype to avoid using underscore for that sole purpose:\n\t *\n\t *     var myEventEmitter = BackboneEvents.mixin({});\n\t *\n\t * Or for a function constructor:\n\t *\n\t *     function MyConstructor(){}\n\t *     MyConstructor.prototype.foo = function(){}\n\t *     BackboneEvents.mixin(MyConstructor.prototype);\n\t *\n\t * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n\t * (c) 2013 Nicolas Perriault\n\t */\n\t/* global exports:true, define, module */\n\t(function() {\n\t  var root = this,\n\t      nativeForEach = Array.prototype.forEach,\n\t      hasOwnProperty = Object.prototype.hasOwnProperty,\n\t      slice = Array.prototype.slice,\n\t      idCounter = 0;\n\t\n\t  // Returns a partial implementation matching the minimal API subset required\n\t  // by Backbone.Events\n\t  function miniscore() {\n\t    return {\n\t      keys: Object.keys || function (obj) {\n\t        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n\t          throw new TypeError(\"keys() called on a non-object\");\n\t        }\n\t        var key, keys = [];\n\t        for (key in obj) {\n\t          if (obj.hasOwnProperty(key)) {\n\t            keys[keys.length] = key;\n\t          }\n\t        }\n\t        return keys;\n\t      },\n\t\n\t      uniqueId: function(prefix) {\n\t        var id = ++idCounter + '';\n\t        return prefix ? prefix + id : id;\n\t      },\n\t\n\t      has: function(obj, key) {\n\t        return hasOwnProperty.call(obj, key);\n\t      },\n\t\n\t      each: function(obj, iterator, context) {\n\t        if (obj == null) return;\n\t        if (nativeForEach && obj.forEach === nativeForEach) {\n\t          obj.forEach(iterator, context);\n\t        } else if (obj.length === +obj.length) {\n\t          for (var i = 0, l = obj.length; i < l; i++) {\n\t            iterator.call(context, obj[i], i, obj);\n\t          }\n\t        } else {\n\t          for (var key in obj) {\n\t            if (this.has(obj, key)) {\n\t              iterator.call(context, obj[key], key, obj);\n\t            }\n\t          }\n\t        }\n\t      },\n\t\n\t      once: function(func) {\n\t        var ran = false, memo;\n\t        return function() {\n\t          if (ran) return memo;\n\t          ran = true;\n\t          memo = func.apply(this, arguments);\n\t          func = null;\n\t          return memo;\n\t        };\n\t      }\n\t    };\n\t  }\n\t\n\t  var _ = miniscore(), Events;\n\t\n\t  // Backbone.Events\n\t  // ---------------\n\t\n\t  // A module that can be mixed in to *any object* in order to provide it with\n\t  // custom events. You may bind with `on` or remove with `off` callback\n\t  // functions to an event; `trigger`-ing an event fires all callbacks in\n\t  // succession.\n\t  //\n\t  //     var object = {};\n\t  //     _.extend(object, Backbone.Events);\n\t  //     object.on('expand', function(){ alert('expanded'); });\n\t  //     object.trigger('expand');\n\t  //\n\t  Events = {\n\t\n\t    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n\t    // the callback to all events fired.\n\t    on: function(name, callback, context) {\n\t      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n\t      this._events || (this._events = {});\n\t      var events = this._events[name] || (this._events[name] = []);\n\t      events.push({callback: callback, context: context, ctx: context || this});\n\t      return this;\n\t    },\n\t\n\t    // Bind an event to only be triggered a single time. After the first time\n\t    // the callback is invoked, it will be removed.\n\t    once: function(name, callback, context) {\n\t      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n\t      var self = this;\n\t      var once = _.once(function() {\n\t        self.off(name, once);\n\t        callback.apply(this, arguments);\n\t      });\n\t      once._callback = callback;\n\t      return this.on(name, once, context);\n\t    },\n\t\n\t    // Remove one or many callbacks. If `context` is null, removes all\n\t    // callbacks with that function. If `callback` is null, removes all\n\t    // callbacks for the event. If `name` is null, removes all bound\n\t    // callbacks for all events.\n\t    off: function(name, callback, context) {\n\t      var retain, ev, events, names, i, l, j, k;\n\t      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n\t      if (!name && !callback && !context) {\n\t        this._events = {};\n\t        return this;\n\t      }\n\t\n\t      names = name ? [name] : _.keys(this._events);\n\t      for (i = 0, l = names.length; i < l; i++) {\n\t        name = names[i];\n\t        if (events = this._events[name]) {\n\t          this._events[name] = retain = [];\n\t          if (callback || context) {\n\t            for (j = 0, k = events.length; j < k; j++) {\n\t              ev = events[j];\n\t              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n\t                  (context && context !== ev.context)) {\n\t                retain.push(ev);\n\t              }\n\t            }\n\t          }\n\t          if (!retain.length) delete this._events[name];\n\t        }\n\t      }\n\t\n\t      return this;\n\t    },\n\t\n\t    // Trigger one or many events, firing all bound callbacks. Callbacks are\n\t    // passed the same arguments as `trigger` is, apart from the event name\n\t    // (unless you're listening on `\"all\"`, which will cause your callback to\n\t    // receive the true name of the event as the first argument).\n\t    trigger: function(name) {\n\t      if (!this._events) return this;\n\t      var args = slice.call(arguments, 1);\n\t      if (!eventsApi(this, 'trigger', name, args)) return this;\n\t      var events = this._events[name];\n\t      var allEvents = this._events.all;\n\t      if (events) triggerEvents(events, args);\n\t      if (allEvents) triggerEvents(allEvents, arguments);\n\t      return this;\n\t    },\n\t\n\t    // Tell this object to stop listening to either specific events ... or\n\t    // to every object it's currently listening to.\n\t    stopListening: function(obj, name, callback) {\n\t      var listeners = this._listeners;\n\t      if (!listeners) return this;\n\t      var deleteListener = !name && !callback;\n\t      if (typeof name === 'object') callback = this;\n\t      if (obj) (listeners = {})[obj._listenerId] = obj;\n\t      for (var id in listeners) {\n\t        listeners[id].off(name, callback, this);\n\t        if (deleteListener) delete this._listeners[id];\n\t      }\n\t      return this;\n\t    }\n\t\n\t  };\n\t\n\t  // Regular expression used to split event strings.\n\t  var eventSplitter = /\\s+/;\n\t\n\t  // Implement fancy features of the Events API such as multiple event\n\t  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n\t  // in terms of the existing API.\n\t  var eventsApi = function(obj, action, name, rest) {\n\t    if (!name) return true;\n\t\n\t    // Handle event maps.\n\t    if (typeof name === 'object') {\n\t      for (var key in name) {\n\t        obj[action].apply(obj, [key, name[key]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    // Handle space separated event names.\n\t    if (eventSplitter.test(name)) {\n\t      var names = name.split(eventSplitter);\n\t      for (var i = 0, l = names.length; i < l; i++) {\n\t        obj[action].apply(obj, [names[i]].concat(rest));\n\t      }\n\t      return false;\n\t    }\n\t\n\t    return true;\n\t  };\n\t\n\t  // A difficult-to-believe, but optimized internal dispatch function for\n\t  // triggering events. Tries to keep the usual cases speedy (most internal\n\t  // Backbone events have 3 arguments).\n\t  var triggerEvents = function(events, args) {\n\t    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n\t    switch (args.length) {\n\t      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n\t      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n\t      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n\t      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n\t      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n\t    }\n\t  };\n\t\n\t  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\t\n\t  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n\t  // listen to an event in another object ... keeping track of what it's\n\t  // listening to.\n\t  _.each(listenMethods, function(implementation, method) {\n\t    Events[method] = function(obj, name, callback) {\n\t      var listeners = this._listeners || (this._listeners = {});\n\t      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n\t      listeners[id] = obj;\n\t      if (typeof name === 'object') callback = this;\n\t      obj[implementation](name, callback, this);\n\t      return this;\n\t    };\n\t  });\n\t\n\t  // Aliases for backwards compatibility.\n\t  Events.bind   = Events.on;\n\t  Events.unbind = Events.off;\n\t\n\t  // Mixin utility\n\t  Events.mixin = function(proto) {\n\t    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n\t                   'listenToOnce', 'bind', 'unbind'];\n\t    _.each(exports, function(name) {\n\t      proto[name] = this[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  // Export Events as BackboneEvents depending on current context\n\t  if (true) {\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t      exports = module.exports = Events;\n\t    }\n\t    exports.BackboneEvents = Events;\n\t  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n\t    define(function() {\n\t      return Events;\n\t    });\n\t  } else {\n\t    root.BackboneEvents = Events;\n\t  }\n\t})(this);\n\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(92);\n\n\n/***/ },\n/* 94 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar GenericReader;\n\t\n\tvar xhr = __webpack_require__(96);\n\tvar vow = __webpack_require__(95);\n\t\n\tmodule.exports = GenericReader = (function() {\n\t  function GenericReader() {}\n\t\n\t  // returns a promise if callback is undefined\n\t  GenericReader.read = function(url, callback) {\n\t    var onret;\n\t    onret = (function(_this) {\n\t      return function(err, response, text) {\n\t        return GenericReader._onRetrieval(err, text, callback, _this);\n\t      };\n\t    })(this);\n\t\n\t    if(typeof callback === \"undefined\"){\n\t      var prom = vow.defer();\n\t      callback = function(err, res){\n\t        if(err){\n\t          prom.reject(err);\n\t        }else{\n\t          prom.resolve(res);\n\t        }\n\t      };\n\t      xhr(url, onret);\n\t      return prom.promise();\n\t    }else{\n\t      return xhr(url, onret);\n\t    }\n\t  };\n\t\n\t  GenericReader._onRetrieval = function(err, text, callback, _this) {\n\t    var rText;\n\t    if(typeof err !== \"undefined\"){\n\t      rText = _this.parse(text);\n\t    }\n\t    return callback.call(_this, err, rText);\n\t  };\n\t\n\t  // provide a convenient shortcut to inherit\n\t  GenericReader.extend = function(obj, statics){\n\t    return extend(GenericReader, obj, statics); \n\t  };\n\t  // Mixin utility\n\t  GenericReader.mixin = function(proto) {\n\t    var exports = ['read'];\n\t    if(typeof proto !== \"object\"){\n\t      proto = proto.prototype;\n\t    }\n\t    exports.forEach(function(name) {\n\t      proto[name] = GenericReader[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  return GenericReader;\n\t\n\t})();\n\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, process) {/**\n\t * @module vow\n\t * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n\t * @version 0.4.10\n\t * @license\n\t * Dual licensed under the MIT and GPL licenses:\n\t *   * http://www.opensource.org/licenses/mit-license.php\n\t *   * http://www.gnu.org/licenses/gpl.html\n\t */\n\t\n\t(function(global) {\n\t\n\tvar undef,\n\t    nextTick = (function() {\n\t        var fns = [],\n\t            enqueueFn = function(fn) {\n\t                return fns.push(fn) === 1;\n\t            },\n\t            callFns = function() {\n\t                var fnsToCall = fns, i = 0, len = fns.length;\n\t                fns = [];\n\t                while(i < len) {\n\t                    fnsToCall[i++]();\n\t                }\n\t            };\n\t\n\t        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && setImmediate(callFns);\n\t            };\n\t        }\n\t\n\t        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && process.nextTick(callFns);\n\t            };\n\t        }\n\t\n\t        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n\t        if(MutationObserver) {\n\t            var num = 1,\n\t                node = document.createTextNode('');\n\t\n\t            new MutationObserver(callFns).observe(node, { characterData : true });\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && (node.data = (num *= -1));\n\t            };\n\t        }\n\t\n\t        if(global.postMessage) {\n\t            var isPostMessageAsync = true;\n\t            if(global.attachEvent) {\n\t                var checkAsync = function() {\n\t                        isPostMessageAsync = false;\n\t                    };\n\t                global.attachEvent('onmessage', checkAsync);\n\t                global.postMessage('__checkAsync', '*');\n\t                global.detachEvent('onmessage', checkAsync);\n\t            }\n\t\n\t            if(isPostMessageAsync) {\n\t                var msg = '__promise' + +new Date,\n\t                    onMessage = function(e) {\n\t                        if(e.data === msg) {\n\t                            e.stopPropagation && e.stopPropagation();\n\t                            callFns();\n\t                        }\n\t                    };\n\t\n\t                global.addEventListener?\n\t                    global.addEventListener('message', onMessage, true) :\n\t                    global.attachEvent('onmessage', onMessage);\n\t\n\t                return function(fn) {\n\t                    enqueueFn(fn) && global.postMessage(msg, '*');\n\t                };\n\t            }\n\t        }\n\t\n\t        var doc = global.document;\n\t        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n\t            var createScript = function() {\n\t                    var script = doc.createElement('script');\n\t                    script.onreadystatechange = function() {\n\t                        script.parentNode.removeChild(script);\n\t                        script = script.onreadystatechange = null;\n\t                        callFns();\n\t                };\n\t                (doc.documentElement || doc.body).appendChild(script);\n\t            };\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && createScript();\n\t            };\n\t        }\n\t\n\t        return function(fn) { // old browsers\n\t            enqueueFn(fn) && setTimeout(callFns, 0);\n\t        };\n\t    })(),\n\t    throwException = function(e) {\n\t        nextTick(function() {\n\t            throw e;\n\t        });\n\t    },\n\t    isFunction = function(obj) {\n\t        return typeof obj === 'function';\n\t    },\n\t    isObject = function(obj) {\n\t        return obj !== null && typeof obj === 'object';\n\t    },\n\t    toStr = Object.prototype.toString,\n\t    isArray = Array.isArray || function(obj) {\n\t        return toStr.call(obj) === '[object Array]';\n\t    },\n\t    getArrayKeys = function(arr) {\n\t        var res = [],\n\t            i = 0, len = arr.length;\n\t        while(i < len) {\n\t            res.push(i++);\n\t        }\n\t        return res;\n\t    },\n\t    getObjectKeys = Object.keys || function(obj) {\n\t        var res = [];\n\t        for(var i in obj) {\n\t            obj.hasOwnProperty(i) && res.push(i);\n\t        }\n\t        return res;\n\t    },\n\t    defineCustomErrorType = function(name) {\n\t        var res = function(message) {\n\t            this.name = name;\n\t            this.message = message;\n\t        };\n\t\n\t        res.prototype = new Error();\n\t\n\t        return res;\n\t    },\n\t    wrapOnFulfilled = function(onFulfilled, idx) {\n\t        return function(val) {\n\t            onFulfilled.call(this, val, idx);\n\t        };\n\t    };\n\t\n\t/**\n\t * @class Deferred\n\t * @exports vow:Deferred\n\t * @description\n\t * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @description\n\t * You can use `vow.defer()` instead of using this constructor.\n\t *\n\t * `new vow.Deferred()` gives the same result as `vow.defer()`.\n\t */\n\tvar Deferred = function() {\n\t    this._promise = new Promise();\n\t};\n\t\n\tDeferred.prototype = /** @lends Deferred.prototype */{\n\t    /**\n\t     * Returns the corresponding promise.\n\t     *\n\t     * @returns {vow:Promise}\n\t     */\n\t    promise : function() {\n\t        return this._promise;\n\t    },\n\t\n\t    /**\n\t     * Resolves the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.then(function(value) {\n\t     *     // value is \"'success'\" here\n\t     * });\n\t     *\n\t     * defer.resolve('success');\n\t     * ```\n\t     */\n\t    resolve : function(value) {\n\t        this._promise.isResolved() || this._promise._resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Rejects the corresponding promise with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.fail(function(reason) {\n\t     *     // reason is \"'something is wrong'\" here\n\t     * });\n\t     *\n\t     * defer.reject('something is wrong');\n\t     * ```\n\t     */\n\t    reject : function(reason) {\n\t        if(this._promise.isResolved()) {\n\t            return;\n\t        }\n\t\n\t        if(vow.isPromise(reason)) {\n\t            reason = reason.then(function(val) {\n\t                var defer = vow.defer();\n\t                defer.reject(val);\n\t                return defer.promise();\n\t            });\n\t            this._promise._resolve(reason);\n\t        }\n\t        else {\n\t            this._promise._reject(reason);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Notifies the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.progress(function(value) {\n\t     *     // value is \"'20%'\", \"'40%'\" here\n\t     * });\n\t     *\n\t     * defer.notify('20%');\n\t     * defer.notify('40%');\n\t     * ```\n\t     */\n\t    notify : function(value) {\n\t        this._promise.isResolved() || this._promise._notify(value);\n\t    }\n\t};\n\t\n\tvar PROMISE_STATUS = {\n\t    PENDING   : 0,\n\t    RESOLVED  : 1,\n\t    FULFILLED : 2,\n\t    REJECTED  : 3\n\t};\n\t\n\t/**\n\t * @class Promise\n\t * @exports vow:Promise\n\t * @description\n\t * The `Promise` class is used when you want to give to the caller something to subscribe to,\n\t * but not the ability to resolve or reject the deferred.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n\t * @description\n\t * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n\t * In other case you should use `vow.defer()` and `defer.promise()` methods.\n\t * @example\n\t * ```js\n\t * function fetchJSON(url) {\n\t *     return new vow.Promise(function(resolve, reject, notify) {\n\t *         var xhr = new XMLHttpRequest();\n\t *         xhr.open('GET', url);\n\t *         xhr.responseType = 'json';\n\t *         xhr.send();\n\t *         xhr.onload = function() {\n\t *             if(xhr.response) {\n\t *                 resolve(xhr.response);\n\t *             }\n\t *             else {\n\t *                 reject(new TypeError());\n\t *             }\n\t *         };\n\t *     });\n\t * }\n\t * ```\n\t */\n\tvar Promise = function(resolver) {\n\t    this._value = undef;\n\t    this._status = PROMISE_STATUS.PENDING;\n\t\n\t    this._fulfilledCallbacks = [];\n\t    this._rejectedCallbacks = [];\n\t    this._progressCallbacks = [];\n\t\n\t    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n\t        var _this = this,\n\t            resolverFnLen = resolver.length;\n\t\n\t        resolver(\n\t            function(val) {\n\t                _this.isResolved() || _this._resolve(val);\n\t            },\n\t            resolverFnLen > 1?\n\t                function(reason) {\n\t                    _this.isResolved() || _this._reject(reason);\n\t                } :\n\t                undef,\n\t            resolverFnLen > 2?\n\t                function(val) {\n\t                    _this.isResolved() || _this._notify(val);\n\t                } :\n\t                undef);\n\t    }\n\t};\n\t\n\tPromise.prototype = /** @lends Promise.prototype */ {\n\t    /**\n\t     * Returns the value of the fulfilled promise or the reason in case of rejection.\n\t     *\n\t     * @returns {*}\n\t     */\n\t    valueOf : function() {\n\t        return this._value;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is resolved.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function() {\n\t        return this._status !== PROMISE_STATUS.PENDING;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is fulfilled.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function() {\n\t        return this._status === PROMISE_STATUS.FULFILLED;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is rejected.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function() {\n\t        return this._status === PROMISE_STATUS.REJECTED;\n\t    },\n\t\n\t    /**\n\t     * Adds reactions to the promise.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n\t     */\n\t    then : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        var defer = new Deferred();\n\t        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n\t     *\n\t     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    'catch' : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n\t     *\n\t     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a resolving reaction (for both fulfillment and rejection).\n\t     *\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(onResolved, ctx) {\n\t        var _this = this,\n\t            cb = function() {\n\t                return onResolved.call(this, _this);\n\t            };\n\t\n\t        return this.then(cb, cb, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a progress reaction.\n\t     *\n\t     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(onProgress, ctx) {\n\t        return this.then(undef, undef, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n\t     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n\t     *     // arg1 is \"1\", arg2 is \"'two'\" here\n\t     * });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve('two');\n\t     * ```\n\t     */\n\t    spread : function(onFulfilled, onRejected, ctx) {\n\t        return this.then(\n\t            function(val) {\n\t                return onFulfilled.apply(this, val);\n\t            },\n\t            onRejected,\n\t            ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `then`, but terminates a chain of promises.\n\t     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer();\n\t     * defer.reject(Error('Internal error'));\n\t     * defer.promise().done(); // exception to be thrown\n\t     * ```\n\t     */\n\t    done : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        this\n\t            .then(onFulfilled, onRejected, onProgress, ctx)\n\t            .fail(throwException);\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n\t     * or immediately rejected if the promise is rejected.\n\t     *\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(delay) {\n\t        var timer,\n\t            promise = this.then(function(val) {\n\t                var defer = new Deferred();\n\t                timer = setTimeout(\n\t                    function() {\n\t                        defer.resolve(val);\n\t                    },\n\t                    delay);\n\t\n\t                return defer.promise();\n\t            });\n\t\n\t        promise.always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return promise;\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be rejected in `timeout` milliseconds\n\t     * if the promise is not resolved beforehand.\n\t     *\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promiseWithTimeout1 = defer.promise().timeout(50),\n\t     *     promiseWithTimeout2 = defer.promise().timeout(200);\n\t     *\n\t     * setTimeout(\n\t     *     function() {\n\t     *         defer.resolve('ok');\n\t     *     },\n\t     *     100);\n\t     *\n\t     * promiseWithTimeout1.fail(function(reason) {\n\t     *     // promiseWithTimeout to be rejected in 50ms\n\t     * });\n\t     *\n\t     * promiseWithTimeout2.then(function(value) {\n\t     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n\t     * });\n\t     * ```\n\t     */\n\t    timeout : function(timeout) {\n\t        var defer = new Deferred(),\n\t            timer = setTimeout(\n\t                function() {\n\t                    defer.reject(new vow.TimedOutError('timed out'));\n\t                },\n\t                timeout);\n\t\n\t        this.then(\n\t            function(val) {\n\t                defer.resolve(val);\n\t            },\n\t            function(reason) {\n\t                defer.reject(reason);\n\t            });\n\t\n\t        defer.promise().always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    _vow : true,\n\t\n\t    _resolve : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        if(val === this) {\n\t            this._reject(TypeError('Can\\'t resolve promise with itself'));\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.RESOLVED;\n\t\n\t        if(val && !!val._vow) { // shortpath for vow.Promise\n\t            val.isFulfilled()?\n\t                this._fulfill(val.valueOf()) :\n\t                val.isRejected()?\n\t                    this._reject(val.valueOf()) :\n\t                    val.then(\n\t                        this._fulfill,\n\t                        this._reject,\n\t                        this._notify,\n\t                        this);\n\t            return;\n\t        }\n\t\n\t        if(isObject(val) || isFunction(val)) {\n\t            var then;\n\t            try {\n\t                then = val.then;\n\t            }\n\t            catch(e) {\n\t                this._reject(e);\n\t                return;\n\t            }\n\t\n\t            if(isFunction(then)) {\n\t                var _this = this,\n\t                    isResolved = false;\n\t\n\t                try {\n\t                    then.call(\n\t                        val,\n\t                        function(val) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._resolve(val);\n\t                        },\n\t                        function(err) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._reject(err);\n\t                        },\n\t                        function(val) {\n\t                            _this._notify(val);\n\t                        });\n\t                }\n\t                catch(e) {\n\t                    isResolved || this._reject(e);\n\t                }\n\t\n\t                return;\n\t            }\n\t        }\n\t\n\t        this._fulfill(val);\n\t    },\n\t\n\t    _fulfill : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.FULFILLED;\n\t        this._value = val;\n\t\n\t        this._callCallbacks(this._fulfilledCallbacks, val);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _reject : function(reason) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.REJECTED;\n\t        this._value = reason;\n\t\n\t        this._callCallbacks(this._rejectedCallbacks, reason);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _notify : function(val) {\n\t        this._callCallbacks(this._progressCallbacks, val);\n\t    },\n\t\n\t    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n\t        if(onRejected && !isFunction(onRejected)) {\n\t            ctx = onRejected;\n\t            onRejected = undef;\n\t        }\n\t        else if(onProgress && !isFunction(onProgress)) {\n\t            ctx = onProgress;\n\t            onProgress = undef;\n\t        }\n\t\n\t        var cb;\n\t\n\t        if(!this.isRejected()) {\n\t            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n\t            this.isFulfilled()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._fulfilledCallbacks.push(cb);\n\t        }\n\t\n\t        if(!this.isFulfilled()) {\n\t            cb = { defer : defer, fn : onRejected, ctx : ctx };\n\t            this.isRejected()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._rejectedCallbacks.push(cb);\n\t        }\n\t\n\t        if(this._status <= PROMISE_STATUS.RESOLVED) {\n\t            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n\t        }\n\t    },\n\t\n\t    _callCallbacks : function(callbacks, arg) {\n\t        var len = callbacks.length;\n\t        if(!len) {\n\t            return;\n\t        }\n\t\n\t        var isResolved = this.isResolved(),\n\t            isFulfilled = this.isFulfilled();\n\t\n\t        nextTick(function() {\n\t            var i = 0, cb, defer, fn;\n\t            while(i < len) {\n\t                cb = callbacks[i++];\n\t                defer = cb.defer;\n\t                fn = cb.fn;\n\t\n\t                if(fn) {\n\t                    var ctx = cb.ctx,\n\t                        res;\n\t                    try {\n\t                        res = ctx? fn.call(ctx, arg) : fn(arg);\n\t                    }\n\t                    catch(e) {\n\t                        defer.reject(e);\n\t                        continue;\n\t                    }\n\t\n\t                    isResolved?\n\t                        defer.resolve(res) :\n\t                        defer.notify(res);\n\t                }\n\t                else {\n\t                    isResolved?\n\t                        isFulfilled?\n\t                            defer.resolve(arg) :\n\t                            defer.reject(arg) :\n\t                        defer.notify(arg);\n\t                }\n\t            }\n\t        });\n\t    }\n\t};\n\t\n\t/** @lends Promise */\n\tvar staticMethods = {\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return vow.cast(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    all : function(iterable) {\n\t        return vow.all(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    race : function(iterable) {\n\t        return vow.anyResolved(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        return vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        return vow.reject(reason);\n\t    }\n\t};\n\t\n\tfor(var prop in staticMethods) {\n\t    staticMethods.hasOwnProperty(prop) &&\n\t        (Promise[prop] = staticMethods[prop]);\n\t}\n\t\n\tvar vow = /** @exports vow */ {\n\t    Deferred : Deferred,\n\t\n\t    Promise : Promise,\n\t\n\t    /**\n\t     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n\t     * It's equivalent to `new vow.Deferred()`.\n\t     *\n\t     * @returns {vow:Deferred}\n\t     */\n\t    defer : function() {\n\t        return new Deferred();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.then`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.fail`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(value, onRejected, ctx) {\n\t        return vow.when(value, undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.always`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(value, onResolved, ctx) {\n\t        return vow.when(value).always(onResolved, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.progress`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(value, onProgress, ctx) {\n\t        return vow.when(value).progress(onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.spread`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    spread : function(value, onFulfilled, onRejected, ctx) {\n\t        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.done`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     */\n\t    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Checks whether the given `value` is a promise-like object\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * vow.isPromise('something'); // returns false\n\t     * vow.isPromise(vow.defer().promise()); // returns true\n\t     * vow.isPromise({ then : function() { }); // returns true\n\t     * ```\n\t     */\n\t    isPromise : function(value) {\n\t        return isObject(value) && isFunction(value.then);\n\t    },\n\t\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return value && !!value._vow?\n\t            value :\n\t            vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.valueOf`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {*}\n\t     */\n\t    valueOf : function(value) {\n\t        return value && isFunction(value.valueOf)? value.valueOf() : value;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isFulfilled`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function(value) {\n\t        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isRejected`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function(value) {\n\t        return value && isFunction(value.isRejected)? value.isRejected() : false;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isResolved`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function(value) {\n\t        return value && isFunction(value.isResolved)? value.isResolved() : true;\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        var res = vow.defer();\n\t        res.resolve(value);\n\t        return res.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been fulfilled with the given `value`.\n\t     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    fulfill : function(value) {\n\t        var defer = vow.defer(),\n\t            promise = defer.promise();\n\t\n\t        defer.resolve(value);\n\t\n\t        return promise.isFulfilled()?\n\t            promise :\n\t            promise.then(null, function(reason) {\n\t                return reason;\n\t            });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        var defer = vow.defer();\n\t        defer.reject(reason);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Invokes the given function `fn` with arguments `args`\n\t     *\n\t     * @param {Function} fn\n\t     * @param {...*} [args]\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var promise1 = vow.invoke(function(value) {\n\t     *         return value;\n\t     *     }, 'ok'),\n\t     *     promise2 = vow.invoke(function() {\n\t     *         throw Error();\n\t     *     });\n\t     *\n\t     * promise1.isFulfilled(); // true\n\t     * promise1.valueOf(); // 'ok'\n\t     * promise2.isRejected(); // true\n\t     * promise2.valueOf(); // instance of Error\n\t     * ```\n\t     */\n\t    invoke : function(fn, args) {\n\t        var len = Math.max(arguments.length - 1, 0),\n\t            callArgs;\n\t        if(len) { // optimization for V8\n\t            callArgs = Array(len);\n\t            var i = 0;\n\t            while(i < len) {\n\t                callArgs[i++] = arguments[i];\n\t            }\n\t        }\n\t\n\t        try {\n\t            return vow.resolve(callArgs?\n\t                fn.apply(global, callArgs) :\n\t                fn.call(global));\n\t        }\n\t        catch(e) {\n\t            return vow.reject(e);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * with array:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise(), 3])\n\t     *     .then(function(value) {\n\t     *          // value is \"[1, 2, 3]\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     *\n\t     * @example\n\t     * with object:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n\t     *     .then(function(value) {\n\t     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     */\n\t    all : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            len = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!len) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = len;\n\t        vow._forEach(\n\t            iterable,\n\t            function(value, idx) {\n\t                res[keys[idx]] = value;\n\t                if(!--i) {\n\t                    defer.resolve(res);\n\t                }\n\t            },\n\t            defer.reject,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n\t     *     promise1.isRejected(); // returns true\n\t     *     promise1.valueOf(); // returns \"'error'\"\n\t     *     promise2.isFulfilled(); // returns true\n\t     *     promise2.valueOf(); // returns \"'ok'\"\n\t     * });\n\t     *\n\t     * defer1.reject('error');\n\t     * defer2.resolve('ok');\n\t     * ```\n\t     */\n\t    allResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            i = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!i) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var onResolved = function() {\n\t                --i || defer.resolve(iterable);\n\t            };\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            onResolved,\n\t            onResolved,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    allPatiently : function(iterable) {\n\t        return vow.allResolved(iterable).then(function() {\n\t            var isPromisesArray = isArray(iterable),\n\t                keys = isPromisesArray?\n\t                    getArrayKeys(iterable) :\n\t                    getObjectKeys(iterable),\n\t                rejectedPromises, fulfilledPromises,\n\t                len = keys.length, i = 0, key, promise;\n\t\n\t            if(!len) {\n\t                return isPromisesArray? [] : {};\n\t            }\n\t\n\t            while(i < len) {\n\t                key = keys[i++];\n\t                promise = iterable[key];\n\t                if(vow.isRejected(promise)) {\n\t                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n\t                    isPromisesArray?\n\t                        rejectedPromises.push(promise.valueOf()) :\n\t                        rejectedPromises[key] = promise.valueOf();\n\t                }\n\t                else if(!rejectedPromises) {\n\t                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n\t                }\n\t            }\n\t\n\t            if(rejectedPromises) {\n\t                throw rejectedPromises;\n\t            }\n\t\n\t            return fulfilledPromises;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n\t     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    any : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = 0, reason;\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            function(e) {\n\t                i || (reason = e);\n\t                ++i === len && defer.reject(reason);\n\t            },\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    anyResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            defer.reject,\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.delay`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(value, delay) {\n\t        return vow.resolve(value).delay(delay);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.timeout`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     */\n\t    timeout : function(value, timeout) {\n\t        return vow.resolve(value).timeout(timeout);\n\t    },\n\t\n\t    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n\t        var len = keys? keys.length : promises.length,\n\t            i = 0;\n\t\n\t        while(i < len) {\n\t            vow.when(\n\t                promises[keys? keys[i] : i],\n\t                wrapOnFulfilled(onFulfilled, i),\n\t                onRejected,\n\t                onProgress,\n\t                ctx);\n\t            ++i;\n\t        }\n\t    },\n\t\n\t    TimedOutError : defineCustomErrorType('TimedOut')\n\t};\n\t\n\tvar defineAsGlobal = true;\n\tif(typeof module === 'object' && typeof module.exports === 'object') {\n\t    module.exports = vow;\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(typeof modules === 'object' && isFunction(modules.define)) {\n\t    modules.define('vow', function(provide) {\n\t        provide(vow);\n\t    });\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t        module.exports = vow;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    defineAsGlobal = false;\n\t}\n\t\n\tdefineAsGlobal && (global.vow = vow);\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11).setImmediate, __webpack_require__(20)))\n\n/***/ },\n/* 96 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar window = __webpack_require__(97)\n\tvar once = __webpack_require__(98)\n\tvar parseHeaders = __webpack_require__(102)\n\t\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            loadFunc()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = undefined\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t    \n\t    var failureResponse = {\n\t                body: undefined,\n\t                headers: {},\n\t                statusCode: 0,\n\t                method: method,\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t    \n\t    function errorFunc(evt) {\n\t        clearTimeout(timeoutTimer)\n\t        if(!(evt instanceof Error)){\n\t            evt = new Error(\"\" + (evt || \"unknown\") )\n\t        }\n\t        evt.statusCode = 0\n\t        callback(evt, failureResponse)\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadFunc() {\n\t        clearTimeout(timeoutTimer)\n\t        \n\t        var status = (xhr.status === 1223 ? 204 : xhr.status)\n\t        var response = failureResponse\n\t        var err = null\n\t        \n\t        if (status !== 0){\n\t            response = {\n\t                body: getBody(),\n\t                statusCode: status,\n\t                method: method,\n\t                headers: {},\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t            }\n\t        } else {\n\t            err = new Error(\"Internal XMLHttpRequest Error\")\n\t        }\n\t        callback(err, response, response.body)\n\t        \n\t    }\n\t    \n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    if(typeof callback === \"undefined\"){\n\t        throw new Error(\"callback argument missing\")\n\t    }\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var key\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var timeoutTimer\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = loadFunc\n\t    xhr.onerror = errorFunc\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    xhr.ontimeout = errorFunc\n\t    xhr.open(method, uri, !sync, options.username, options.password)\n\t    //has to be after open\n\t    if(!sync) {\n\t        xhr.withCredentials = !!options.withCredentials\n\t    }\n\t    // Cannot set timeout with sync request\n\t    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n\t    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\t    if (!sync && options.timeout > 0 ) {\n\t        timeoutTimer = setTimeout(function(){\n\t            xhr.abort(\"timeout\");\n\t        }, options.timeout+2 );\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 97 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {if (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 98 */\n/***/ function(module, exports) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ },\n/* 99 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(100)\n\t\n\tmodule.exports = forEach\n\t\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\t\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\t\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\t\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\t\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\t\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 100 */\n/***/ function(module, exports) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ },\n/* 101 */\n/***/ function(module, exports) {\n\n\t\n\texports = module.exports = trim;\n\t\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\t\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\t\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\n/***/ },\n/* 102 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar trim = __webpack_require__(101)\n\t  , forEach = __webpack_require__(99)\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\t\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\t\n\t  return result\n\t}\n\n/***/ },\n/* 103 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar GenericReader;\n\t\n\tvar xhr = __webpack_require__(105);\n\tvar vow = __webpack_require__(104);\n\t\n\tmodule.exports = GenericReader = (function() {\n\t  function GenericReader() {}\n\t\n\t  // returns a promise if callback is undefined\n\t  GenericReader.read = function(url, callback) {\n\t    var onret;\n\t    onret = (function(_this) {\n\t      return function(err, response, text) {\n\t        return GenericReader._onRetrieval(err, text, callback, _this);\n\t      };\n\t    })(this);\n\t\n\t    if(typeof callback === \"undefined\"){\n\t      var prom = vow.defer();\n\t      callback = function(err, res){\n\t        if(err){\n\t          prom.reject(err);\n\t        }else{\n\t          prom.resolve(res);\n\t        }\n\t      };\n\t      xhr(url, onret);\n\t      return prom.promise();\n\t    }else{\n\t      return xhr(url, onret);\n\t    }\n\t  };\n\t\n\t  GenericReader._onRetrieval = function(err, text, callback, _this) {\n\t    var rText;\n\t    if(typeof err !== \"undefined\"){\n\t      rText = _this.parse(text);\n\t    }\n\t    return callback.call(_this, err, rText);\n\t  };\n\t\n\t  // provide a convenient shortcut to inherit\n\t  GenericReader.extend = function(obj, statics){\n\t    return extend(GenericReader, obj, statics); \n\t  };\n\t  // Mixin utility\n\t  GenericReader.mixin = function(proto) {\n\t    var exports = ['read'];\n\t    if(typeof proto !== \"object\"){\n\t      proto = proto.prototype;\n\t    }\n\t    exports.forEach(function(name) {\n\t      proto[name] = GenericReader[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  return GenericReader;\n\t\n\t})();\n\n\n/***/ },\n/* 104 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, process) {/**\n\t * @module vow\n\t * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n\t * @version 0.4.10\n\t * @license\n\t * Dual licensed under the MIT and GPL licenses:\n\t *   * http://www.opensource.org/licenses/mit-license.php\n\t *   * http://www.gnu.org/licenses/gpl.html\n\t */\n\t\n\t(function(global) {\n\t\n\tvar undef,\n\t    nextTick = (function() {\n\t        var fns = [],\n\t            enqueueFn = function(fn) {\n\t                return fns.push(fn) === 1;\n\t            },\n\t            callFns = function() {\n\t                var fnsToCall = fns, i = 0, len = fns.length;\n\t                fns = [];\n\t                while(i < len) {\n\t                    fnsToCall[i++]();\n\t                }\n\t            };\n\t\n\t        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && setImmediate(callFns);\n\t            };\n\t        }\n\t\n\t        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && process.nextTick(callFns);\n\t            };\n\t        }\n\t\n\t        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n\t        if(MutationObserver) {\n\t            var num = 1,\n\t                node = document.createTextNode('');\n\t\n\t            new MutationObserver(callFns).observe(node, { characterData : true });\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && (node.data = (num *= -1));\n\t            };\n\t        }\n\t\n\t        if(global.postMessage) {\n\t            var isPostMessageAsync = true;\n\t            if(global.attachEvent) {\n\t                var checkAsync = function() {\n\t                        isPostMessageAsync = false;\n\t                    };\n\t                global.attachEvent('onmessage', checkAsync);\n\t                global.postMessage('__checkAsync', '*');\n\t                global.detachEvent('onmessage', checkAsync);\n\t            }\n\t\n\t            if(isPostMessageAsync) {\n\t                var msg = '__promise' + +new Date,\n\t                    onMessage = function(e) {\n\t                        if(e.data === msg) {\n\t                            e.stopPropagation && e.stopPropagation();\n\t                            callFns();\n\t                        }\n\t                    };\n\t\n\t                global.addEventListener?\n\t                    global.addEventListener('message', onMessage, true) :\n\t                    global.attachEvent('onmessage', onMessage);\n\t\n\t                return function(fn) {\n\t                    enqueueFn(fn) && global.postMessage(msg, '*');\n\t                };\n\t            }\n\t        }\n\t\n\t        var doc = global.document;\n\t        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n\t            var createScript = function() {\n\t                    var script = doc.createElement('script');\n\t                    script.onreadystatechange = function() {\n\t                        script.parentNode.removeChild(script);\n\t                        script = script.onreadystatechange = null;\n\t                        callFns();\n\t                };\n\t                (doc.documentElement || doc.body).appendChild(script);\n\t            };\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && createScript();\n\t            };\n\t        }\n\t\n\t        return function(fn) { // old browsers\n\t            enqueueFn(fn) && setTimeout(callFns, 0);\n\t        };\n\t    })(),\n\t    throwException = function(e) {\n\t        nextTick(function() {\n\t            throw e;\n\t        });\n\t    },\n\t    isFunction = function(obj) {\n\t        return typeof obj === 'function';\n\t    },\n\t    isObject = function(obj) {\n\t        return obj !== null && typeof obj === 'object';\n\t    },\n\t    toStr = Object.prototype.toString,\n\t    isArray = Array.isArray || function(obj) {\n\t        return toStr.call(obj) === '[object Array]';\n\t    },\n\t    getArrayKeys = function(arr) {\n\t        var res = [],\n\t            i = 0, len = arr.length;\n\t        while(i < len) {\n\t            res.push(i++);\n\t        }\n\t        return res;\n\t    },\n\t    getObjectKeys = Object.keys || function(obj) {\n\t        var res = [];\n\t        for(var i in obj) {\n\t            obj.hasOwnProperty(i) && res.push(i);\n\t        }\n\t        return res;\n\t    },\n\t    defineCustomErrorType = function(name) {\n\t        var res = function(message) {\n\t            this.name = name;\n\t            this.message = message;\n\t        };\n\t\n\t        res.prototype = new Error();\n\t\n\t        return res;\n\t    },\n\t    wrapOnFulfilled = function(onFulfilled, idx) {\n\t        return function(val) {\n\t            onFulfilled.call(this, val, idx);\n\t        };\n\t    };\n\t\n\t/**\n\t * @class Deferred\n\t * @exports vow:Deferred\n\t * @description\n\t * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @description\n\t * You can use `vow.defer()` instead of using this constructor.\n\t *\n\t * `new vow.Deferred()` gives the same result as `vow.defer()`.\n\t */\n\tvar Deferred = function() {\n\t    this._promise = new Promise();\n\t};\n\t\n\tDeferred.prototype = /** @lends Deferred.prototype */{\n\t    /**\n\t     * Returns the corresponding promise.\n\t     *\n\t     * @returns {vow:Promise}\n\t     */\n\t    promise : function() {\n\t        return this._promise;\n\t    },\n\t\n\t    /**\n\t     * Resolves the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.then(function(value) {\n\t     *     // value is \"'success'\" here\n\t     * });\n\t     *\n\t     * defer.resolve('success');\n\t     * ```\n\t     */\n\t    resolve : function(value) {\n\t        this._promise.isResolved() || this._promise._resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Rejects the corresponding promise with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.fail(function(reason) {\n\t     *     // reason is \"'something is wrong'\" here\n\t     * });\n\t     *\n\t     * defer.reject('something is wrong');\n\t     * ```\n\t     */\n\t    reject : function(reason) {\n\t        if(this._promise.isResolved()) {\n\t            return;\n\t        }\n\t\n\t        if(vow.isPromise(reason)) {\n\t            reason = reason.then(function(val) {\n\t                var defer = vow.defer();\n\t                defer.reject(val);\n\t                return defer.promise();\n\t            });\n\t            this._promise._resolve(reason);\n\t        }\n\t        else {\n\t            this._promise._reject(reason);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Notifies the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.progress(function(value) {\n\t     *     // value is \"'20%'\", \"'40%'\" here\n\t     * });\n\t     *\n\t     * defer.notify('20%');\n\t     * defer.notify('40%');\n\t     * ```\n\t     */\n\t    notify : function(value) {\n\t        this._promise.isResolved() || this._promise._notify(value);\n\t    }\n\t};\n\t\n\tvar PROMISE_STATUS = {\n\t    PENDING   : 0,\n\t    RESOLVED  : 1,\n\t    FULFILLED : 2,\n\t    REJECTED  : 3\n\t};\n\t\n\t/**\n\t * @class Promise\n\t * @exports vow:Promise\n\t * @description\n\t * The `Promise` class is used when you want to give to the caller something to subscribe to,\n\t * but not the ability to resolve or reject the deferred.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n\t * @description\n\t * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n\t * In other case you should use `vow.defer()` and `defer.promise()` methods.\n\t * @example\n\t * ```js\n\t * function fetchJSON(url) {\n\t *     return new vow.Promise(function(resolve, reject, notify) {\n\t *         var xhr = new XMLHttpRequest();\n\t *         xhr.open('GET', url);\n\t *         xhr.responseType = 'json';\n\t *         xhr.send();\n\t *         xhr.onload = function() {\n\t *             if(xhr.response) {\n\t *                 resolve(xhr.response);\n\t *             }\n\t *             else {\n\t *                 reject(new TypeError());\n\t *             }\n\t *         };\n\t *     });\n\t * }\n\t * ```\n\t */\n\tvar Promise = function(resolver) {\n\t    this._value = undef;\n\t    this._status = PROMISE_STATUS.PENDING;\n\t\n\t    this._fulfilledCallbacks = [];\n\t    this._rejectedCallbacks = [];\n\t    this._progressCallbacks = [];\n\t\n\t    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n\t        var _this = this,\n\t            resolverFnLen = resolver.length;\n\t\n\t        resolver(\n\t            function(val) {\n\t                _this.isResolved() || _this._resolve(val);\n\t            },\n\t            resolverFnLen > 1?\n\t                function(reason) {\n\t                    _this.isResolved() || _this._reject(reason);\n\t                } :\n\t                undef,\n\t            resolverFnLen > 2?\n\t                function(val) {\n\t                    _this.isResolved() || _this._notify(val);\n\t                } :\n\t                undef);\n\t    }\n\t};\n\t\n\tPromise.prototype = /** @lends Promise.prototype */ {\n\t    /**\n\t     * Returns the value of the fulfilled promise or the reason in case of rejection.\n\t     *\n\t     * @returns {*}\n\t     */\n\t    valueOf : function() {\n\t        return this._value;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is resolved.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function() {\n\t        return this._status !== PROMISE_STATUS.PENDING;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is fulfilled.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function() {\n\t        return this._status === PROMISE_STATUS.FULFILLED;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is rejected.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function() {\n\t        return this._status === PROMISE_STATUS.REJECTED;\n\t    },\n\t\n\t    /**\n\t     * Adds reactions to the promise.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n\t     */\n\t    then : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        var defer = new Deferred();\n\t        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n\t     *\n\t     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    'catch' : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n\t     *\n\t     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a resolving reaction (for both fulfillment and rejection).\n\t     *\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(onResolved, ctx) {\n\t        var _this = this,\n\t            cb = function() {\n\t                return onResolved.call(this, _this);\n\t            };\n\t\n\t        return this.then(cb, cb, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a progress reaction.\n\t     *\n\t     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(onProgress, ctx) {\n\t        return this.then(undef, undef, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n\t     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n\t     *     // arg1 is \"1\", arg2 is \"'two'\" here\n\t     * });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve('two');\n\t     * ```\n\t     */\n\t    spread : function(onFulfilled, onRejected, ctx) {\n\t        return this.then(\n\t            function(val) {\n\t                return onFulfilled.apply(this, val);\n\t            },\n\t            onRejected,\n\t            ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `then`, but terminates a chain of promises.\n\t     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer();\n\t     * defer.reject(Error('Internal error'));\n\t     * defer.promise().done(); // exception to be thrown\n\t     * ```\n\t     */\n\t    done : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        this\n\t            .then(onFulfilled, onRejected, onProgress, ctx)\n\t            .fail(throwException);\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n\t     * or immediately rejected if the promise is rejected.\n\t     *\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(delay) {\n\t        var timer,\n\t            promise = this.then(function(val) {\n\t                var defer = new Deferred();\n\t                timer = setTimeout(\n\t                    function() {\n\t                        defer.resolve(val);\n\t                    },\n\t                    delay);\n\t\n\t                return defer.promise();\n\t            });\n\t\n\t        promise.always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return promise;\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be rejected in `timeout` milliseconds\n\t     * if the promise is not resolved beforehand.\n\t     *\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promiseWithTimeout1 = defer.promise().timeout(50),\n\t     *     promiseWithTimeout2 = defer.promise().timeout(200);\n\t     *\n\t     * setTimeout(\n\t     *     function() {\n\t     *         defer.resolve('ok');\n\t     *     },\n\t     *     100);\n\t     *\n\t     * promiseWithTimeout1.fail(function(reason) {\n\t     *     // promiseWithTimeout to be rejected in 50ms\n\t     * });\n\t     *\n\t     * promiseWithTimeout2.then(function(value) {\n\t     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n\t     * });\n\t     * ```\n\t     */\n\t    timeout : function(timeout) {\n\t        var defer = new Deferred(),\n\t            timer = setTimeout(\n\t                function() {\n\t                    defer.reject(new vow.TimedOutError('timed out'));\n\t                },\n\t                timeout);\n\t\n\t        this.then(\n\t            function(val) {\n\t                defer.resolve(val);\n\t            },\n\t            function(reason) {\n\t                defer.reject(reason);\n\t            });\n\t\n\t        defer.promise().always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    _vow : true,\n\t\n\t    _resolve : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        if(val === this) {\n\t            this._reject(TypeError('Can\\'t resolve promise with itself'));\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.RESOLVED;\n\t\n\t        if(val && !!val._vow) { // shortpath for vow.Promise\n\t            val.isFulfilled()?\n\t                this._fulfill(val.valueOf()) :\n\t                val.isRejected()?\n\t                    this._reject(val.valueOf()) :\n\t                    val.then(\n\t                        this._fulfill,\n\t                        this._reject,\n\t                        this._notify,\n\t                        this);\n\t            return;\n\t        }\n\t\n\t        if(isObject(val) || isFunction(val)) {\n\t            var then;\n\t            try {\n\t                then = val.then;\n\t            }\n\t            catch(e) {\n\t                this._reject(e);\n\t                return;\n\t            }\n\t\n\t            if(isFunction(then)) {\n\t                var _this = this,\n\t                    isResolved = false;\n\t\n\t                try {\n\t                    then.call(\n\t                        val,\n\t                        function(val) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._resolve(val);\n\t                        },\n\t                        function(err) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._reject(err);\n\t                        },\n\t                        function(val) {\n\t                            _this._notify(val);\n\t                        });\n\t                }\n\t                catch(e) {\n\t                    isResolved || this._reject(e);\n\t                }\n\t\n\t                return;\n\t            }\n\t        }\n\t\n\t        this._fulfill(val);\n\t    },\n\t\n\t    _fulfill : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.FULFILLED;\n\t        this._value = val;\n\t\n\t        this._callCallbacks(this._fulfilledCallbacks, val);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _reject : function(reason) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.REJECTED;\n\t        this._value = reason;\n\t\n\t        this._callCallbacks(this._rejectedCallbacks, reason);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _notify : function(val) {\n\t        this._callCallbacks(this._progressCallbacks, val);\n\t    },\n\t\n\t    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n\t        if(onRejected && !isFunction(onRejected)) {\n\t            ctx = onRejected;\n\t            onRejected = undef;\n\t        }\n\t        else if(onProgress && !isFunction(onProgress)) {\n\t            ctx = onProgress;\n\t            onProgress = undef;\n\t        }\n\t\n\t        var cb;\n\t\n\t        if(!this.isRejected()) {\n\t            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n\t            this.isFulfilled()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._fulfilledCallbacks.push(cb);\n\t        }\n\t\n\t        if(!this.isFulfilled()) {\n\t            cb = { defer : defer, fn : onRejected, ctx : ctx };\n\t            this.isRejected()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._rejectedCallbacks.push(cb);\n\t        }\n\t\n\t        if(this._status <= PROMISE_STATUS.RESOLVED) {\n\t            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n\t        }\n\t    },\n\t\n\t    _callCallbacks : function(callbacks, arg) {\n\t        var len = callbacks.length;\n\t        if(!len) {\n\t            return;\n\t        }\n\t\n\t        var isResolved = this.isResolved(),\n\t            isFulfilled = this.isFulfilled();\n\t\n\t        nextTick(function() {\n\t            var i = 0, cb, defer, fn;\n\t            while(i < len) {\n\t                cb = callbacks[i++];\n\t                defer = cb.defer;\n\t                fn = cb.fn;\n\t\n\t                if(fn) {\n\t                    var ctx = cb.ctx,\n\t                        res;\n\t                    try {\n\t                        res = ctx? fn.call(ctx, arg) : fn(arg);\n\t                    }\n\t                    catch(e) {\n\t                        defer.reject(e);\n\t                        continue;\n\t                    }\n\t\n\t                    isResolved?\n\t                        defer.resolve(res) :\n\t                        defer.notify(res);\n\t                }\n\t                else {\n\t                    isResolved?\n\t                        isFulfilled?\n\t                            defer.resolve(arg) :\n\t                            defer.reject(arg) :\n\t                        defer.notify(arg);\n\t                }\n\t            }\n\t        });\n\t    }\n\t};\n\t\n\t/** @lends Promise */\n\tvar staticMethods = {\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return vow.cast(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    all : function(iterable) {\n\t        return vow.all(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    race : function(iterable) {\n\t        return vow.anyResolved(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        return vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        return vow.reject(reason);\n\t    }\n\t};\n\t\n\tfor(var prop in staticMethods) {\n\t    staticMethods.hasOwnProperty(prop) &&\n\t        (Promise[prop] = staticMethods[prop]);\n\t}\n\t\n\tvar vow = /** @exports vow */ {\n\t    Deferred : Deferred,\n\t\n\t    Promise : Promise,\n\t\n\t    /**\n\t     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n\t     * It's equivalent to `new vow.Deferred()`.\n\t     *\n\t     * @returns {vow:Deferred}\n\t     */\n\t    defer : function() {\n\t        return new Deferred();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.then`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.fail`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(value, onRejected, ctx) {\n\t        return vow.when(value, undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.always`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(value, onResolved, ctx) {\n\t        return vow.when(value).always(onResolved, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.progress`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(value, onProgress, ctx) {\n\t        return vow.when(value).progress(onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.spread`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    spread : function(value, onFulfilled, onRejected, ctx) {\n\t        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.done`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     */\n\t    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Checks whether the given `value` is a promise-like object\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * vow.isPromise('something'); // returns false\n\t     * vow.isPromise(vow.defer().promise()); // returns true\n\t     * vow.isPromise({ then : function() { }); // returns true\n\t     * ```\n\t     */\n\t    isPromise : function(value) {\n\t        return isObject(value) && isFunction(value.then);\n\t    },\n\t\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return value && !!value._vow?\n\t            value :\n\t            vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.valueOf`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {*}\n\t     */\n\t    valueOf : function(value) {\n\t        return value && isFunction(value.valueOf)? value.valueOf() : value;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isFulfilled`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function(value) {\n\t        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isRejected`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function(value) {\n\t        return value && isFunction(value.isRejected)? value.isRejected() : false;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isResolved`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function(value) {\n\t        return value && isFunction(value.isResolved)? value.isResolved() : true;\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        var res = vow.defer();\n\t        res.resolve(value);\n\t        return res.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been fulfilled with the given `value`.\n\t     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    fulfill : function(value) {\n\t        var defer = vow.defer(),\n\t            promise = defer.promise();\n\t\n\t        defer.resolve(value);\n\t\n\t        return promise.isFulfilled()?\n\t            promise :\n\t            promise.then(null, function(reason) {\n\t                return reason;\n\t            });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        var defer = vow.defer();\n\t        defer.reject(reason);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Invokes the given function `fn` with arguments `args`\n\t     *\n\t     * @param {Function} fn\n\t     * @param {...*} [args]\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var promise1 = vow.invoke(function(value) {\n\t     *         return value;\n\t     *     }, 'ok'),\n\t     *     promise2 = vow.invoke(function() {\n\t     *         throw Error();\n\t     *     });\n\t     *\n\t     * promise1.isFulfilled(); // true\n\t     * promise1.valueOf(); // 'ok'\n\t     * promise2.isRejected(); // true\n\t     * promise2.valueOf(); // instance of Error\n\t     * ```\n\t     */\n\t    invoke : function(fn, args) {\n\t        var len = Math.max(arguments.length - 1, 0),\n\t            callArgs;\n\t        if(len) { // optimization for V8\n\t            callArgs = Array(len);\n\t            var i = 0;\n\t            while(i < len) {\n\t                callArgs[i++] = arguments[i];\n\t            }\n\t        }\n\t\n\t        try {\n\t            return vow.resolve(callArgs?\n\t                fn.apply(global, callArgs) :\n\t                fn.call(global));\n\t        }\n\t        catch(e) {\n\t            return vow.reject(e);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * with array:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise(), 3])\n\t     *     .then(function(value) {\n\t     *          // value is \"[1, 2, 3]\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     *\n\t     * @example\n\t     * with object:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n\t     *     .then(function(value) {\n\t     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     */\n\t    all : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            len = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!len) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = len;\n\t        vow._forEach(\n\t            iterable,\n\t            function(value, idx) {\n\t                res[keys[idx]] = value;\n\t                if(!--i) {\n\t                    defer.resolve(res);\n\t                }\n\t            },\n\t            defer.reject,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n\t     *     promise1.isRejected(); // returns true\n\t     *     promise1.valueOf(); // returns \"'error'\"\n\t     *     promise2.isFulfilled(); // returns true\n\t     *     promise2.valueOf(); // returns \"'ok'\"\n\t     * });\n\t     *\n\t     * defer1.reject('error');\n\t     * defer2.resolve('ok');\n\t     * ```\n\t     */\n\t    allResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            i = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!i) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var onResolved = function() {\n\t                --i || defer.resolve(iterable);\n\t            };\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            onResolved,\n\t            onResolved,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    allPatiently : function(iterable) {\n\t        return vow.allResolved(iterable).then(function() {\n\t            var isPromisesArray = isArray(iterable),\n\t                keys = isPromisesArray?\n\t                    getArrayKeys(iterable) :\n\t                    getObjectKeys(iterable),\n\t                rejectedPromises, fulfilledPromises,\n\t                len = keys.length, i = 0, key, promise;\n\t\n\t            if(!len) {\n\t                return isPromisesArray? [] : {};\n\t            }\n\t\n\t            while(i < len) {\n\t                key = keys[i++];\n\t                promise = iterable[key];\n\t                if(vow.isRejected(promise)) {\n\t                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n\t                    isPromisesArray?\n\t                        rejectedPromises.push(promise.valueOf()) :\n\t                        rejectedPromises[key] = promise.valueOf();\n\t                }\n\t                else if(!rejectedPromises) {\n\t                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n\t                }\n\t            }\n\t\n\t            if(rejectedPromises) {\n\t                throw rejectedPromises;\n\t            }\n\t\n\t            return fulfilledPromises;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n\t     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    any : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = 0, reason;\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            function(e) {\n\t                i || (reason = e);\n\t                ++i === len && defer.reject(reason);\n\t            },\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    anyResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            defer.reject,\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.delay`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(value, delay) {\n\t        return vow.resolve(value).delay(delay);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.timeout`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     */\n\t    timeout : function(value, timeout) {\n\t        return vow.resolve(value).timeout(timeout);\n\t    },\n\t\n\t    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n\t        var len = keys? keys.length : promises.length,\n\t            i = 0;\n\t\n\t        while(i < len) {\n\t            vow.when(\n\t                promises[keys? keys[i] : i],\n\t                wrapOnFulfilled(onFulfilled, i),\n\t                onRejected,\n\t                onProgress,\n\t                ctx);\n\t            ++i;\n\t        }\n\t    },\n\t\n\t    TimedOutError : defineCustomErrorType('TimedOut')\n\t};\n\t\n\tvar defineAsGlobal = true;\n\tif(typeof module === 'object' && typeof module.exports === 'object') {\n\t    module.exports = vow;\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(typeof modules === 'object' && isFunction(modules.define)) {\n\t    modules.define('vow', function(provide) {\n\t        provide(vow);\n\t    });\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t        module.exports = vow;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    defineAsGlobal = false;\n\t}\n\t\n\tdefineAsGlobal && (global.vow = vow);\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11).setImmediate, __webpack_require__(20)))\n\n/***/ },\n/* 105 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar window = __webpack_require__(106)\n\tvar once = __webpack_require__(107)\n\tvar parseHeaders = __webpack_require__(111)\n\t\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            loadFunc()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = undefined\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t    \n\t    var failureResponse = {\n\t                body: undefined,\n\t                headers: {},\n\t                statusCode: 0,\n\t                method: method,\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t    \n\t    function errorFunc(evt) {\n\t        clearTimeout(timeoutTimer)\n\t        if(!(evt instanceof Error)){\n\t            evt = new Error(\"\" + (evt || \"unknown\") )\n\t        }\n\t        evt.statusCode = 0\n\t        callback(evt, failureResponse)\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadFunc() {\n\t        clearTimeout(timeoutTimer)\n\t        \n\t        var status = (xhr.status === 1223 ? 204 : xhr.status)\n\t        var response = failureResponse\n\t        var err = null\n\t        \n\t        if (status !== 0){\n\t            response = {\n\t                body: getBody(),\n\t                statusCode: status,\n\t                method: method,\n\t                headers: {},\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t            }\n\t        } else {\n\t            err = new Error(\"Internal XMLHttpRequest Error\")\n\t        }\n\t        callback(err, response, response.body)\n\t        \n\t    }\n\t    \n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    if(typeof callback === \"undefined\"){\n\t        throw new Error(\"callback argument missing\")\n\t    }\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var key\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var timeoutTimer\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = loadFunc\n\t    xhr.onerror = errorFunc\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    xhr.ontimeout = errorFunc\n\t    xhr.open(method, uri, !sync, options.username, options.password)\n\t    //has to be after open\n\t    if(!sync) {\n\t        xhr.withCredentials = !!options.withCredentials\n\t    }\n\t    // Cannot set timeout with sync request\n\t    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n\t    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\t    if (!sync && options.timeout > 0 ) {\n\t        timeoutTimer = setTimeout(function(){\n\t            xhr.abort(\"timeout\");\n\t        }, options.timeout+2 );\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 106 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {if (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 107 */\n/***/ function(module, exports) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ },\n/* 108 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(109)\n\t\n\tmodule.exports = forEach\n\t\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\t\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\t\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\t\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\t\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\t\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 109 */\n/***/ function(module, exports) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ },\n/* 110 */\n/***/ function(module, exports) {\n\n\t\n\texports = module.exports = trim;\n\t\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\t\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\t\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\n/***/ },\n/* 111 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar trim = __webpack_require__(110)\n\t  , forEach = __webpack_require__(108)\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\t\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\t\n\t  return result\n\t}\n\n/***/ },\n/* 112 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar jalview = {};\n\tmodule.exports = jalview;\n\tvar utils = __webpack_require__(46);\n\t\n\t// http://www.jalview.org/help/html/features/featuresFormat.html\n\tjalview.readHeader = function(lines) {\n\t  var colors = {};\n\t  var i = 0;\n\t  var features = [];\n\t  var currentGroup;\n\t\n\t  for (; i < lines.length; i++) {\n\t    var line = lines[i];\n\t    if (line.indexOf(\"#\") >= 0) {\n\t      // no comments allowed -> stop\n\t      break;\n\t    }\n\t    var columns = line.split(/\\t/);\n\t    var firstCell = columns[0].trim();\n\t    if (firstCell === \"GFF\") {\n\t      // this symbolizes the end \n\t      break;\n\t    } else if (columns.length === 2) {\n\t      if (firstCell === \"startgroup\") {\n\t        currentGroup = columns[1].trim();\n\t      } else if (firstCell === \"endgroup\") {\n\t        currentGroup = \"\";\n\t        continue;\n\t      } else {\n\t        // parse color\n\t        colors[columns[0]] = jalview.parseColor(columns[1]);\n\t      }\n\t    } else if(columns.length >= 5){\n\t      var arr = jalview.parseLine(columns);\n\t      if (currentGroup) {\n\t        arr.attributes.Parent = currentGroup;\n\t      }\n\t      features.push(arr);\n\t    }\n\t  }\n\t\n\t  return {\n\t    offset: i,\n\t    colors: colors,\n\t    features: features\n\t  };\n\t};\n\t\n\tjalview.parseColor = function(cell) {\n\t  if (cell.indexOf(\",\") >= 0) {\n\t    // rgb code\n\t    return utils.rgbToHex(cell.split(\",\").map(function(el) {\n\t      return parseInt(el);\n\t    }));\n\t  }\n\t  // color names with length == 6\n\t  // 'bisque,maroon,orange,orchid,purple,salmon,sienna,tomato,violet,yellow'\n\t  if (cell.length === 6 && parseInt(cell.charAt(0), 16) <= 16 && cell !== 'bisque') {\n\t    // hex code\n\t    return \"#\" + cell;\n\t  }\n\t  // color name\n\t  return cell;\n\t};\n\t\n\t\n\tjalview.parseLine = function(columns) {\n\t  var obj = {\n\t    attributes: {}\n\t  };\n\t  obj.attributes.Name = columns[0].trim(); //desc\n\t  obj.seqname = columns[1].trim(); // id\n\t  obj.start = parseInt(columns[3]);\n\t  obj.end = parseInt(columns[4]);\n\t  obj.feature = columns[5].trim();\n\t  if (obj.seqname === \"ID_NOT_SPECIFIED\") {\n\t    obj.seqname = columns[2].trim(); // alternative id\n\t  }\n\t  return obj;\n\t};\n\n\n/***/ },\n/* 113 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar GenericReader;\n\t\n\tvar xhr = __webpack_require__(115);\n\tvar vow = __webpack_require__(114);\n\t\n\tmodule.exports = GenericReader = (function() {\n\t  function GenericReader() {}\n\t\n\t  // returns a promise if callback is undefined\n\t  GenericReader.read = function(url, callback) {\n\t    var onret;\n\t    onret = (function(_this) {\n\t      return function(err, response, text) {\n\t        return GenericReader._onRetrieval(err, text, callback, _this);\n\t      };\n\t    })(this);\n\t\n\t    if(typeof callback === \"undefined\"){\n\t      var prom = vow.defer();\n\t      callback = function(err, res){\n\t        if(err){\n\t          prom.reject(err);\n\t        }else{\n\t          prom.resolve(res);\n\t        }\n\t      };\n\t      xhr(url, onret);\n\t      return prom.promise();\n\t    }else{\n\t      return xhr(url, onret);\n\t    }\n\t  };\n\t\n\t  GenericReader._onRetrieval = function(err, text, callback, _this) {\n\t    var rText;\n\t    if(typeof err !== \"undefined\"){\n\t      rText = _this.parse(text);\n\t    }\n\t    return callback.call(_this, err, rText);\n\t  };\n\t\n\t  // provide a convenient shortcut to inherit\n\t  GenericReader.extend = function(obj, statics){\n\t    return extend(GenericReader, obj, statics); \n\t  };\n\t  // Mixin utility\n\t  GenericReader.mixin = function(proto) {\n\t    var exports = ['read'];\n\t    if(typeof proto !== \"object\"){\n\t      proto = proto.prototype;\n\t    }\n\t    exports.forEach(function(name) {\n\t      proto[name] = GenericReader[name];\n\t    }, this);\n\t    return proto;\n\t  };\n\t\n\t  return GenericReader;\n\t\n\t})();\n\n\n/***/ },\n/* 114 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(setImmediate, process) {/**\n\t * @module vow\n\t * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n\t * @version 0.4.10\n\t * @license\n\t * Dual licensed under the MIT and GPL licenses:\n\t *   * http://www.opensource.org/licenses/mit-license.php\n\t *   * http://www.gnu.org/licenses/gpl.html\n\t */\n\t\n\t(function(global) {\n\t\n\tvar undef,\n\t    nextTick = (function() {\n\t        var fns = [],\n\t            enqueueFn = function(fn) {\n\t                return fns.push(fn) === 1;\n\t            },\n\t            callFns = function() {\n\t                var fnsToCall = fns, i = 0, len = fns.length;\n\t                fns = [];\n\t                while(i < len) {\n\t                    fnsToCall[i++]();\n\t                }\n\t            };\n\t\n\t        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && setImmediate(callFns);\n\t            };\n\t        }\n\t\n\t        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n\t            return function(fn) {\n\t                enqueueFn(fn) && process.nextTick(callFns);\n\t            };\n\t        }\n\t\n\t        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n\t        if(MutationObserver) {\n\t            var num = 1,\n\t                node = document.createTextNode('');\n\t\n\t            new MutationObserver(callFns).observe(node, { characterData : true });\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && (node.data = (num *= -1));\n\t            };\n\t        }\n\t\n\t        if(global.postMessage) {\n\t            var isPostMessageAsync = true;\n\t            if(global.attachEvent) {\n\t                var checkAsync = function() {\n\t                        isPostMessageAsync = false;\n\t                    };\n\t                global.attachEvent('onmessage', checkAsync);\n\t                global.postMessage('__checkAsync', '*');\n\t                global.detachEvent('onmessage', checkAsync);\n\t            }\n\t\n\t            if(isPostMessageAsync) {\n\t                var msg = '__promise' + +new Date,\n\t                    onMessage = function(e) {\n\t                        if(e.data === msg) {\n\t                            e.stopPropagation && e.stopPropagation();\n\t                            callFns();\n\t                        }\n\t                    };\n\t\n\t                global.addEventListener?\n\t                    global.addEventListener('message', onMessage, true) :\n\t                    global.attachEvent('onmessage', onMessage);\n\t\n\t                return function(fn) {\n\t                    enqueueFn(fn) && global.postMessage(msg, '*');\n\t                };\n\t            }\n\t        }\n\t\n\t        var doc = global.document;\n\t        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n\t            var createScript = function() {\n\t                    var script = doc.createElement('script');\n\t                    script.onreadystatechange = function() {\n\t                        script.parentNode.removeChild(script);\n\t                        script = script.onreadystatechange = null;\n\t                        callFns();\n\t                };\n\t                (doc.documentElement || doc.body).appendChild(script);\n\t            };\n\t\n\t            return function(fn) {\n\t                enqueueFn(fn) && createScript();\n\t            };\n\t        }\n\t\n\t        return function(fn) { // old browsers\n\t            enqueueFn(fn) && setTimeout(callFns, 0);\n\t        };\n\t    })(),\n\t    throwException = function(e) {\n\t        nextTick(function() {\n\t            throw e;\n\t        });\n\t    },\n\t    isFunction = function(obj) {\n\t        return typeof obj === 'function';\n\t    },\n\t    isObject = function(obj) {\n\t        return obj !== null && typeof obj === 'object';\n\t    },\n\t    toStr = Object.prototype.toString,\n\t    isArray = Array.isArray || function(obj) {\n\t        return toStr.call(obj) === '[object Array]';\n\t    },\n\t    getArrayKeys = function(arr) {\n\t        var res = [],\n\t            i = 0, len = arr.length;\n\t        while(i < len) {\n\t            res.push(i++);\n\t        }\n\t        return res;\n\t    },\n\t    getObjectKeys = Object.keys || function(obj) {\n\t        var res = [];\n\t        for(var i in obj) {\n\t            obj.hasOwnProperty(i) && res.push(i);\n\t        }\n\t        return res;\n\t    },\n\t    defineCustomErrorType = function(name) {\n\t        var res = function(message) {\n\t            this.name = name;\n\t            this.message = message;\n\t        };\n\t\n\t        res.prototype = new Error();\n\t\n\t        return res;\n\t    },\n\t    wrapOnFulfilled = function(onFulfilled, idx) {\n\t        return function(val) {\n\t            onFulfilled.call(this, val, idx);\n\t        };\n\t    };\n\t\n\t/**\n\t * @class Deferred\n\t * @exports vow:Deferred\n\t * @description\n\t * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @description\n\t * You can use `vow.defer()` instead of using this constructor.\n\t *\n\t * `new vow.Deferred()` gives the same result as `vow.defer()`.\n\t */\n\tvar Deferred = function() {\n\t    this._promise = new Promise();\n\t};\n\t\n\tDeferred.prototype = /** @lends Deferred.prototype */{\n\t    /**\n\t     * Returns the corresponding promise.\n\t     *\n\t     * @returns {vow:Promise}\n\t     */\n\t    promise : function() {\n\t        return this._promise;\n\t    },\n\t\n\t    /**\n\t     * Resolves the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.then(function(value) {\n\t     *     // value is \"'success'\" here\n\t     * });\n\t     *\n\t     * defer.resolve('success');\n\t     * ```\n\t     */\n\t    resolve : function(value) {\n\t        this._promise.isResolved() || this._promise._resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Rejects the corresponding promise with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.fail(function(reason) {\n\t     *     // reason is \"'something is wrong'\" here\n\t     * });\n\t     *\n\t     * defer.reject('something is wrong');\n\t     * ```\n\t     */\n\t    reject : function(reason) {\n\t        if(this._promise.isResolved()) {\n\t            return;\n\t        }\n\t\n\t        if(vow.isPromise(reason)) {\n\t            reason = reason.then(function(val) {\n\t                var defer = vow.defer();\n\t                defer.reject(val);\n\t                return defer.promise();\n\t            });\n\t            this._promise._resolve(reason);\n\t        }\n\t        else {\n\t            this._promise._reject(reason);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Notifies the corresponding promise with the given `value`.\n\t     *\n\t     * @param {*} value\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promise = defer.promise();\n\t     *\n\t     * promise.progress(function(value) {\n\t     *     // value is \"'20%'\", \"'40%'\" here\n\t     * });\n\t     *\n\t     * defer.notify('20%');\n\t     * defer.notify('40%');\n\t     * ```\n\t     */\n\t    notify : function(value) {\n\t        this._promise.isResolved() || this._promise._notify(value);\n\t    }\n\t};\n\t\n\tvar PROMISE_STATUS = {\n\t    PENDING   : 0,\n\t    RESOLVED  : 1,\n\t    FULFILLED : 2,\n\t    REJECTED  : 3\n\t};\n\t\n\t/**\n\t * @class Promise\n\t * @exports vow:Promise\n\t * @description\n\t * The `Promise` class is used when you want to give to the caller something to subscribe to,\n\t * but not the ability to resolve or reject the deferred.\n\t */\n\t\n\t/**\n\t * @constructor\n\t * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n\t * @description\n\t * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n\t * In other case you should use `vow.defer()` and `defer.promise()` methods.\n\t * @example\n\t * ```js\n\t * function fetchJSON(url) {\n\t *     return new vow.Promise(function(resolve, reject, notify) {\n\t *         var xhr = new XMLHttpRequest();\n\t *         xhr.open('GET', url);\n\t *         xhr.responseType = 'json';\n\t *         xhr.send();\n\t *         xhr.onload = function() {\n\t *             if(xhr.response) {\n\t *                 resolve(xhr.response);\n\t *             }\n\t *             else {\n\t *                 reject(new TypeError());\n\t *             }\n\t *         };\n\t *     });\n\t * }\n\t * ```\n\t */\n\tvar Promise = function(resolver) {\n\t    this._value = undef;\n\t    this._status = PROMISE_STATUS.PENDING;\n\t\n\t    this._fulfilledCallbacks = [];\n\t    this._rejectedCallbacks = [];\n\t    this._progressCallbacks = [];\n\t\n\t    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n\t        var _this = this,\n\t            resolverFnLen = resolver.length;\n\t\n\t        resolver(\n\t            function(val) {\n\t                _this.isResolved() || _this._resolve(val);\n\t            },\n\t            resolverFnLen > 1?\n\t                function(reason) {\n\t                    _this.isResolved() || _this._reject(reason);\n\t                } :\n\t                undef,\n\t            resolverFnLen > 2?\n\t                function(val) {\n\t                    _this.isResolved() || _this._notify(val);\n\t                } :\n\t                undef);\n\t    }\n\t};\n\t\n\tPromise.prototype = /** @lends Promise.prototype */ {\n\t    /**\n\t     * Returns the value of the fulfilled promise or the reason in case of rejection.\n\t     *\n\t     * @returns {*}\n\t     */\n\t    valueOf : function() {\n\t        return this._value;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is resolved.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function() {\n\t        return this._status !== PROMISE_STATUS.PENDING;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is fulfilled.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function() {\n\t        return this._status === PROMISE_STATUS.FULFILLED;\n\t    },\n\t\n\t    /**\n\t     * Returns `true` if the promise is rejected.\n\t     *\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function() {\n\t        return this._status === PROMISE_STATUS.REJECTED;\n\t    },\n\t\n\t    /**\n\t     * Adds reactions to the promise.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n\t     */\n\t    then : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        var defer = new Deferred();\n\t        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n\t     *\n\t     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    'catch' : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n\t     *\n\t     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(onRejected, ctx) {\n\t        return this.then(undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a resolving reaction (for both fulfillment and rejection).\n\t     *\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(onResolved, ctx) {\n\t        var _this = this,\n\t            cb = function() {\n\t                return onResolved.call(this, _this);\n\t            };\n\t\n\t        return this.then(cb, cb, ctx);\n\t    },\n\t\n\t    /**\n\t     * Adds a progress reaction.\n\t     *\n\t     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(onProgress, ctx) {\n\t        return this.then(undef, undef, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n\t     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n\t     *     // arg1 is \"1\", arg2 is \"'two'\" here\n\t     * });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve('two');\n\t     * ```\n\t     */\n\t    spread : function(onFulfilled, onRejected, ctx) {\n\t        return this.then(\n\t            function(val) {\n\t                return onFulfilled.apply(this, val);\n\t            },\n\t            onRejected,\n\t            ctx);\n\t    },\n\t\n\t    /**\n\t     * Like `then`, but terminates a chain of promises.\n\t     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n\t     *\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer();\n\t     * defer.reject(Error('Internal error'));\n\t     * defer.promise().done(); // exception to be thrown\n\t     * ```\n\t     */\n\t    done : function(onFulfilled, onRejected, onProgress, ctx) {\n\t        this\n\t            .then(onFulfilled, onRejected, onProgress, ctx)\n\t            .fail(throwException);\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n\t     * or immediately rejected if the promise is rejected.\n\t     *\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(delay) {\n\t        var timer,\n\t            promise = this.then(function(val) {\n\t                var defer = new Deferred();\n\t                timer = setTimeout(\n\t                    function() {\n\t                        defer.resolve(val);\n\t                    },\n\t                    delay);\n\t\n\t                return defer.promise();\n\t            });\n\t\n\t        promise.always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return promise;\n\t    },\n\t\n\t    /**\n\t     * Returns a new promise that will be rejected in `timeout` milliseconds\n\t     * if the promise is not resolved beforehand.\n\t     *\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer = vow.defer(),\n\t     *     promiseWithTimeout1 = defer.promise().timeout(50),\n\t     *     promiseWithTimeout2 = defer.promise().timeout(200);\n\t     *\n\t     * setTimeout(\n\t     *     function() {\n\t     *         defer.resolve('ok');\n\t     *     },\n\t     *     100);\n\t     *\n\t     * promiseWithTimeout1.fail(function(reason) {\n\t     *     // promiseWithTimeout to be rejected in 50ms\n\t     * });\n\t     *\n\t     * promiseWithTimeout2.then(function(value) {\n\t     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n\t     * });\n\t     * ```\n\t     */\n\t    timeout : function(timeout) {\n\t        var defer = new Deferred(),\n\t            timer = setTimeout(\n\t                function() {\n\t                    defer.reject(new vow.TimedOutError('timed out'));\n\t                },\n\t                timeout);\n\t\n\t        this.then(\n\t            function(val) {\n\t                defer.resolve(val);\n\t            },\n\t            function(reason) {\n\t                defer.reject(reason);\n\t            });\n\t\n\t        defer.promise().always(function() {\n\t            clearTimeout(timer);\n\t        });\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    _vow : true,\n\t\n\t    _resolve : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        if(val === this) {\n\t            this._reject(TypeError('Can\\'t resolve promise with itself'));\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.RESOLVED;\n\t\n\t        if(val && !!val._vow) { // shortpath for vow.Promise\n\t            val.isFulfilled()?\n\t                this._fulfill(val.valueOf()) :\n\t                val.isRejected()?\n\t                    this._reject(val.valueOf()) :\n\t                    val.then(\n\t                        this._fulfill,\n\t                        this._reject,\n\t                        this._notify,\n\t                        this);\n\t            return;\n\t        }\n\t\n\t        if(isObject(val) || isFunction(val)) {\n\t            var then;\n\t            try {\n\t                then = val.then;\n\t            }\n\t            catch(e) {\n\t                this._reject(e);\n\t                return;\n\t            }\n\t\n\t            if(isFunction(then)) {\n\t                var _this = this,\n\t                    isResolved = false;\n\t\n\t                try {\n\t                    then.call(\n\t                        val,\n\t                        function(val) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._resolve(val);\n\t                        },\n\t                        function(err) {\n\t                            if(isResolved) {\n\t                                return;\n\t                            }\n\t\n\t                            isResolved = true;\n\t                            _this._reject(err);\n\t                        },\n\t                        function(val) {\n\t                            _this._notify(val);\n\t                        });\n\t                }\n\t                catch(e) {\n\t                    isResolved || this._reject(e);\n\t                }\n\t\n\t                return;\n\t            }\n\t        }\n\t\n\t        this._fulfill(val);\n\t    },\n\t\n\t    _fulfill : function(val) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.FULFILLED;\n\t        this._value = val;\n\t\n\t        this._callCallbacks(this._fulfilledCallbacks, val);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _reject : function(reason) {\n\t        if(this._status > PROMISE_STATUS.RESOLVED) {\n\t            return;\n\t        }\n\t\n\t        this._status = PROMISE_STATUS.REJECTED;\n\t        this._value = reason;\n\t\n\t        this._callCallbacks(this._rejectedCallbacks, reason);\n\t        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n\t    },\n\t\n\t    _notify : function(val) {\n\t        this._callCallbacks(this._progressCallbacks, val);\n\t    },\n\t\n\t    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n\t        if(onRejected && !isFunction(onRejected)) {\n\t            ctx = onRejected;\n\t            onRejected = undef;\n\t        }\n\t        else if(onProgress && !isFunction(onProgress)) {\n\t            ctx = onProgress;\n\t            onProgress = undef;\n\t        }\n\t\n\t        var cb;\n\t\n\t        if(!this.isRejected()) {\n\t            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n\t            this.isFulfilled()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._fulfilledCallbacks.push(cb);\n\t        }\n\t\n\t        if(!this.isFulfilled()) {\n\t            cb = { defer : defer, fn : onRejected, ctx : ctx };\n\t            this.isRejected()?\n\t                this._callCallbacks([cb], this._value) :\n\t                this._rejectedCallbacks.push(cb);\n\t        }\n\t\n\t        if(this._status <= PROMISE_STATUS.RESOLVED) {\n\t            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n\t        }\n\t    },\n\t\n\t    _callCallbacks : function(callbacks, arg) {\n\t        var len = callbacks.length;\n\t        if(!len) {\n\t            return;\n\t        }\n\t\n\t        var isResolved = this.isResolved(),\n\t            isFulfilled = this.isFulfilled();\n\t\n\t        nextTick(function() {\n\t            var i = 0, cb, defer, fn;\n\t            while(i < len) {\n\t                cb = callbacks[i++];\n\t                defer = cb.defer;\n\t                fn = cb.fn;\n\t\n\t                if(fn) {\n\t                    var ctx = cb.ctx,\n\t                        res;\n\t                    try {\n\t                        res = ctx? fn.call(ctx, arg) : fn(arg);\n\t                    }\n\t                    catch(e) {\n\t                        defer.reject(e);\n\t                        continue;\n\t                    }\n\t\n\t                    isResolved?\n\t                        defer.resolve(res) :\n\t                        defer.notify(res);\n\t                }\n\t                else {\n\t                    isResolved?\n\t                        isFulfilled?\n\t                            defer.resolve(arg) :\n\t                            defer.reject(arg) :\n\t                        defer.notify(arg);\n\t                }\n\t            }\n\t        });\n\t    }\n\t};\n\t\n\t/** @lends Promise */\n\tvar staticMethods = {\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return vow.cast(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    all : function(iterable) {\n\t        return vow.all(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    race : function(iterable) {\n\t        return vow.anyResolved(iterable);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        return vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        return vow.reject(reason);\n\t    }\n\t};\n\t\n\tfor(var prop in staticMethods) {\n\t    staticMethods.hasOwnProperty(prop) &&\n\t        (Promise[prop] = staticMethods[prop]);\n\t}\n\t\n\tvar vow = /** @exports vow */ {\n\t    Deferred : Deferred,\n\t\n\t    Promise : Promise,\n\t\n\t    /**\n\t     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n\t     * It's equivalent to `new vow.Deferred()`.\n\t     *\n\t     * @returns {vow:Deferred}\n\t     */\n\t    defer : function() {\n\t        return new Deferred();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.then`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.fail`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    fail : function(value, onRejected, ctx) {\n\t        return vow.when(value, undef, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.always`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    always : function(value, onResolved, ctx) {\n\t        return vow.when(value).always(onResolved, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.progress`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callback execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    progress : function(value, onProgress, ctx) {\n\t        return vow.when(value).progress(onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.spread`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     * @returns {vow:Promise}\n\t     */\n\t    spread : function(value, onFulfilled, onRejected, ctx) {\n\t        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.done`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n\t     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n\t     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n\t     * @param {Object} [ctx] Context of the callbacks execution\n\t     */\n\t    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n\t        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n\t    },\n\t\n\t    /**\n\t     * Checks whether the given `value` is a promise-like object\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * vow.isPromise('something'); // returns false\n\t     * vow.isPromise(vow.defer().promise()); // returns true\n\t     * vow.isPromise({ then : function() { }); // returns true\n\t     * ```\n\t     */\n\t    isPromise : function(value) {\n\t        return isObject(value) && isFunction(value.then);\n\t    },\n\t\n\t    /**\n\t     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    cast : function(value) {\n\t        return value && !!value._vow?\n\t            value :\n\t            vow.resolve(value);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.valueOf`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {*}\n\t     */\n\t    valueOf : function(value) {\n\t        return value && isFunction(value.valueOf)? value.valueOf() : value;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isFulfilled`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isFulfilled : function(value) {\n\t        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isRejected`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isRejected : function(value) {\n\t        return value && isFunction(value.isRejected)? value.isRejected() : false;\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.isResolved`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @returns {Boolean}\n\t     */\n\t    isResolved : function(value) {\n\t        return value && isFunction(value.isResolved)? value.isResolved() : true;\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been resolved with the given `value`.\n\t     * If `value` is a promise, the returned promise will have `value`'s state.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    resolve : function(value) {\n\t        var res = vow.defer();\n\t        res.resolve(value);\n\t        return res.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been fulfilled with the given `value`.\n\t     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n\t     *\n\t     * @param {*} value\n\t     * @returns {vow:Promise}\n\t     */\n\t    fulfill : function(value) {\n\t        var defer = vow.defer(),\n\t            promise = defer.promise();\n\t\n\t        defer.resolve(value);\n\t\n\t        return promise.isFulfilled()?\n\t            promise :\n\t            promise.then(null, function(reason) {\n\t                return reason;\n\t            });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise that has already been rejected with the given `reason`.\n\t     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n\t     *\n\t     * @param {*} reason\n\t     * @returns {vow:Promise}\n\t     */\n\t    reject : function(reason) {\n\t        var defer = vow.defer();\n\t        defer.reject(reason);\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Invokes the given function `fn` with arguments `args`\n\t     *\n\t     * @param {Function} fn\n\t     * @param {...*} [args]\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var promise1 = vow.invoke(function(value) {\n\t     *         return value;\n\t     *     }, 'ok'),\n\t     *     promise2 = vow.invoke(function() {\n\t     *         throw Error();\n\t     *     });\n\t     *\n\t     * promise1.isFulfilled(); // true\n\t     * promise1.valueOf(); // 'ok'\n\t     * promise2.isRejected(); // true\n\t     * promise2.valueOf(); // instance of Error\n\t     * ```\n\t     */\n\t    invoke : function(fn, args) {\n\t        var len = Math.max(arguments.length - 1, 0),\n\t            callArgs;\n\t        if(len) { // optimization for V8\n\t            callArgs = Array(len);\n\t            var i = 0;\n\t            while(i < len) {\n\t                callArgs[i++] = arguments[i];\n\t            }\n\t        }\n\t\n\t        try {\n\t            return vow.resolve(callArgs?\n\t                fn.apply(global, callArgs) :\n\t                fn.call(global));\n\t        }\n\t        catch(e) {\n\t            return vow.reject(e);\n\t        }\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * with array:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all([defer1.promise(), defer2.promise(), 3])\n\t     *     .then(function(value) {\n\t     *          // value is \"[1, 2, 3]\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     *\n\t     * @example\n\t     * with object:\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n\t     *     .then(function(value) {\n\t     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n\t     *     });\n\t     *\n\t     * defer1.resolve(1);\n\t     * defer2.resolve(2);\n\t     * ```\n\t     */\n\t    all : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            len = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!len) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = len;\n\t        vow._forEach(\n\t            iterable,\n\t            function(value, idx) {\n\t                res[keys[idx]] = value;\n\t                if(!--i) {\n\t                    defer.resolve(res);\n\t                }\n\t            },\n\t            defer.reject,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n\t     *\n\t     * @param {Array|Object} iterable\n\t     * @returns {vow:Promise}\n\t     *\n\t     * @example\n\t     * ```js\n\t     * var defer1 = vow.defer(),\n\t     *     defer2 = vow.defer();\n\t     *\n\t     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n\t     *     promise1.isRejected(); // returns true\n\t     *     promise1.valueOf(); // returns \"'error'\"\n\t     *     promise2.isFulfilled(); // returns true\n\t     *     promise2.valueOf(); // returns \"'ok'\"\n\t     * });\n\t     *\n\t     * defer1.reject('error');\n\t     * defer2.resolve('ok');\n\t     * ```\n\t     */\n\t    allResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            isPromisesArray = isArray(iterable),\n\t            keys = isPromisesArray?\n\t                getArrayKeys(iterable) :\n\t                getObjectKeys(iterable),\n\t            i = keys.length,\n\t            res = isPromisesArray? [] : {};\n\t\n\t        if(!i) {\n\t            defer.resolve(res);\n\t            return defer.promise();\n\t        }\n\t\n\t        var onResolved = function() {\n\t                --i || defer.resolve(iterable);\n\t            };\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            onResolved,\n\t            onResolved,\n\t            defer.notify,\n\t            defer,\n\t            keys);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    allPatiently : function(iterable) {\n\t        return vow.allResolved(iterable).then(function() {\n\t            var isPromisesArray = isArray(iterable),\n\t                keys = isPromisesArray?\n\t                    getArrayKeys(iterable) :\n\t                    getObjectKeys(iterable),\n\t                rejectedPromises, fulfilledPromises,\n\t                len = keys.length, i = 0, key, promise;\n\t\n\t            if(!len) {\n\t                return isPromisesArray? [] : {};\n\t            }\n\t\n\t            while(i < len) {\n\t                key = keys[i++];\n\t                promise = iterable[key];\n\t                if(vow.isRejected(promise)) {\n\t                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n\t                    isPromisesArray?\n\t                        rejectedPromises.push(promise.valueOf()) :\n\t                        rejectedPromises[key] = promise.valueOf();\n\t                }\n\t                else if(!rejectedPromises) {\n\t                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n\t                }\n\t            }\n\t\n\t            if(rejectedPromises) {\n\t                throw rejectedPromises;\n\t            }\n\t\n\t            return fulfilledPromises;\n\t        });\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n\t     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    any : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        var i = 0, reason;\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            function(e) {\n\t                i || (reason = e);\n\t                ++i === len && defer.reject(reason);\n\t            },\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n\t     * If any of the `iterable` items gets rejected, the promise will be rejected.\n\t     *\n\t     * @param {Array} iterable\n\t     * @returns {vow:Promise}\n\t     */\n\t    anyResolved : function(iterable) {\n\t        var defer = new Deferred(),\n\t            len = iterable.length;\n\t\n\t        if(!len) {\n\t            defer.reject(Error());\n\t            return defer.promise();\n\t        }\n\t\n\t        vow._forEach(\n\t            iterable,\n\t            defer.resolve,\n\t            defer.reject,\n\t            defer.notify,\n\t            defer);\n\t\n\t        return defer.promise();\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.delay`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} delay\n\t     * @returns {vow:Promise}\n\t     */\n\t    delay : function(value, delay) {\n\t        return vow.resolve(value).delay(delay);\n\t    },\n\t\n\t    /**\n\t     * Static equivalent to `promise.timeout`.\n\t     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n\t     *\n\t     * @param {*} value\n\t     * @param {Number} timeout\n\t     * @returns {vow:Promise}\n\t     */\n\t    timeout : function(value, timeout) {\n\t        return vow.resolve(value).timeout(timeout);\n\t    },\n\t\n\t    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n\t        var len = keys? keys.length : promises.length,\n\t            i = 0;\n\t\n\t        while(i < len) {\n\t            vow.when(\n\t                promises[keys? keys[i] : i],\n\t                wrapOnFulfilled(onFulfilled, i),\n\t                onRejected,\n\t                onProgress,\n\t                ctx);\n\t            ++i;\n\t        }\n\t    },\n\t\n\t    TimedOutError : defineCustomErrorType('TimedOut')\n\t};\n\t\n\tvar defineAsGlobal = true;\n\tif(typeof module === 'object' && typeof module.exports === 'object') {\n\t    module.exports = vow;\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(typeof modules === 'object' && isFunction(modules.define)) {\n\t    modules.define('vow', function(provide) {\n\t        provide(vow);\n\t    });\n\t    defineAsGlobal = false;\n\t}\n\t\n\tif(true) {\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t        module.exports = vow;\n\t    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    defineAsGlobal = false;\n\t}\n\t\n\tdefineAsGlobal && (global.vow = vow);\n\t\n\t})(this);\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11).setImmediate, __webpack_require__(20)))\n\n/***/ },\n/* 115 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar window = __webpack_require__(116)\n\tvar once = __webpack_require__(117)\n\tvar parseHeaders = __webpack_require__(121)\n\t\n\t\n\tvar XHR = window.XMLHttpRequest || noop\n\tvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\t\n\tmodule.exports = createXHR\n\t\n\tfunction createXHR(options, callback) {\n\t    function readystatechange() {\n\t        if (xhr.readyState === 4) {\n\t            loadFunc()\n\t        }\n\t    }\n\t\n\t    function getBody() {\n\t        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n\t        var body = undefined\n\t\n\t        if (xhr.response) {\n\t            body = xhr.response\n\t        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n\t            body = xhr.responseText || xhr.responseXML\n\t        }\n\t\n\t        if (isJson) {\n\t            try {\n\t                body = JSON.parse(body)\n\t            } catch (e) {}\n\t        }\n\t\n\t        return body\n\t    }\n\t    \n\t    var failureResponse = {\n\t                body: undefined,\n\t                headers: {},\n\t                statusCode: 0,\n\t                method: method,\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t    \n\t    function errorFunc(evt) {\n\t        clearTimeout(timeoutTimer)\n\t        if(!(evt instanceof Error)){\n\t            evt = new Error(\"\" + (evt || \"unknown\") )\n\t        }\n\t        evt.statusCode = 0\n\t        callback(evt, failureResponse)\n\t    }\n\t\n\t    // will load the data & process the response in a special response object\n\t    function loadFunc() {\n\t        clearTimeout(timeoutTimer)\n\t        \n\t        var status = (xhr.status === 1223 ? 204 : xhr.status)\n\t        var response = failureResponse\n\t        var err = null\n\t        \n\t        if (status !== 0){\n\t            response = {\n\t                body: getBody(),\n\t                statusCode: status,\n\t                method: method,\n\t                headers: {},\n\t                url: uri,\n\t                rawRequest: xhr\n\t            }\n\t            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n\t                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n\t            }\n\t        } else {\n\t            err = new Error(\"Internal XMLHttpRequest Error\")\n\t        }\n\t        callback(err, response, response.body)\n\t        \n\t    }\n\t    \n\t    if (typeof options === \"string\") {\n\t        options = { uri: options }\n\t    }\n\t\n\t    options = options || {}\n\t    if(typeof callback === \"undefined\"){\n\t        throw new Error(\"callback argument missing\")\n\t    }\n\t    callback = once(callback)\n\t\n\t    var xhr = options.xhr || null\n\t\n\t    if (!xhr) {\n\t        if (options.cors || options.useXDR) {\n\t            xhr = new XDR()\n\t        }else{\n\t            xhr = new XHR()\n\t        }\n\t    }\n\t\n\t    var key\n\t    var uri = xhr.url = options.uri || options.url\n\t    var method = xhr.method = options.method || \"GET\"\n\t    var body = options.body || options.data\n\t    var headers = xhr.headers = options.headers || {}\n\t    var sync = !!options.sync\n\t    var isJson = false\n\t    var timeoutTimer\n\t\n\t    if (\"json\" in options) {\n\t        isJson = true\n\t        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n\t        if (method !== \"GET\" && method !== \"HEAD\") {\n\t            headers[\"Content-Type\"] = \"application/json\"\n\t            body = JSON.stringify(options.json)\n\t        }\n\t    }\n\t\n\t    xhr.onreadystatechange = readystatechange\n\t    xhr.onload = loadFunc\n\t    xhr.onerror = errorFunc\n\t    // IE9 must have onprogress be set to a unique function.\n\t    xhr.onprogress = function () {\n\t        // IE must die\n\t    }\n\t    xhr.ontimeout = errorFunc\n\t    xhr.open(method, uri, !sync, options.username, options.password)\n\t    //has to be after open\n\t    if(!sync) {\n\t        xhr.withCredentials = !!options.withCredentials\n\t    }\n\t    // Cannot set timeout with sync request\n\t    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n\t    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\t    if (!sync && options.timeout > 0 ) {\n\t        timeoutTimer = setTimeout(function(){\n\t            xhr.abort(\"timeout\");\n\t        }, options.timeout+2 );\n\t    }\n\t\n\t    if (xhr.setRequestHeader) {\n\t        for(key in headers){\n\t            if(headers.hasOwnProperty(key)){\n\t                xhr.setRequestHeader(key, headers[key])\n\t            }\n\t        }\n\t    } else if (options.headers) {\n\t        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n\t    }\n\t\n\t    if (\"responseType\" in options) {\n\t        xhr.responseType = options.responseType\n\t    }\n\t    \n\t    if (\"beforeSend\" in options && \n\t        typeof options.beforeSend === \"function\"\n\t    ) {\n\t        options.beforeSend(xhr)\n\t    }\n\t\n\t    xhr.send(body)\n\t\n\t    return xhr\n\t\n\t\n\t}\n\t\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 116 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {if (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 117 */\n/***/ function(module, exports) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ },\n/* 118 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(119)\n\t\n\tmodule.exports = forEach\n\t\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\t\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\t\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\t\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\t\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\t\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 119 */\n/***/ function(module, exports) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ },\n/* 120 */\n/***/ function(module, exports) {\n\n\t\n\texports = module.exports = trim;\n\t\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\t\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\t\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\n/***/ },\n/* 121 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar trim = __webpack_require__(120)\n\t  , forEach = __webpack_require__(118)\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\t\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\t\n\t  return result\n\t}\n\n/***/ },\n/* 122 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports.seq = __webpack_require__(123);\n\n\n/***/ },\n/* 123 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(seq, name, id) {\n\t    this.seq = seq;\n\t    this.name = name;\n\t    this.id = id;\n\t    this.meta = {};\n\t};\n\n\n/***/ },\n/* 124 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// this is a light-weight build without the scrolling module\n\tmodule.exports = __webpack_require__(130);\n\n\n/***/ },\n/* 125 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t    render_x_axis_label: function () {\n\t      var label = \"Model Position\";\n\t      if (this.display_ali_map) {\n\t        label = \"Alignment Column\";\n\t      }\n\t      this.called_on.find('.logo_xaxis').remove();\n\t      this.called_on.prepend('<div class=\"logo_xaxis\" class=\"centered\" style=\"margin-left:40px\"><p class=\"xaxis_text\" style=\"width:10em;margin:1em auto\">' + label + '</p></div>');\n\t\n\t    },\n\t    render_y_axis_label: function () {\n\t      //attach a canvas for the y-axis\n\t      this.dom_element.parent().before('<canvas class=\"logo_yaxis\" height=\"'+this.options.height+'\" width=\"55\"></canvas>');\n\t      var canvas = this.called_on.find('.logo_yaxis'),\n\t      top_pix_height = 0,\n\t      bottom_pix_height = 0,\n\t      top_height = Math.abs(this.data.max_height),\n\t      bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n\t      context = null,\n\t      axis_label = \"Information Content (bits)\";\n\t\n\t      context = canvas[0].getContext('2d');\n\t      //draw min/max tick marks\n\t      context.beginPath();\n\t      context.moveTo(55, 1);\n\t      context.lineTo(40, 1);\n\t\n\t      context.moveTo(55, this.info_content_height);\n\t      context.lineTo(40, this.info_content_height);\n\t\n\t\n\t      context.moveTo(55, (this.info_content_height / 2));\n\t      context.lineTo(40, (this.info_content_height / 2));\n\t      context.lineWidth = 1;\n\t      context.strokeStyle = \"#666666\";\n\t      context.stroke();\n\t\n\t      //draw the label text\n\t      context.fillStyle = \"#666666\";\n\t      context.textAlign = \"right\";\n\t      context.font = \"bold 10px Arial\";\n\t\n\t      // draw the max label\n\t      context.textBaseline = \"top\";\n\t      context.fillText(parseFloat(this.data.max_height).toFixed(1), 38, 0);\n\t      context.textBaseline = \"middle\";\n\t\n\t      // draw the midpoint labels\n\t      context.fillText(parseFloat(this.data.max_height / 2).toFixed(1), 38, (this.info_content_height / 2));\n\t      // draw the min label\n\t      context.fillText('0', 38, this.info_content_height);\n\t\n\t      // draw the axis label\n\t      if (this.data.height_calc === 'score') {\n\t        axis_label = \"Score (bits)\";\n\t      }\n\t\n\t      context.save();\n\t      context.translate(5, this.height / 2 - 20);\n\t      context.rotate(-Math.PI / 2);\n\t      context.textAlign = \"center\";\n\t      context.font = \"normal 12px Arial\";\n\t      context.fillText(axis_label, 1, 0);\n\t      context.restore();\n\t\n\t      // draw the insert row labels\n\t      context.fillText('occupancy', 55, this.info_content_height + 7);\n\t      if (this.show_inserts) {\n\t        context.fillText('ins. prob.', 50, 280);\n\t        context.fillText('ins. len.', 46, 296);\n\t      }\n\t    }\n\t}; \n\n\n/***/ },\n/* 126 */\n/***/ function(module, exports) {\n\n\tvar canv_support = null;\n\t\n\tmodule.exports = function canvasSupport() {\n\t  if (!canv_support) {\n\t    var elem = document.createElement('canvas');\n\t    canv_support = !!(elem.getContext && elem.getContext('2d'));\n\t  }\n\t  return canv_support;\n\t}\n\n\n/***/ },\n/* 127 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  'A': '#FF9966',\n\t  'C': '#009999',\n\t  'D': '#FF0000',\n\t  'E': '#CC0033',\n\t  'F': '#00FF00',\n\t  'G': '#f2f20c',\n\t  'H': '#660033',\n\t  'I': '#CC9933',\n\t  'K': '#663300',\n\t  'L': '#FF9933',\n\t  'M': '#CC99CC',\n\t  'N': '#336666',\n\t  'P': '#0099FF',\n\t  'Q': '#6666CC',\n\t  'R': '#990000',\n\t  'S': '#0000FF',\n\t  'T': '#00FFFF',\n\t  'V': '#FFCC33',\n\t  'W': '#66CC66',\n\t  'Y': '#006600'\n\t};\n\n\n/***/ },\n/* 128 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t    'A': '#cbf751',\n\t    'C': '#5ec0cc',\n\t    'G': '#ffdf59',\n\t    'T': '#b51f16',\n\t    'U': '#b51f16'\n\t  };\n\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(7);\n\t\n\tmodule.exports = function($el,logo, logo_graphic){\n\t\n\t  $el.find('.logo_settings_switch, .logo_settings .close').on('click', function (e) {\n\t    e.preventDefault();\n\t    $('.logo_settings').toggle();\n\t  });\n\t\n\t  $el.find('.logo_reset').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'target': logo.default_zoom});\n\t  });\n\t\n\t  $el.find('.logo_change').on('click', function (e) {\n\t    e.preventDefault();\n\t  });\n\t\n\t  $el.find('.logo_zoomin').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'distance': 0.1, 'direction': '+'});\n\t  });\n\t\n\t  $el.find('.logo_zoomout').on('click', function (e) {\n\t    e.preventDefault();\n\t    logo.changeZoom({'distance': 0.1, 'direction': '-'});\n\t  });\n\t\n\t  $el.find('.logo_scale').on('change', function (e) {\n\t    logo.toggleScale(this.value);\n\t  });\n\t\n\t  $el.find('.logo_color').on('change', function (e) {\n\t    logo.toggleColorscheme(this.value);\n\t  });\n\t\n\t  $el.find('.logo_ali_map').on('change', function (e) {\n\t    logo.toggleAliMap(this.value);\n\t  });\n\t\n\t  $el.find('.logo_position').on('change', function () {\n\t    if (!this.value.match(/^\\d+$/m)) {\n\t      return;\n\t    }\n\t    logo.scrollToColumn(this.value, 1);\n\t  });\n\t\n\t  logo_graphic.on('dblclick', function (e) {\n\t    // need to get coordinates of mouse click\n\t    console.log(\"dblclick\", logo);\n\t\n\t    offset = logo.logo_graphic.offset(),\n\t    x = parseInt((e.pageX - offset.left), 10),\n\t\n\t    // get mouse position in the window\n\t    window_position = e.pageX - $el.parent().offset().left,\n\t\n\t    // get column number\n\t    col = logo.columnFromCoordinates(x),\n\t\n\t    console.log(\"col\", col);\n\t\n\t    // choose new zoom level and zoom in.\n\t    current = logo.zoom;\n\t\n\t    if (current < 1) {\n\t      logo.changeZoom({'target': 1, offset: window_position, column: col});\n\t    } else {\n\t      logo.changeZoom({'target': 0.3, offset: window_position, column: col});\n\t    }\n\t\n\t    return;\n\t  });\n\t\n\t  $(document).on($el.attr('id') + \".scrolledTo\", function (e, left, top, zoom) {\n\t    logo.render({target: left});\n\t  });\n\t\n\t  $(document).on('keydown', function (e) {\n\t    if (!e.ctrlKey) {\n\t      if (e.which === 61 || e.which === 107) {\n\t        zoom += 0.1;\n\t        logo.changeZoom({'distance': 0.1, 'direction': '+'});\n\t      }\n\t      if (e.which === 109 || e.which === 0) {\n\t        zoom = zoom - 0.1;\n\t        logo.changeZoom({'distance': 0.1, 'direction': '-'});\n\t      }\n\t    }\n\t  });\n\t}\n\n\n/***/ },\n/* 130 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t_ = __webpack_require__(1);\n\t\n\t//var ConsensusColors = require(\"./consensusColors.js\");\n\tvar canvasSupport = __webpack_require__(126);\n\tvar render = __webpack_require__(133);\n\tvar Letter = __webpack_require__(132);\n\tvar view = __webpack_require__(3);\n\tvar axis = __webpack_require__(125);\n\tvar eventListener = __webpack_require__(129);\n\tvar settings = __webpack_require__(131);\n\t\n\tvar jbone = __webpack_require__(7);\n\t\n\tmodule.exports = view.extend({\n\t\n\t  options: {\n\t    xaxis: true,\n\t    yaxis: true,\n\t    height: 300,\n\t    column_width: 34,\n\t    debug: true,\n\t    scale_height_enabled: true,\n\t    scaled_max: true,\n\t    zoom_buttons: true,\n\t    colorscheme: 'default',\n\t    data: undefined,\n\t    start: 1,\n\t    end: undefined,\n\t    zoom: 0.4,\n\t    colors: undefined,\n\t    divider: false,\n\t    show_probs: false,\n\t    divider_step: 5,\n\t    show_divider: false,\n\t    border: false,\n\t    settings: false,\n\t    scroller: true,\n\t    positionMarker: true\n\t  },\n\t\n\t  loadDefault: function(options){\n\t    this.data = options.data;\n\t\n\t    // never show the alignment coordinates by default as that would get\n\t    // really confusing.\n\t    this.display_ali_map = 0;\n\t\n\t    this.alphabet = options.data.alphabet || 'dna';\n\t\n\t    this.start = options.start;\n\t    //this.end = options.end || this.data.heightArr.length;\n\t    this.zoom = parseFloat(options.zoom) || 0.4;\n\t    this.default_zoom = this.zoom;\n\t\n\t    this.column_width = options.column_width;\n\t    this.height = options.height;\n\t    this.canvas_width = 5000;\n\t    this.scale_height_enabled = options.scale_height_enabled;\n\t\n\t    // this needs to be set to null here so that we can initialise it after\n\t    // the render function has fired and the width determined.\n\t    this.scrollme = null;\n\t\n\t    this.previous_target = 0;\n\t    // keeps track of which canvas elements have been drawn and which ones haven't.\n\t    this.rendered = [];\n\t    this.previous_zoom = 0;\n\t\n\t    if(this.data.max_height == undefined){\n\t      this.data.max_height = this.calcMaxHeight(this.data.heightArr); \n\t    }\n\t\n\t    // only show insert when we actually have the data\n\t    if(!this.data.insert_probs || !this.data.delete_probs){\n\t      this.options.show_probs = false;\n\t    }\n\t\n\t    if (options.scaled_max) {\n\t      this.data.max_height = options.data.max_height_obs || this.data.max_height || 2;\n\t    } else {\n\t      this.data.max_height = options.data.max_height_theory || this.data.max_height || 2;\n\t    }\n\t\n\t    if(options.colors){\n\t      this.changeColors(options.colors);\n\t    }else{\n\t      if (this.alphabet === 'aa') {\n\t        this.aa_colors = __webpack_require__(127);\n\t        this.changeColors(this.aa_colors);\n\t      }else{\n\t        this.dna_colors = __webpack_require__(128);\n\t        this.changeColors(this.dna_colors);\n\t      }\n\t    }\n\t  },\n\t  initialize: function(options) {\n\t    if (!canvasSupport()) {\n\t      this.el.textContent = \"Your browser doesn't support canvas.\";\n\t      return;\n\t    }\n\t    if(options.data == undefined){\n\t      this.el.textContent = \"No data added.\";\n\t    }\n\t\n\t    // load default settings\n\t    _.extend(this.options,options);\n\t    var opt = this.options;\n\t    this.loadDefault(opt);\n\t\n\t    if(!this.options.show_probs){\n\t      this.info_content_height = this.height;\n\t    }else{\n\t      // turn off the insert rows if the hmm used the observed or weighted processing flags.\n\t      if (this.data.processing && /^observed|weighted/.test(this.data.processing)) {\n\t        this.show_inserts = 0;\n\t        this.info_content_height = this.height - 14;\n\t      } else {\n\t        this.show_inserts = 1;\n\t        this.info_content_height = this.height - 44;\n\t      }\n\t    }\n\t    this.$el = jbone(this.el);\n\t\n\t    this.initDivs();\n\t\n\t    if(this.options.settings){\n\t      var form = settings(this,opt);\n\t      this.$el.append(form);\n\t    }\n\t\n\t    eventListener(this.$el,this, this.logo_graphic);\n\t    /*\n\t       if (opt.columnInfo) {\n\t       var columnInfo = require(\"./info/column_info.js\");\n\t       columnInfo(this);\n\t       }\n\t       */\n\t\n\t  },\n\t  initDivs: function(){\n\t    var logo_graphic = mk(\"div\");\n\t    logo_graphic.className = \"logo_graphic\";\n\t    this.logo_graphic = jbone(logo_graphic);\n\t\n\t    var container = mk(\"div\");\n\t    container.className = \"logo_container\";\n\t    container.style.height = this.height;\n\t    this.container = jbone(container);\n\t\n\t    this.container.append(logo_graphic);\n\t\n\t    // add some internal divs for scrolling etc.\n\t    this.$el.append(container);\n\t\n\t    if(this.options.divider){\n\t      var divider = mk(\"div\");\n\t      divider.className = \"logo_divider\";\n\t      this.$el.append(divider);\n\t    }\n\t\n\t    this.dom_element = jbone(logo_graphic);\n\t    this.called_on = this.$el;\n\t\n\t    if(this.options.xaxis){\n\t      axis.render_x_axis_label.call(this);\n\t    }\n\t    if(this.options.yaxis){\n\t      axis.render_y_axis_label.call(this);\n\t    }else{\n\t      this.container[0].style.marginLeft = \"0px\";\n\t    }\n\t\n\t  },\n\t\n\t  render: function(){\n\t    render.call(this); \n\t    return this;\n\t  },\n\t\n\t  changeColors: function(colors){\n\t    this.colors = colors;\n\t    var bUseColorObject = (colors != undefined && colors.type != undefined);\n\t    if(bUseColorObject){\n\t      this.colorscheme = \"dynamic\";\n\t    }\n\t    this.buildAlphabet();\n\t  },\n\t\n\t  buildAlphabet: function(){\n\t    /*\n\t       if (this.alphabet === 'aa') {\n\t       var probs_arr = this.data.probs_arr;\n\t       if (probs_arr) {\n\t       var cc = new ConsensusColors();\n\t       this.cmap = cc.color_map(probs_arr);\n\t       }\n\t       }\n\t       */\n\t\n\t    //build the letter canvases\n\t    this.letters = {};\n\t    var colors = this.colors;\n\t    if(this.colorscheme == \"dynamic\"){\n\t      var tColors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n\t      colors = {};\n\t      tColors.forEach(function(e){\n\t        colors[e] = \"\";\n\t      });\n\t    }\n\t    for (var letter in colors) {\n\t      if (colors.hasOwnProperty(letter)) {\n\t        var loptions = {color: colors[letter]};\n\t        this.letters[letter] = new Letter(letter, loptions);\n\t      }\n\t    }\n\t  },\n\t\n\t  toggleColorscheme: function (scheme) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (scheme) {\n\t      if (scheme === 'default') {\n\t        this.colorscheme = 'default';\n\t      } else {\n\t        this.colorscheme = 'consensus';\n\t      }\n\t    } else {\n\t      if (this.colorscheme === 'default') {\n\t        this.colorscheme = 'consensus';\n\t      } else {\n\t        this.colorscheme = 'default';\n\t      }\n\t    }\n\t\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t\n\t  toggleScale: function (scale) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (scale) {\n\t      if (scale === 'obs') {\n\t        this.data.max_height = this.data.max_height_obs;\n\t      } else {\n\t        this.data.max_height = this.data.max_height_theory;\n\t      }\n\t    } else {\n\t      // toggle the max height\n\t      if (this.data.max_height === this.data.max_height_obs) {\n\t        this.data.max_height = this.data.max_height_theory;\n\t      } else {\n\t        this.data.max_height = this.data.max_height_obs;\n\t      }\n\t    }\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t    //update the y-axis\n\t    if(this.logoYAxis){\n\t      this.logoYAxis.remove();\n\t      //this.called_on.find('.logo_yaxis').remove();\n\t    }\n\t    axis.render_y_axis_label.call(this);\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t  toggleAliMap: function (coords) {\n\t    // work out the current column we are on so we can return there\n\t    var col_total = this.currentColumn();\n\t\n\t    if (coords) {\n\t      if (coords === 'model') {\n\t        this.display_ali_map = 0;\n\t      } else {\n\t        this.display_ali_map = 1;\n\t      }\n\t    } else {\n\t      // toggle the max height\n\t      if (this.display_ali_map === 1) {\n\t        this.display_ali_map = 0;\n\t      } else {\n\t        this.display_ali_map = 1;\n\t      }\n\t    }\n\t    axis.render_x_axis_label(this);\n\t\n\t    // reset the rendered counter so that each section will re-render\n\t    // with the new heights\n\t    this.rendered = [];\n\t\n\t    // re-flow and re-render the content\n\t    this.scrollme.reflow();\n\t    //scroll off by one to force a render of the canvas.\n\t    this.scrollToColumn(col_total + 1);\n\t    //scroll back to the location we started at.\n\t    this.scrollToColumn(col_total);\n\t  },\n\t\n\t  currentColumn: function () {\n\t    var before_left = this.scrollme.scroller.getValues().left,\n\t    col_width = (this.column_width * this.zoom),\n\t    col_count = before_left / col_width,\n\t    half_visible_columns = (this.container.width() / col_width) / 2,\n\t    col_total = Math.ceil(col_count + half_visible_columns);\n\t    return col_total;\n\t  },\n\t\n\t  changeZoom: function (options) {\n\t    var zoom_level = 0.3,\n\t    expected_width = null;\n\t    if (options.target) {\n\t      zoom_level = options.target;\n\t    } else if (options.distance) {\n\t      zoom_level = (parseFloat(this.zoom) - parseFloat(options.distance)).toFixed(1);\n\t      if (options.direction === '+') {\n\t        zoom_level = (parseFloat(this.zoom) + parseFloat(options.distance)).toFixed(1);\n\t      }\n\t    }\n\t\n\t    if (zoom_level > 1) {\n\t      zoom_level = 1;\n\t    } else if (zoom_level < 0.1) {\n\t      zoom_level = 0.1;\n\t    }\n\t\n\t    // see if we need to zoom or not\n\t    expected_width = (this.logo_graphic.width() * zoom_level) / this.zoom;\n\t    if (expected_width > this.container.width()) {\n\t      // if a center is not specified, then use the current center of the view\n\t      if (!options.column) {\n\t        //work out my current position\n\t        var col_total = this.currentColumn();\n\t\n\t        this.zoom = zoom_level;\n\t        this.render({zoom: this.zoom});\n\t        this.scrollme.reflow();\n\t\n\t        //scroll to previous position\n\t        this.scrollToColumn(col_total);\n\t      } else { // center around the mouse click position.\n\t        this.zoom = zoom_level;\n\t        this.render({zoom: this.zoom});\n\t        this.scrollme.reflow();\n\t\n\t        var coords = this.coordinatesFromColumn(options.column);\n\t        this.scrollme.scroller.scrollTo(coords - options.offset);\n\t      }\n\t    }\n\t    return this.zoom;\n\t\n\t  },\n\t\n\t  columnFromCoordinates: function (x) {\n\t    var column = Math.ceil(x / (this.column_width * this.zoom));\n\t    return column;\n\t  },\n\t\n\t  coordinatesFromColumn: function (col) {\n\t    var new_column = col - 1,\n\t    x = (new_column  * (this.column_width * this.zoom)) + ((this.column_width * this.zoom) / 2);\n\t    return x;\n\t  },\n\t\n\t  scrollToColumn: function (num, animate) {\n\t    var half_view = (this.logo_container.width() / 2),\n\t    new_left = this.coordinatesFromColumn(num);\n\t    this.scrollme.scroller.scrollTo(new_left - half_view, 0, animate);\n\t  },\n\t  calcMaxHeight: function(columns){\n\t    // loops over all columns and return the max height seen \n\t    return columns.reduce(function(m,c){\n\t      var col = 0;\n\t      for(var k in c){\n\t        col += c[k];\n\t      }\n\t      return col > m ? col : m;\n\t    },0);\n\t  }\n\t\n\t\n\t});\n\t\n\tvar mk = function(name){\n\t  return document.createElement(name);\n\t}\n\n\n/***/ },\n/* 131 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar $ = __webpack_require__(7);\n\t\n\tmodule.exports = function(logo,options){\n\t  var form = $('<form class=\"logo_form\"><fieldset><label for=\"position\">Column number</label>' +\n\t               '<input type=\"text\" name=\"position\" class=\"logo_position\"></input>' +\n\t               '<button class=\"button logo_change\">Go</button></fieldset>' +\n\t               '</form>');\n\t\n\t  var settings = $('<div class=\"logo_settings\"></div>');\n\t  settings.append('<span class=\"close\">x</span>');\n\t\n\t\n\t\n\t  /* we don't want to toggle if the max height_obs is greater than max theoretical\n\t   * as letters will fall off the top.\n\t   */\n\t  if (logo.scale_height_enabled && (logo.data.max_height_obs < logo.data.max_height_theory)) {\n\t    var obs_checked = '',\n\t    theory_checked = '',\n\t    theory_help = '',\n\t    obs_help = '';\n\t\n\t    if (logo.data.max_height_obs === logo.data.max_height) {\n\t      obs_checked = 'checked';\n\t    } else {\n\t      theory_checked = 'checked';\n\t    }\n\t  }\n\t\n\t\n\t\n\t  var scale_controls = '<fieldset><legend>Scale</legend>' +\n\t    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"obs\" ' + obs_checked +\n\t    '/>Maximum Observed ' + obs_help +\n\t    '</label></br>' +\n\t    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"theory\" ' + theory_checked +\n\t    '/>Maximum Theoretical ' + theory_help +\n\t    '</label>' +\n\t    '</fieldset>';\n\t\n\t  settings.append(scale_controls);\n\t\n\t  if (logo.data.height_calc !== 'score' && logo.data.alphabet === 'aa' && logo.data.probs_arr) {\n\t\n\t    var def_color = null,\n\t    con_color = null,\n\t    def_help = '',\n\t    con_help = '';\n\t\n\t    if (logo.colorscheme === 'default') {\n\t      def_color = 'checked';\n\t    } else {\n\t      con_color = 'checked';\n\t    };\n\t\n\t    if (options.help) {\n\t      def_help = '<a class=\"help\" href=\"/help#colors_default\" title=\"Each letter receives its own color.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t      con_help = '<a class=\"help\" href=\"/help#colors_consensus\" title=\"Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t    }\n\t\n\t    var color_controls = '<fieldset><legend>Color Scheme</legend>' +\n\t      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"default\" ' + def_color +\n\t      '/>Default ' + def_help +\n\t      '</label></br>' +\n\t      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"consensus\" ' + con_color +\n\t      '/>Consensus Colors ' + con_help +\n\t      '</label>' +\n\t      '</fieldset>';\n\t    settings.append(color_controls);\n\t  }\n\t\n\t\n\t  if (logo.data.ali_map) {\n\t    var mod_checked = null,\n\t    ali_checked = null,\n\t    mod_help = '',\n\t    ali_help = '';\n\t\n\t    if (logo.display_ali_map === 0) {\n\t      mod_checked = 'checked';\n\t    } else {\n\t      ali_checked = 'checked';\n\t    }\n\t\n\t    if (options.help) {\n\t      mod_help = '<a class=\"help\" href=\"/help#coords_model\" title=\"The coordinates along the top of the plot show the model position.\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t      ali_help = '<a class=\"help\" href=\"/help#coords_ali\" title=\"The coordinates along the top of the plot show the column in the alignment associated with the model\">' +\n\t        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n\t    }\n\t\n\t    var ali_controls = '<fieldset><legend>Coordinates</legend>' +\n\t      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"model\" ' + mod_checked +\n\t      '/>Model ' + mod_help +\n\t      '</label></br>' +\n\t      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"alignment\" ' + ali_checked +\n\t      '/>Alignment ' + ali_help +\n\t      '</label>' +\n\t      '</fieldset>';\n\t    settings.append(ali_controls);\n\t  }\n\t\n\t\n\t  var controls = $('<div class=\"logo_controls\"></div>');\n\t  if (logo.zoom_enabled) {\n\t    controls.append('<button class=\"logo_zoomout button\">-</button>' +\n\t                    '<button class=\"logo_zoomin button\">+</button>');\n\t  }\n\t\n\t  if (settings.children().length > 0) {\n\t    controls.append('<button class=\"logo_settings_switch button\">Settings</button>');\n\t    controls.append(settings);\n\t  }\n\t\n\t  form.append(controls);\n\t\n\t  return form;\n\t}\n\n\n/***/ },\n/* 132 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function Letter(letter, options) {\n\t  options = options || {};\n\t  this.value = letter;\n\t  this.width = parseInt(options.width, 10) || 100;\n\t\n\t  //W is 30% wider than the other letters, so need to make sure\n\t  //it gets modified accordingly.\n\t  if (this.value === 'W') {\n\t    this.width += (this.width * 30) / 100;\n\t  }\n\t\n\t  this.height = parseInt(options.height, 10) || 100;\n\t\n\t  this.color = options.color || '#000000';\n\t  // if the height and width are changed from the default, then\n\t  // this will also need to be changed as it cant be calculated\n\t  // dynamically.\n\t  this.fontSize = options.fontSize || 138;\n\t\n\t  this.scaled = function () { };\n\t\n\t  this.draw = function (ext_ctx, target_height, target_width, x, y, color) {\n\t    var h_ratio = target_height / this.height,\n\t    w_ratio = target_width / this.width,\n\t    prev_font = ext_ctx.font;\n\t    ext_ctx.transform(w_ratio, 0, 0, h_ratio, x, y);\n\t    ext_ctx.fillStyle = color || this.color;\n\t    ext_ctx.textAlign = \"center\";\n\t    ext_ctx.font = \"bold \" + this.fontSize + \"px Arial\";\n\t\n\t    ext_ctx.fillText(this.value, 0, 0);\n\t    //restore the canvas settings\n\t    ext_ctx.setTransform(1, 0, 0, 1, 0, 0);\n\t    ext_ctx.fillStyle = '#000000';\n\t    ext_ctx.font = prev_font;\n\t  };\n\t\n\t}\n\n\n/***/ },\n/* 133 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar renderWithText = __webpack_require__(135);\n\tvar renderWithRect = __webpack_require__(134);\n\tvar jbone = __webpack_require__(7);\n\t\n\t// the main render function that draws the logo based on the provided options.\n\tmodule.exports = function (options) {\n\t  if (!this.data) {\n\t    return;\n\t  }\n\t  options    = options || {};\n\t  var zoom   = options.zoom || this.zoom,\n\t  target = options.target || 1,\n\t  scaled = options.scaled || null;\n\t  var parent_width = this.dom_element.parent().attr('width'),\n\t  max_canvas_width = 1,\n\t  end = null,\n\t  start = null,\n\t  i = 0;\n\t\n\t  /*\n\t  if (target === this.previous_target) {\n\t    return;\n\t  }\n\t  */\n\t\n\t  this.previous_target = target;\n\t\n\t\n\t  if (options.start) {\n\t    this.start = options.start;\n\t  }\n\t  if (options.end) {\n\t    this.end = options.end;\n\t  }\n\t\n\t  if (zoom <= 0.1) {\n\t    zoom = 0.1;\n\t  } else if (zoom >= 1) {\n\t    zoom = 1;\n\t  }\n\t\n\t  this.zoom = zoom;\n\t\n\t  end = this.end || this.data.heightArr.length;\n\t  start = this.start || 1;\n\t  end     = (end > this.data.heightArr.length) ? this.data.heightArr.length : end;\n\t  end     = (end < start) ? start : end;\n\t\n\t  start     = (start > end) ? end : start;\n\t  start     = (start > 1) ? start : 1;\n\t\n\t  this.y = this.height - 20;\n\t  // Check to see if the logo will fit on the screen at full zoom.\n\t  this.max_width = this.column_width * ((end - start) + 1);\n\t  // If it fits then zoom out and disable zooming.\n\t  if (parent_width > this.max_width) {\n\t    zoom = 1;\n\t    this.zoom_enabled = false;\n\t  }\n\t  this.zoom = zoom;\n\t\n\t  this.zoomed_column = this.column_width * zoom;\n\t  this.total_width = this.zoomed_column * ((end - start) + 1);\n\t\n\t  // If zoom is not maxed and we still aren't filling the window\n\t  // then ramp up the zoom level until it fits, then disable zooming.\n\t  // Then we get a decent logo with out needing to zoom in or out.\n\t  if (zoom < 1) {\n\t    while (this.total_width < parent_width) {\n\t      this.zoom += 0.1;\n\t      this.zoomed_column = this.column_width * this.zoom;\n\t      this.total_width = this.zoomed_column * ((end - start) + 1);\n\t      this.zoom_enabled = false;\n\t      if (zoom >= 1) {\n\t        break;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (target > this.total_width) {\n\t    target = this.total_width;\n\t  }\n\t  this.dom_element.attr({'width': this.total_width + 'px'}).css({width: this.total_width + 'px'});\n\t\n\t  this.canvas_width = this.total_width;\n\t  var canvas_count = Math.ceil(this.total_width / this.canvas_width);\n\t  this.columns_per_canvas = Math.ceil(this.canvas_width / this.zoomed_column);\n\t\n\t\n\t  if (this.previous_zoom !== this.zoom) {\n\t    this.dom_element.find('canvas').remove();\n\t    this.previous_zoom = this.zoom;\n\t    this.rendered = [];\n\t  }\n\t\n\t  this.canvases = [];\n\t  this.contexts = [];\n\t\n\t\n\t  for (i = 0; i < canvas_count; i++) {\n\t\n\t    var split_start = (this.columns_per_canvas * i) + start,\n\t    split_end   = split_start + this.columns_per_canvas - 1;\n\t    if (split_end > end) {\n\t      split_end = end;\n\t    }\n\t\n\t    var adjusted_width = ((split_end - split_start) + 1) * this.zoomed_column;\n\t\n\t    if (adjusted_width > max_canvas_width) {\n\t      max_canvas_width = adjusted_width;\n\t    }\n\t\n\t    var canv_start = max_canvas_width * i,\n\t    canv_end = canv_start + adjusted_width;\n\t\n\t    if (target < canv_end + (canv_end / 2) && target > canv_start - (canv_start / 2)) {\n\t      // Check that we aren't redrawing the canvas and if not, then attach it and draw.\n\t      //if (this.rendered[i] !== 1) {\n\t\n\t        this.canvases[i] = attach_canvas(this.dom_element, this.height, adjusted_width, i, max_canvas_width);\n\t        this.contexts[i] = this.canvases[i].getContext('2d');\n\t        this.contexts[i].setTransform(1, 0, 0, 1, 0, 0);\n\t        this.contexts[i].clearRect(0, 0, adjusted_width, this.height);\n\t        this.contexts[i].fillStyle = \"#ffffff\";\n\t        this.contexts[i].fillRect(0, 0, canv_end, this.height);\n\t\n\t\n\t        if (this.zoomed_column > 12) {\n\t          var fontsize = parseInt(10 * zoom, 10);\n\t          fontsize = (fontsize > 10) ? 10 : fontsize;\n\t          if (this.debug) {\n\t            renderWithRect.call(this,split_start, split_end, i, 1);\n\t          }\n\t          renderWithText.call(this,split_start, split_end, i, fontsize);\n\t        } else {\n\t          renderWithRect.call(this,split_start, split_end, i);\n\t        }\n\t        //this.rendered[i] = 1;\n\t      //}\n\t    }\n\t\n\t  }\n\t\n\t  // check if the scroller object has been initialised and if not then do so.\n\t  // we do this here as opposed to at object creation, because we need to\n\t  // make sure the logo has been rendered and the width is correct, otherwise\n\t  // we get a weird initial state where the canvas will bounce back to the\n\t  // beginning the first time it is scrolled, because it thinks it has a\n\t  // width of 0.\n\t  if (!this.scrollme && this.options.scroller) {\n\t    this.scrollme = new EasyScroller(this.dom_element[0], {\n\t      scrollingX: 1,\n\t      scrollingY: 0,\n\t      eventTarget: this.called_on\n\t    });\n\t  }\n\t\n\t  if (target !== 1) {\n\t    this.scrollme.reflow();\n\t  }\n\t  return;\n\t};\n\t\n\t\n\tfunction attach_canvas(DOMid, height, width, id, canv_width) {\n\t  var canvas = jbone(DOMid).find('#canv_' + id);\n\t\n\t  if (!canvas.length) {\n\t    jbone(DOMid).append('<canvas class=\"canvas_logo\" id=\"canv_' + id + '\"  height=\"' + height + '\" width=\"' + width + '\" style=\"left:' + canv_width * id + 'px\"></canvas>');\n\t    canvas = jbone(DOMid).find('#canv_' + id);\n\t  }\n\t\n\t  jbone(canvas).attr('width', width).attr('height', height);\n\t\n\t  return canvas[0];\n\t}\n\n\n/***/ },\n/* 134 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar draw_border = __webpack_require__(47);\n\tvar draw_ticks = __webpack_require__(49);\n\tvar draw_column_number = __webpack_require__(48);\n\t\n\tmodule.exports = function (start, end, context_num, borders) {\n\t  var x = 0,\n\t  column_num = start,\n\t  column_label = null,\n\t  i = 0,\n\t  top_height = Math.abs(this.data.max_height),\n\t  bottom_height = Math.abs(this.data.min_height_obs),\n\t  total_height = top_height + bottom_height,\n\t  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n\t  //convert % to pixels\n\t  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n\t  bottom_pix_height = this.info_content_height - top_pix_height,\n\t  mod = 10;\n\t\n\t\n\t  for (i = start; i <= end; i++) {\n\t    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n\t      this.contexts[context_num].fillStyle = '#cccccc';\n\t      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n\t    } else {\n\t      var column = this.data.heightArr[i - 1],\n\t      previous_height = 0,\n\t      previous_neg_height = top_pix_height,\n\t      letters = column.length,\n\t      j = 0;\n\t      for(var j in column){\n\t        values = [j,column[j]];\n\t        if (values[1] > 0.01) {\n\t          var letter_height = parseFloat(values[1]) / this.data.max_height,\n\t          x_pos = x,\n\t          glyph_height = (this.info_content_height - 2) * letter_height,\n\t          y_pos = (this.info_content_height - 2) - previous_height - glyph_height,\n\t          color = null;\n\t\n\t\n\t          if(this.colorscheme === 'dynamic'){\n\t            color = this.colors.getColor(values[0], {pos: i - 1} )\n\t          }else{\n\t            if(this.colorscheme === 'consensus') {\n\t              color = this.cmap[i - 1][values[0]] || \"#7a7a7a\";\n\t            } else {\n\t              color = this.colors[values[0]];\n\t            }\n\t          }\n\t\n\t          if (borders) {\n\t            this.contexts[context_num].strokeStyle = color;\n\t            this.contexts[context_num].strokeRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n\t          } else {\n\t            this.contexts[context_num].fillStyle = color;\n\t            this.contexts[context_num].fillRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n\t          }\n\t\n\t          previous_height = previous_height + glyph_height;\n\t        }\n\t      }\n\t    }\n\t\n\t\n\t    if (this.zoom < 0.2) {\n\t      mod = 20;\n\t    } else if (this.zoom < 0.3) {\n\t      mod = 10;\n\t    }\n\t\n\t    if(this.options.positionMarker){\n\t      if (i % mod === 0) {\n\t        // draw column dividers\n\t        if(this.options.show_probs){\n\t          draw_ticks(this.contexts[context_num], x + this.zoomed_column, this.height - 30, parseFloat(this.height), '#dddddd');\n\t        }\n\t        // draw top ticks\n\t        draw_ticks(this.contexts[context_num], x + this.zoomed_column, 0, 5);\n\t\n\t        // if ali_coordinates exist and toggle is set then display the\n\t        // alignment coordinates and not the model coordinates.\n\t        if (this.display_ali_map) {\n\t          column_label = this.data.ali_map[i - 1];\n\t        } else {\n\t          column_label = column_num;\n\t        }\n\t        // draw column numbers\n\t        draw_column_number(this.contexts[context_num], x - 2,  10, this.zoomed_column, column_label, 10, true);\n\t      }\n\t\n\t    }\n\t\n\t\n\t    // draw insert probabilities/lengths\n\t    if(this.options.show_probs){\n\t      draw_small_insert(\n\t        this.contexts[context_num],\n\t        x,\n\t        this.height - 42,\n\t        this.zoomed_column,\n\t        this.data.insert_probs[i - 1],\n\t        this.data.insert_lengths[i - 1],\n\t        this.data.delete_probs[i - 1],\n\t        this.show_inserts\n\t      );\n\t    }\n\t\n\t    if(this.options.show_probs){\n\t      // draw other dividers\n\t      if (this.show_inserts) {\n\t        draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n\t      } else {\n\t        draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n\t      }\n\t    }\n\t\n\t    if(this.options.border){\n\t      draw_border(this.contexts[context_num], 0, this.total_width);\n\t    }\n\t\n\t    x += this.zoomed_column;\n\t    column_num++;\n\t  }\n\t\n\t};\n\t\n\t\n\tfunction draw_small_insert(context, x, y, col_width, in_odds, in_length, del_odds, show_inserts) {\n\t  var fill = \"#ffffff\";\n\t  if (show_inserts) {\n\t    if (in_odds > 0.1) {\n\t      fill = '#d7301f';\n\t    } else if (in_odds > 0.05) {\n\t      fill = '#fc8d59';\n\t    } else if (in_odds > 0.03) {\n\t      fill = '#fdcc8a';\n\t    }\n\t    context.fillStyle = fill;\n\t    context.fillRect(x, y + 15, col_width, 10);\n\t\n\t    fill = \"#ffffff\";\n\t    // draw insert length\n\t    if (in_length > 9) {\n\t      fill = '#d7301f';\n\t    } else if (in_length > 7) {\n\t      fill = '#fc8d59';\n\t    } else if (in_length > 4) {\n\t      fill = '#fdcc8a';\n\t    }\n\t    context.fillStyle = fill;\n\t    context.fillRect(x, y + 30, col_width, 10);\n\t  } else {\n\t    y  = y + 30;\n\t  }\n\t\n\t  fill = \"#ffffff\";\n\t  // draw delete odds\n\t  if (del_odds < 0.75) {\n\t    fill = '#2171b5';\n\t  } else if (del_odds < 0.85) {\n\t    fill = '#6baed6';\n\t  } else if (del_odds < 0.95) {\n\t    fill = '#bdd7e7';\n\t  }\n\t  context.fillStyle = fill;\n\t  context.fillRect(x, y, col_width, 10);\n\t}\n\t\n\t\n\n\n/***/ },\n/* 135 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar draw_border = __webpack_require__(47);\n\tvar draw_ticks = __webpack_require__(49);\n\tvar draw_column_number = __webpack_require__(48);\n\t\n\tmodule.exports = function (start, end, context_num, fontsize) {\n\t  var x = 0,\n\t  column_num = start,\n\t  column_label = null,\n\t  i = 0,\n\t  top_height = Math.abs(this.data.max_height),\n\t  bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n\t  total_height = top_height + Math.abs(bottom_height),\n\t  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n\t  //convert % to pixels\n\t  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n\t  bottom_pix_height = this.info_content_height - top_pix_height,\n\t  // this is used to transform the 256px high letters into the correct size\n\t  // when displaying negative values, so that they fit above the 0 line.\n\t  top_pix_conversion = top_pix_height / this.info_content_height,\n\t  bottom_pix_conversion = bottom_pix_height / this.info_content_height;\n\t\n\t  // add 3 extra columns so that numbers don't get clipped at the end of a canvas\n\t  // that ends before a large column. DF0000830 was suffering at zoom level 0.6,\n\t  // column 2215. This adds a little extra overhead, but is the easiest fix for now.\n\t  if (end + 3 <= this.end) {\n\t    end += 3;\n\t  }\n\t\n\t  for (i = start; i <= end; i++) {\n\t    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n\t      this.contexts[context_num].fillStyle = '#cccccc';\n\t      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n\t    } else {\n\t      var column = this.data.heightArr[i - 1],\n\t      col_positions = [];\n\t      if (column) {\n\t        var previous_height = 0,\n\t        letters = column.length,\n\t        previous_neg_height = top_pix_height,\n\t        j = 0,\n\t        color = null;\n\t\n\t        for(var j in column){\n\t          var letter = column[j],\n\t          values = [j,letter];\n\t          x_pos = x + (this.zoomed_column / 2),\n\t          letter_height = null;\n\t\n\t          // we don't render anything with a value between 0 and 0.01. These\n\t          // letters would be too small to be meaningful on any scale, so we\n\t          // just squash them out.\n\t          if (values[1] > 0.01) {\n\t            letter_height = parseFloat(values[1]) / this.data.max_height;\n\t            var y_pos = (this.info_content_height - 2) - previous_height,\n\t            glyph_height = (this.info_content_height - 2) * letter_height;\n\t\n\t            col_positions[j] = [glyph_height, this.zoomed_column, x_pos, y_pos];\n\t            previous_height = previous_height + glyph_height;\n\t          }\n\t        }\n\t\n\t        // render the letters in reverse order so that the larger letters on the top\n\t        // don't clobber the smaller letters below them.\n\t        //for (j = letters; j >= 0; j--) {\n\t        for(var j in column){\n\t          if (col_positions[j] && this.letters[j]) {\n\t\n\t            if(this.colorscheme === 'dynamic'){\n\t              color = this.colors.getColor(j, {pos: i - 1} );\n\t            }else{\n\t              if (this.colorscheme === 'consensus') {\n\t                color = this.cmap[i - 1][j] || \"#7a7a7a\";\n\t              } else {\n\t                color = null;\n\t              }\n\t            }\n\t            this.letters[j].draw(this.contexts[context_num], col_positions[j][0], col_positions[j][1], col_positions[j][2], col_positions[j][3], color);\n\t          }\n\t        }\n\t      }\n\t    }\n\t\n\t\n\t    // if ali_coordinates exist and toggle is set then display the\n\t    // alignment coordinates and not the model coordinates.\n\t    if (this.display_ali_map) {\n\t      column_label = this.data.ali_map[i - 1];\n\t    } else {\n\t      column_label = column_num;\n\t    }\n\t\n\t    if(this.options.show_divider){\n\t      if (this.zoom < 0.7) {\n\t        if (i % this.options.divider_step === 0) {\n\t          draw_column_divider(this,{\n\t            context_num : context_num,\n\t            x : x,\n\t            fontsize: 10,\n\t            column_num: column_label,\n\t            ralign: true\n\t          });\n\t        }\n\t      } else {\n\t        draw_column_divider(this,{\n\t          context_num : context_num,\n\t          x : x,\n\t          fontsize: fontsize,\n\t          column_num: column_label\n\t        });\n\t      }\n\t    }\n\t\n\t    if(this.options.show_probs){\n\t      draw_delete_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.delete_probs[i - 1], fontsize, this.show_inserts);\n\t      //draw insert length ticks\n\t      draw_ticks(this.contexts[context_num], x, this.height - 15, 5);\n\t      if (this.show_inserts) {\n\t        draw_insert_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.insert_probs[i - 1], fontsize);\n\t        draw_insert_length(this.contexts[context_num], x, this.height - 5, this.zoomed_column, this.data.insert_lengths[i - 1], fontsize);\n\t\n\t        // draw delete probability ticks\n\t        draw_ticks(this.contexts[context_num], x, this.height - 45, 5);\n\t        // draw insert probability ticks\n\t        draw_ticks(this.contexts[context_num], x, this.height - 30, 5);\n\t      }\n\t\n\t    }\n\t\n\t    x += this.zoomed_column;\n\t    column_num++;\n\t  }\n\t\n\t\n\t  if(this.options.show_probs){\n\t    // draw other dividers\n\t    if (this.show_inserts) {\n\t      draw_border(this.contexts[context_num], this.height - 30, this.total_width);\n\t      draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n\t    }\n\t    draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n\t  }\n\t  if(this.options.border){\n\t    draw_border(this.contexts[context_num], 0, this.total_width);\n\t  }\n\t};\n\t\n\t\n\tfunction draw_delete_odds(context, x, height, col_width, text, fontsize, show_inserts) {\n\t  var y        = height - 4,\n\t  fill     = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (show_inserts) {\n\t    y = height - 35;\n\t  }\n\t\n\t  if (text < 0.75) {\n\t    fill     = '#2171b5';\n\t    textfill = '#ffffff';\n\t  } else if (text < 0.85) {\n\t    fill = '#6baed6';\n\t  } else if (text < 0.95) {\n\t    fill = '#bdd7e7';\n\t  }\n\t\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t}\n\t\n\tfunction draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill) {\n\t  context.font = fontsize + \"px Arial\";\n\t  context.fillStyle = fill;\n\t  context.fillRect(x, y - 10, col_width, 14);\n\t  context.textAlign = \"center\";\n\t  context.fillStyle = textfill;\n\t  context.fillText(text, x + (col_width / 2), y);\n\t}\n\t\n\tfunction draw_column_divider(inst, opts) {\n\t  var div_x = opts.ralign ? opts.x + inst.zoomed_column : opts.x,\n\t  num_x = opts.ralign ? opts.x + 2 : opts.x;\n\t  // draw column dividers\n\t  draw_ticks(inst.contexts[opts.context_num], div_x, inst.height - 30, -30 - inst.height, '#dddddd');\n\t  // draw top ticks\n\t  draw_ticks(inst.contexts[opts.context_num], div_x, 0, 5);\n\t  // draw column numbers\n\t  draw_column_number(inst.contexts[opts.context_num], num_x, 10, inst.zoomed_column, opts.column_num, opts.fontsize, opts.ralign);\n\t};\n\t\n\t\n\t\n\tfunction draw_insert_odds(context, x, height, col_width, text, fontsize) {\n\t  var y        = height - 20,\n\t  fill     = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (text > 0.1) {\n\t    fill     = '#d7301f';\n\t    textfill = '#ffffff';\n\t  } else if (text > 0.05) {\n\t    fill = '#fc8d59';\n\t  } else if (text > 0.03) {\n\t    fill = '#fdcc8a';\n\t  }\n\t\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t\n\t  //draw vertical line to indicate where the insert would occur\n\t  if (text > 0.03) {\n\t    draw_ticks(context, x + col_width, height - 30, -30 - height, fill);\n\t  }\n\t}\n\tfunction draw_insert_length(context, x, y, col_width, text, fontsize) {\n\t  var fill = '#ffffff',\n\t  textfill = '#555555';\n\t\n\t  if (text > 9) {\n\t    fill     = '#d7301f';\n\t    textfill = '#ffffff';\n\t  } else if (text > 7) {\n\t    fill = '#fc8d59';\n\t  } else if (text > 4) {\n\t    fill = '#fdcc8a';\n\t  }\n\t  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\t}\n\n\n/***/ },\n/* 136 */\n/***/ function(module, exports) {\n\n\t/*\n\t * JavaScript Canvas to Blob 2.0.5\n\t * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n\t *\n\t * Copyright 2012, Sebastian Tschan\n\t * https://blueimp.net\n\t *\n\t * Licensed under the MIT license:\n\t * http://www.opensource.org/licenses/MIT\n\t *\n\t * Based on stackoverflow user Stoive's code snippet:\n\t * http://stackoverflow.com/q/4998908\n\t */\n\tvar CanvasPrototype = window.HTMLCanvasElement &&\n\twindow.HTMLCanvasElement.prototype,\n\t  hasBlobConstructor = window.Blob && (function () {\n\t    try {\n\t      return Boolean(new Blob());\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }()),\n\t  hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n\t  (function () {\n\t    try {\n\t      return new Blob([new Uint8Array(100)]).size === 100;\n\t    } catch (e) {\n\t      return false;\n\t    }\n\t  }()),\n\t  BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n\t  window.MozBlobBuilder || window.MSBlobBuilder,\n\t  dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n\t  window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n\t    var byteString,\n\t    arrayBuffer,\n\t    intArray,\n\t      i,\n\t      mimeString,\n\t        bb;\n\t    if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n\t      // Convert base64 to raw binary data held in a string:\n\t      byteString = atob(dataURI.split(',')[1]);\n\t    } else {\n\t      // Convert base64/URLEncoded data component to raw binary data:\n\t      byteString = decodeURIComponent(dataURI.split(',')[1]);\n\t    }\n\t    // Write the bytes of the string to an ArrayBuffer:\n\t    arrayBuffer = new ArrayBuffer(byteString.length);\n\t    intArray = new Uint8Array(arrayBuffer);\n\t    for (i = 0; i < byteString.length; i += 1) {\n\t      intArray[i] = byteString.charCodeAt(i);\n\t    }\n\t    // Separate out the mime component:\n\t    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t    // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n\t    if (hasBlobConstructor) {\n\t      return new Blob(\n\t          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n\t          {type: mimeString}\n\t          );\n\t    }\n\t    bb = new BlobBuilder();\n\t    bb.append(arrayBuffer);\n\t    return bb.getBlob(mimeString);\n\t  };\n\tif (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n\t  if (CanvasPrototype.mozGetAsFile) {\n\t    CanvasPrototype.toBlob = function (callback, type, quality) {\n\t      if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n\t        callback(dataURLtoBlob(this.toDataURL(type, quality)));\n\t      } else {\n\t        callback(this.mozGetAsFile('blob', type));\n\t      }\n\t    };\n\t  } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n\t    CanvasPrototype.toBlob = function (callback, type, quality) {\n\t      callback(dataURLtoBlob(this.toDataURL(type, quality)));\n\t    };\n\t  }\n\t}\n\t\n\tmodule.exports = dataURLtoBlob;\n\n\n/***/ },\n/* 137 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {/* FileSaver.js\n\t *  A saveAs() FileSaver implementation.\n\t *  2014-05-27\n\t *\n\t *  By Eli Grey, http://eligrey.com\n\t *  License: X11/MIT\n\t *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n\t */\n\t\n\t/*global self */\n\t/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\t\n\t/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\t\n\tvar saveAs = saveAs\n\t  // IE 10+ (native saveAs)\n\t  || (typeof navigator !== \"undefined\" &&\n\t      navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))\n\t  // Everyone else\n\t  || (function(view) {\n\t\t\"use strict\";\n\t\t// IE <10 is explicitly unsupported\n\t\tif (typeof navigator !== \"undefined\" &&\n\t\t    /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\t\treturn;\n\t\t}\n\t\tvar\n\t\t\t  doc = view.document\n\t\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t\t, get_URL = function() {\n\t\t\t\treturn view.URL || view.webkitURL || view;\n\t\t\t}\n\t\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t\t, can_use_save_link = !view.externalHost && \"download\" in save_link\n\t\t\t, click = function(node) {\n\t\t\t\tvar event = doc.createEvent(\"MouseEvents\");\n\t\t\t\tevent.initMouseEvent(\n\t\t\t\t\t\"click\", true, false, view, 0, 0, 0, 0, 0\n\t\t\t\t\t, false, false, false, false, 0, null\n\t\t\t\t);\n\t\t\t\tnode.dispatchEvent(event);\n\t\t\t}\n\t\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t\t, throw_outside = function(ex) {\n\t\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\t\tthrow ex;\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t\t, fs_min_size = 0\n\t\t\t, deletion_queue = []\n\t\t\t, process_deletion_queue = function() {\n\t\t\t\tvar i = deletion_queue.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar file = deletion_queue[i];\n\t\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t\t} else { // file is a File\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdeletion_queue.length = 0; // clear queue\n\t\t\t}\n\t\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\t\tevent_types = [].concat(event_types);\n\t\t\t\tvar i = event_types.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t, FileSaver = function(blob, name) {\n\t\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\t\tvar\n\t\t\t\t\t  filesaver = this\n\t\t\t\t\t, type = blob.type\n\t\t\t\t\t, blob_changed = false\n\t\t\t\t\t, object_url\n\t\t\t\t\t, target_view\n\t\t\t\t\t, get_object_url = function() {\n\t\t\t\t\t\tvar object_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t\tdeletion_queue.push(object_url);\n\t\t\t\t\t\treturn object_url;\n\t\t\t\t\t}\n\t\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t\t}\n\t\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t\t, fs_error = function() {\n\t\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.open(object_url, \"_blank\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t}\n\t\t\t\t\t, abortable = function(func) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t\t, slice\n\t\t\t\t;\n\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\tif (!name) {\n\t\t\t\t\tname = \"download\";\n\t\t\t\t}\n\t\t\t\tif (can_use_save_link) {\n\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\t\tblob_changed = true;\n\t\t\t\t}\n\t\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\t\tname += \".download\";\n\t\t\t\t}\n\t\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\t\ttarget_view = view;\n\t\t\t\t}\n\t\t\t\tif (!req_fs) {\n\t\t\t\t\tfs_error();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfs_min_size += blob.size;\n\t\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\t\tdeletion_queue.push(file);\n\t\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}), fs_error);\n\t\t\t\t}), fs_error);\n\t\t\t}\n\t\t\t, FS_proto = FileSaver.prototype\n\t\t\t, saveAs = function(blob, name) {\n\t\t\t\treturn new FileSaver(blob, name);\n\t\t\t}\n\t\t;\n\t\tFS_proto.abort = function() {\n\t\t\tvar filesaver = this;\n\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\tdispatch(filesaver, \"abort\");\n\t\t};\n\t\tFS_proto.readyState = FS_proto.INIT = 0;\n\t\tFS_proto.WRITING = 1;\n\t\tFS_proto.DONE = 2;\n\t\n\t\tFS_proto.error =\n\t\tFS_proto.onwritestart =\n\t\tFS_proto.onprogress =\n\t\tFS_proto.onwrite =\n\t\tFS_proto.onabort =\n\t\tFS_proto.onerror =\n\t\tFS_proto.onwriteend =\n\t\t\tnull;\n\t\n\t\tview.addEventListener(\"unload\", process_deletion_queue, false);\n\t\tsaveAs.unload = function() {\n\t\t\tprocess_deletion_queue();\n\t\t\tview.removeEventListener(\"unload\", process_deletion_queue, false);\n\t\t};\n\t\treturn saveAs;\n\t}(\n\t\t   typeof self !== \"undefined\" && self\n\t\t|| typeof window !== \"undefined\" && window\n\t\t|| this.content\n\t));\n\t// `self` is undefined in Firefox for Android content script context\n\t// while `this` is nsIContentFrameMessageManager\n\t// with an attribute `content` that corresponds to the window\n\t\n\tamdDefine = window.define;\n\tif( typeof amdDefine === \"undefined\" && (typeof window.almond !== \"undefined\" \n\t    && \"define\" in window.almond )){\n\t  amdDefine = window.almond.define;\n\t}\n\t\n\tif (typeof module !== \"undefined\" && module !== null) {\n\t  module.exports = saveAs;\n\t} else if ((typeof amdDefine !== \"undefined\" && amdDefine !== null) && (amdDefine.amd != null)) {\n\t  amdDefine(\"saveAs\",[], function() {\n\t    return saveAs;\n\t  });\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(41)(module)))\n\n/***/ },\n/* 138 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(139)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".biojs_msa_stage{cursor:default;line-height:normal}.biojs_msa_seqblock{cursor:move}.biojs_msa_layer{display:block;white-space:nowrap}.biojs_msa_labels{color:#000;display:inline-block;cursor:pointer;vertical-align:middle;overflow:hidden;text-overflow:clip}.biojs_msa_header,.biojs_msa_labels{white-space:nowrap;text-align:left}.biojs_msa_labelrow:before{content:'';display:inline-block;width:0;height:100%;vertical-align:middle}.biojs_msa_labelrow{height:100%}.biojs_msa_labelblock::-webkit-scrollbar,.biojs_msa_rheader::-webkit-scrollbar{//:none;width:7px;height:7px}.biojs_msa_labelblock::-webkit-scrollbar-thumb,.biojs_msa_rheader::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}.biojs_msa_marker{color:grey;white-space:nowrap;cursor:pointer}.biojs_msa_marker span{text-align:center}.smenubar .smenubar_alink{background:#3498db;background-image:-webkit-linear-gradient(top,#3498db,#2980b9);background-image:linear-gradient(180deg,#3498db,#2980b9);border-radius:28px;font-family:Arial;color:#fff;padding:3px 10px;margin-left:10px;text-decoration:none}.smenubar{display:inline-block}.smenubar .smenubar_alink:hover{cursor:pointer}.smenu-dropdown{position:absolute;z-index:9999999;display:none}.smenu-dropdown .smenu-dropdown-menu,.smenu-dropdown .smenu-dropdown-panel{min-width:160px;max-width:360px;list-style:none;background:#fff;border:1px solid #ddd;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);overflow:visible;padding:4px 0;margin:0}.smenu-dropdown .smenu-dropdown-panel{padding:10px}.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel{max-height:358px;overflow:auto}.smenu-dropdown .smenu-dropdown-menu LI{list-style:none;padding:0;margin:0;line-height:18px}.smenu-dropdown .smenu-dropdown-menu LABEL,.smenu-dropdown .smenu-dropdown-menu LI{display:block;color:#555;text-decoration:none;line-height:18px;padding:3px 15px;white-space:nowrap}.smenu-dropdown .smenu-dropdown-menu LABEL:hover,.smenu-dropdown .smenu-dropdown-menu LI:hover{background-color:#08c;color:#fff;cursor:pointer}.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider{font-size:1px;border-top:1px solid #e5e5e5;padding:0;margin:5px 0}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 139 */\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 140 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(141);\n\n\n/***/ },\n/* 141 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar MenuBuilder, jbone, view;\n\t\n\tjbone = __webpack_require__(7);\n\tview = __webpack_require__(3);\n\t\n\tmodule.exports = MenuBuilder = view.extend({\n\t  initialize: function(opts) {\n\t    this._nodes = [];\n\t    this.name = opts.name || \"\";\n\t    this.el.className += \"smenubar\";\n\t  },\n\t  render: function() {\n\t\n\t    // remove all childs\n\t    var fc = this.el.firstChild;\n\t    while (fc) {\n\t      this.el.removeChild(fc);\n\t      fc = this.el.firstChild;\n\t    }\n\t\n\t    // replace child\n\t    this.el.appendChild(this.buildDOM());\n\t  },\n\t  setName: function(name) {\n\t    this.name = name;\n\t  },\n\t  addNode: function(label, callback, opts) {\n\t    var style;\n\t    if (opts != null) {\n\t      style = opts.style;\n\t    }\n\t    if (this._nodes == null) {\n\t      this._nodes = [];\n\t    }\n\t    this._nodes.push({\n\t      label: label,\n\t      callback: callback,\n\t      style: style\n\t    });\n\t  },\n\t\n\t  getNode: function(label) {\n\t    var rNode = undefined;\n\t    this._nodes.forEach(function(el) {\n\t      if (el.label === label) {\n\t        rNode = el;\n\t      }\n\t    });\n\t    return rNode;\n\t  },\n\t\n\t  modifyNode: function(label, callback, opts) {\n\t    var node = this.getNode(label);\n\t    node.callback = callback || node.callback;\n\t    opts = opts || {};\n\t    node.style = opts.style || node.style;\n\t  },\n\t\n\t  renameNode: function(label, newLabel) {\n\t    var node = this.getNode(label);\n\t    node.label = newLabel || node.label;\n\t  },\n\t\n\t  removeNode: function(label) {\n\t    var node = this.getNode(label);\n\t    this._nodes.splice(this._nodes.indexOf(node), 1);\n\t  },\n\t\n\t  removeAllNodes: function() {\n\t    this._nodes = [];\n\t  },\n\t\n\t  buildDOM: function() {\n\t    var span = document.createElement(\"span\");\n\t    span.appendChild(this._buildM({\n\t      nodes: this._nodes,\n\t      name: this.name\n\t    }));\n\t    return span;\n\t  },\n\t  _buildM: function(data) {\n\t    var displayedButton, frag, key, li, node, style, _ref;\n\t    var nodes = data.nodes;\n\t    var name = data.name;\n\t    var menu = document.createElement(\"div\");\n\t    menu.className = \"smenu-dropdown smenu-dropdown-tip\";\n\t    menu.style.display = \"none\";\n\t\n\t    var menuUl = document.createElement(\"ul\");\n\t    menuUl.className = \"smenu-dropdown-menu\";\n\t\n\t    // currently we support one-level\n\t    for (var i = 0, _len = nodes.length; i < _len; i++) {\n\t      node = nodes[i];\n\t      li = document.createElement(\"li\");\n\t      li.textContent = node.label;\n\t      _ref = node.style;\n\t      for (key in _ref) {\n\t        style = _ref[key];\n\t        li.style[key] = style;\n\t      }\n\t      li.addEventListener(\"click\", node.callback);\n\t      this.trigger(\"new:node\", li);\n\t      menuUl.appendChild(li);\n\t    }\n\t    this.trigger(\"new:menu\", menuUl);\n\t    menu.appendChild(menuUl);\n\t\n\t    displayedButton = document.createElement(\"a\");\n\t    displayedButton.textContent = name;\n\t    displayedButton.className = \"smenubar_alink\";\n\t    this.trigger(\"new:button\", displayedButton);\n\t\n\t    // HACK to be able to hide the submenu\n\t    // listens globally for click events\n\t    jbone(displayedButton).on(\"click\", (function(_this) {\n\t      return function(e) {\n\t        _this._showMenu(e, menu, displayedButton);\n\t        return window.setTimeout(function() {\n\t          return jbone(document.body).one(\"click\", function(e) {\n\t            return menu.style.display = \"none\";\n\t          });\n\t        }, 5);\n\t      };\n\t    })(this));\n\t\n\t    frag = document.createDocumentFragment();\n\t    frag.appendChild(menu);\n\t    frag.appendChild(displayedButton);\n\t    return frag;\n\t  },\n\t\n\t  // internal method to display the lower menu on a click\n\t  _showMenu: function(e, menu, target) {\n\t    var rect;\n\t    menu.style.display = \"block\";\n\t    menu.style.position = \"absolute\";\n\t    rect = target.getBoundingClientRect();\n\t    menu.style.left = rect.left + \"px\";\n\t    menu.style.top = (rect.top + target.offsetHeight) + \"px\";\n\t  }\n\t});\n\n\n/***/ },\n/* 142 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#00a35c\",\n\t  R: \"#00fc03\",\n\t  N: \"#00eb14\",\n\t  D: \"#00eb14\",\n\t  C: \"#0000ff\",\n\t  Q: \"#00f10e\",\n\t  E: \"#00f10e\",\n\t  G: \"#009d62\",\n\t  H: \"#00d52a\",\n\t  I: \"#0054ab\",\n\t  L: \"#007b84\",\n\t  K: \"#00ff00\",\n\t  M: \"#009768\",\n\t  F: \"#008778\",\n\t  P: \"#00e01f\",\n\t  S: \"#00d52a\",\n\t  T: \"#00db24\",\n\t  W: \"#00a857\",\n\t  Y: \"#00e619\",\n\t  V: \"#005fa0\",\n\t  B: \"#00eb14\",\n\t  X: \"#00b649\",\n\t  Z: \"#00f10e\"\n\t};\n\n\n/***/ },\n/* 143 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#BBBBBB\",\n\t  B: \"grey\",\n\t  C: \"yellow\",\n\t  D: \"red\",\n\t  E: \"red\",\n\t  F: \"magenta\",\n\t  G: \"brown\",\n\t  H: \"#00FFFF\",\n\t  I: \"#BBBBBB\",\n\t  J: \"#fff\",\n\t  K: \"#00FFFF\",\n\t  L: \"#BBBBBB\",\n\t  M: \"#BBBBBB\",\n\t  N: \"green\",\n\t  O: \"#fff\",\n\t  P: \"brown\",\n\t  Q: \"green\",\n\t  R: \"#00FFFF\",\n\t  S: \"green\",\n\t  T: \"green\",\n\t  U: \"#fff\",\n\t  V: \"#BBBBBB\",\n\t  W: \"magenta\",\n\t  X: \"grey\",\n\t  Y: \"magenta\",\n\t  Z: \"grey\",\n\t  Gap: \"grey\"\n\t};\n\n\n/***/ },\n/* 144 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"orange\",\n\t  B: \"#fff\",\n\t  C: \"green\",\n\t  D: \"red\",\n\t  E: \"red\",\n\t  F: \"blue\",\n\t  G: \"orange\",\n\t  H: \"red\",\n\t  I: \"green\",\n\t  J: \"#fff\",\n\t  K: \"red\",\n\t  L: \"green\",\n\t  M: \"green\",\n\t  N: \"#fff\",\n\t  O: \"#fff\",\n\t  P: \"orange\",\n\t  Q: \"#fff\",\n\t  R: \"red\",\n\t  S: \"orange\",\n\t  T: \"orange\",\n\t  U: \"#fff\",\n\t  V: \"green\",\n\t  W: \"blue\",\n\t  X: \"#fff\",\n\t  Y: \"blue\",\n\t  Z: \"#fff\",\n\t  Gap: \"#fff\"\n\t};\n\n\n/***/ },\n/* 145 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#80a0f0\",\n\t  R: \"#f01505\",\n\t  N: \"#00ff00\",\n\t  D: \"#c048c0\",\n\t  C: \"#f08080\",\n\t  Q: \"#00ff00\",\n\t  E: \"#c048c0\",\n\t  G: \"#f09048\",\n\t  H: \"#15a4a4\",\n\t  I: \"#80a0f0\",\n\t  L: \"#80a0f0\",\n\t  K: \"#f01505\",\n\t  M: \"#80a0f0\",\n\t  F: \"#80a0f0\",\n\t  P: \"#ffff00\",\n\t  S: \"#00ff00\",\n\t  T: \"#00ff00\",\n\t  W: \"#80a0f0\",\n\t  Y: \"#15a4a4\",\n\t  V: \"#80a0f0\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ },\n/* 146 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#e718e7\",\n\t  R: \"#6f906f\",\n\t  N: \"#1be41b\",\n\t  D: \"#778877\",\n\t  C: \"#23dc23\",\n\t  Q: \"#926d92\",\n\t  E: \"#ff00ff\",\n\t  G: \"#00ff00\",\n\t  H: \"#758a75\",\n\t  I: \"#8a758a\",\n\t  L: \"#ae51ae\",\n\t  K: \"#a05fa0\",\n\t  M: \"#ef10ef\",\n\t  F: \"#986798\",\n\t  P: \"#00ff00\",\n\t  S: \"#36c936\",\n\t  T: \"#47b847\",\n\t  W: \"#8a758a\",\n\t  Y: \"#21de21\",\n\t  V: \"#857a85\",\n\t  B: \"#49b649\",\n\t  X: \"#758a75\",\n\t  Z: \"#c936c9\"\n\t};\n\n\n/***/ },\n/* 147 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ad0052\",\n\t  B: \"#0c00f3\",\n\t  C: \"#c2003d\",\n\t  D: \"#0c00f3\",\n\t  E: \"#0c00f3\",\n\t  F: \"#cb0034\",\n\t  G: \"#6a0095\",\n\t  H: \"#1500ea\",\n\t  I: \"#ff0000\",\n\t  J: \"#fff\",\n\t  K: \"#0000ff\",\n\t  L: \"#ea0015\",\n\t  M: \"#b0004f\",\n\t  N: \"#0c00f3\",\n\t  O: \"#fff\",\n\t  P: \"#4600b9\",\n\t  Q: \"#0c00f3\",\n\t  R: \"#0000ff\",\n\t  S: \"#5e00a1\",\n\t  T: \"#61009e\",\n\t  U: \"#fff\",\n\t  V: \"#f60009\",\n\t  W: \"#5b00a4\",\n\t  X: \"#680097\",\n\t  Y: \"#4f00b0\",\n\t  Z: \"#0c00f3\"\n\t};\n\n\n/***/ },\n/* 148 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar schemes = __webpack_require__(154);\n\tvar StaticSchemeClass = schemes.stat;\n\tvar DynSchemeClass = schemes.dyn;\n\t\n\tvar Buried = __webpack_require__(142);\n\tvar Cinema = __webpack_require__(143);\n\tvar Clustal = __webpack_require__(144);\n\tvar Clustal2 = __webpack_require__(145);\n\tvar Helix = __webpack_require__(146);\n\tvar Hydro = __webpack_require__(147);\n\tvar Lesk = __webpack_require__(149);\n\tvar Mae = __webpack_require__(150);\n\tvar Nucleotide = __webpack_require__(151);\n\tvar Purine = __webpack_require__(153);\n\tvar Strand = __webpack_require__(155);\n\tvar Taylor = __webpack_require__(156);\n\tvar Turn = __webpack_require__(157);\n\tvar Zappo = __webpack_require__(158);\n\t\n\tvar staticSchemes = {\n\t  buried: Buried,\n\t  buried_index: Buried,\n\t  cinema: Cinema,\n\t  clustal2: Clustal2,\n\t  clustal: Clustal,\n\t  helix: Helix,\n\t  helix_propensity: Helix,\n\t  hydro: Hydro,\n\t  lesk: Lesk,\n\t  mae: Mae,\n\t  nucleotide: Nucleotide,\n\t  purine: Purine,\n\t  purine_pyrimidine: Purine,\n\t  strand: Strand,\n\t  strand_propensity: Strand,\n\t  taylor: Taylor,\n\t  turn: Turn,\n\t  turn_propensity: Turn,\n\t  zappo: Zappo\n\t};\n\t\n\tvar pid = __webpack_require__(152);\n\t\n\tvar dynSchemes = {\n\t  pid: pid\n\t};\n\t\n\tmodule.exports = Colors = function(opt){\n\t  this.maps = clone(staticSchemes);  \n\t  this.dyn = clone(dynSchemes);\n\t  this.opt = opt;\n\t}\n\tColors.getScheme = function(scheme){\n\t  return staticSchemes[scheme];\n\t}\n\tColors.prototype.getScheme = function(scheme) {\n\t  var color = this.maps[scheme];\n\t  if (color === undefined) {\n\t    color = {};\n\t    if(this.dyn[scheme] != undefined){\n\t      return new DynSchemeClass(this.dyn[scheme],this.opt);\n\t    }\n\t  }\n\t  return new StaticSchemeClass(color);\n\t};\n\t\n\tColors.prototype.addStaticScheme = function(name,scheme) {\n\t  this.maps[name] = scheme;\n\t}\n\t\n\tColors.prototype.addDynScheme = function(name,scheme) {\n\t  this.dyn[name] = scheme;\n\t}\n\t\n\t// small helper to clone an object\n\tfunction clone(obj) {\n\t  if (null == obj || \"object\" != typeof obj) return obj;\n\t  var copy = obj.constructor();\n\t  for (var attr in obj) {\n\t    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t  }\n\t  return copy;\n\t}\n\n\n/***/ },\n/* 149 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" orange\",\n\t  B: \" #fff\",\n\t  C: \" green\",\n\t  D: \" red\",\n\t  E: \" red\",\n\t  F: \" green\",\n\t  G: \" orange\",\n\t  H: \" magenta\",\n\t  I: \" green\",\n\t  J: \" #fff\",\n\t  K: \" red\",\n\t  L: \" green\",\n\t  M: \" green\",\n\t  N: \" magenta\",\n\t  O: \" #fff\",\n\t  P: \" green\",\n\t  Q: \" magenta\",\n\t  R: \" red\",\n\t  S: \" orange\",\n\t  T: \" orange\",\n\t  U: \" #fff\",\n\t  V: \" green\",\n\t  W: \" green\",\n\t  X: \" #fff\",\n\t  Y: \" green\",\n\t  Z: \" #fff\",\n\t  Gap: \" #fff\"\n\t};\n\n\n/***/ },\n/* 150 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #77dd88\",\n\t  B: \" #fff\",\n\t  C: \" #99ee66\",\n\t  D: \" #55bb33\",\n\t  E: \" #55bb33\",\n\t  F: \" #9999ff\",\n\t  G: \" #77dd88\",\n\t  H: \" #5555ff\",\n\t  I: \" #66bbff\",\n\t  J: \" #fff\",\n\t  K: \" #ffcc77\",\n\t  L: \" #66bbff\",\n\t  M: \" #66bbff\",\n\t  N: \" #55bb33\",\n\t  O: \" #fff\",\n\t  P: \" #eeaaaa\",\n\t  Q: \" #55bb33\",\n\t  R: \" #ffcc77\",\n\t  S: \" #ff4455\",\n\t  T: \" #ff4455\",\n\t  U: \" #fff\",\n\t  V: \" #66bbff\",\n\t  W: \" #9999ff\",\n\t  X: \" #fff\",\n\t  Y: \" #9999ff\",\n\t  Z: \" #fff\",\n\t  Gap: \" #fff\"\n\t};\n\n\n/***/ },\n/* 151 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #64F73F\",\n\t  C: \" #FFB340\",\n\t  G: \" #EB413C\",\n\t  T: \" #3C88EE\",\n\t  U: \" #3C88EE\"\n\t};\n\n\n/***/ },\n/* 152 */\n/***/ function(module, exports) {\n\n\tvar pid;\n\tmodule.exports = pid = {};\n\t\n\t// calculating the conservation is expensive \n\t// we only want to do it once\n\tpid.init = function(){\n\t  this.cons = this.opt.conservation();\n\t}\n\t\n\tpid.run = function(letter,opts){\n\t  var cons = this.cons[opts.pos];\n\t  if(cons > 0.8){\n\t    return \"#6464ff\";\n\t  }else if(cons > 0.6){\n\t    return \"#9da5ff\";\n\t  }else if(cons > 0.4){\n\t    return \"#cccccc\";\n\t  }else{\n\t    return \"#ffffff\";\n\t  }\n\t}\n\n\n/***/ },\n/* 153 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \" #FF83FA\",\n\t  C: \" #40E0D0\",\n\t  G: \" #FF83FA\",\n\t  R: \" #FF83FA\",\n\t  T: \" #40E0D0\",\n\t  U: \" #40E0D0\",\n\t  Y: \" #40E0D0\"\n\t};\n\n\n/***/ },\n/* 154 */\n/***/ function(module, exports) {\n\n\tvar StaticSchemeClass = function(map){\n\t  this.defaultColor = \"#ffffff\";\n\t  this.type = \"static\";\n\t  this.map = map;\n\t  this.getColor = function(letter){\n\t    if(this.map[letter] !== undefined){\n\t      return this.map[letter]; \n\t    }else{\n\t      return this.defaultColor;\n\t    }\n\t  };\n\t};\n\t\n\tvar DynSchemeClass = function(fun,opt){\n\t  this.type = \"dyn\";\n\t  this.opt = opt;\n\t  // init\n\t  if(fun.init !== undefined){\n\t    fun.init.call(this);\n\t    this.getColor = fun.run;\n\t    this.reset = fun.init;\n\t  }else{\n\t    this.getColor = fun;\n\t  }\n\t};\n\tmodule.exports.stat = StaticSchemeClass;\n\tmodule.exports.dyn = DynSchemeClass;\n\n\n/***/ },\n/* 155 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#5858a7\",\n\t  R: \"#6b6b94\",\n\t  N: \"#64649b\",\n\t  D: \"#2121de\",\n\t  C: \"#9d9d62\",\n\t  Q: \"#8c8c73\",\n\t  E: \"#0000ff\",\n\t  G: \"#4949b6\",\n\t  H: \"#60609f\",\n\t  I: \"#ecec13\",\n\t  L: \"#b2b24d\",\n\t  K: \"#4747b8\",\n\t  M: \"#82827d\",\n\t  F: \"#c2c23d\",\n\t  P: \"#2323dc\",\n\t  S: \"#4949b6\",\n\t  T: \"#9d9d62\",\n\t  W: \"#c0c03f\",\n\t  Y: \"#d3d32c\",\n\t  V: \"#ffff00\",\n\t  B: \"#4343bc\",\n\t  X: \"#797986\",\n\t  Z: \"#4747b8\"\n\t};\n\n\n/***/ },\n/* 156 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ccff00\",\n\t  R: \"#0000ff\",\n\t  N: \"#cc00ff\",\n\t  D: \"#ff0000\",\n\t  C: \"#ffff00\",\n\t  Q: \"#ff00cc\",\n\t  E: \"#ff0066\",\n\t  G: \"#ff9900\",\n\t  H: \"#0066ff\",\n\t  I: \"#66ff00\",\n\t  L: \"#33ff00\",\n\t  K: \"#6600ff\",\n\t  M: \"#00ff00\",\n\t  F: \"#00ff66\",\n\t  P: \"#ffcc00\",\n\t  S: \"#ff3300\",\n\t  T: \"#ff6600\",\n\t  W: \"#00ccff\",\n\t  Y: \"#00ffcc\",\n\t  V: \"#99ff00\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ },\n/* 157 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#2cd3d3\",\n\t  R: \"#708f8f\",\n\t  N: \"#ff0000\",\n\t  D: \"#e81717\",\n\t  C: \"#a85757\",\n\t  Q: \"#3fc0c0\",\n\t  E: \"#778888\",\n\t  G: \"#ff0000\",\n\t  H: \"#708f8f\",\n\t  I: \"#00ffff\",\n\t  L: \"#1ce3e3\",\n\t  K: \"#7e8181\",\n\t  M: \"#1ee1e1\",\n\t  F: \"#1ee1e1\",\n\t  P: \"#f60909\",\n\t  S: \"#e11e1e\",\n\t  T: \"#738c8c\",\n\t  W: \"#738c8c\",\n\t  Y: \"#9d6262\",\n\t  V: \"#07f8f8\",\n\t  B: \"#f30c0c\",\n\t  X: \"#7c8383\",\n\t  Z: \"#5ba4a4\"\n\t};\n\n\n/***/ },\n/* 158 */\n/***/ function(module, exports) {\n\n\tmodule.exports = {\n\t  A: \"#ffafaf\",\n\t  R: \"#6464ff\",\n\t  N: \"#00ff00\",\n\t  D: \"#ff0000\",\n\t  C: \"#ffff00\",\n\t  Q: \"#00ff00\",\n\t  E: \"#ff0000\",\n\t  G: \"#ff00ff\",\n\t  H: \"#6464ff\",\n\t  I: \"#ffafaf\",\n\t  L: \"#ffafaf\",\n\t  K: \"#6464ff\",\n\t  M: \"#ffafaf\",\n\t  F: \"#ffc800\",\n\t  P: \"#ff00ff\",\n\t  S: \"#00ff00\",\n\t  T: \"#00ff00\",\n\t  W: \"#ffc800\",\n\t  Y: \"#ffc800\",\n\t  V: \"#ffafaf\",\n\t  B: \"#fff\",\n\t  X: \"#fff\",\n\t  Z: \"#fff\"\n\t};\n\n\n/***/ },\n/* 159 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ },\n/* 160 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(138);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(159)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./msa.css\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./msa.css\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 161 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {if (typeof window !== \"undefined\") {\n\t    module.exports = window;\n\t} else if (typeof global !== \"undefined\") {\n\t    module.exports = global;\n\t} else if (typeof self !== \"undefined\"){\n\t    module.exports = self;\n\t} else {\n\t    module.exports = {};\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 162 */\n/***/ function(module, exports) {\n\n\tmodule.exports = once\n\t\n\tonce.proto = once(function () {\n\t  Object.defineProperty(Function.prototype, 'once', {\n\t    value: function () {\n\t      return once(this)\n\t    },\n\t    configurable: true\n\t  })\n\t})\n\t\n\tfunction once (fn) {\n\t  var called = false\n\t  return function () {\n\t    if (called) return\n\t    called = true\n\t    return fn.apply(this, arguments)\n\t  }\n\t}\n\n\n/***/ },\n/* 163 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(164)\n\t\n\tmodule.exports = forEach\n\t\n\tvar toString = Object.prototype.toString\n\tvar hasOwnProperty = Object.prototype.hasOwnProperty\n\t\n\tfunction forEach(list, iterator, context) {\n\t    if (!isFunction(iterator)) {\n\t        throw new TypeError('iterator must be a function')\n\t    }\n\t\n\t    if (arguments.length < 3) {\n\t        context = this\n\t    }\n\t    \n\t    if (toString.call(list) === '[object Array]')\n\t        forEachArray(list, iterator, context)\n\t    else if (typeof list === 'string')\n\t        forEachString(list, iterator, context)\n\t    else\n\t        forEachObject(list, iterator, context)\n\t}\n\t\n\tfunction forEachArray(array, iterator, context) {\n\t    for (var i = 0, len = array.length; i < len; i++) {\n\t        if (hasOwnProperty.call(array, i)) {\n\t            iterator.call(context, array[i], i, array)\n\t        }\n\t    }\n\t}\n\t\n\tfunction forEachString(string, iterator, context) {\n\t    for (var i = 0, len = string.length; i < len; i++) {\n\t        // no such thing as a sparse string.\n\t        iterator.call(context, string.charAt(i), i, string)\n\t    }\n\t}\n\t\n\tfunction forEachObject(object, iterator, context) {\n\t    for (var k in object) {\n\t        if (hasOwnProperty.call(object, k)) {\n\t            iterator.call(context, object[k], k, object)\n\t        }\n\t    }\n\t}\n\n\n/***/ },\n/* 164 */\n/***/ function(module, exports) {\n\n\tmodule.exports = isFunction\n\t\n\tvar toString = Object.prototype.toString\n\t\n\tfunction isFunction (fn) {\n\t  var string = toString.call(fn)\n\t  return string === '[object Function]' ||\n\t    (typeof fn === 'function' && string !== '[object RegExp]') ||\n\t    (typeof window !== 'undefined' &&\n\t     // IE8 and below\n\t     (fn === window.setTimeout ||\n\t      fn === window.alert ||\n\t      fn === window.confirm ||\n\t      fn === window.prompt))\n\t};\n\n\n/***/ },\n/* 165 */\n/***/ function(module, exports) {\n\n\t\n\texports = module.exports = trim;\n\t\n\tfunction trim(str){\n\t  return str.replace(/^\\s*|\\s*$/g, '');\n\t}\n\t\n\texports.left = function(str){\n\t  return str.replace(/^\\s*/, '');\n\t};\n\t\n\texports.right = function(str){\n\t  return str.replace(/\\s*$/, '');\n\t};\n\n\n/***/ },\n/* 166 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar trim = __webpack_require__(165)\n\t  , forEach = __webpack_require__(163)\n\t  , isArray = function(arg) {\n\t      return Object.prototype.toString.call(arg) === '[object Array]';\n\t    }\n\t\n\tmodule.exports = function (headers) {\n\t  if (!headers)\n\t    return {}\n\t\n\t  var result = {}\n\t\n\t  forEach(\n\t      trim(headers).split('\\n')\n\t    , function (row) {\n\t        var index = row.indexOf(':')\n\t          , key = trim(row.slice(0, index)).toLowerCase()\n\t          , value = trim(row.slice(index + 1))\n\t\n\t        if (typeof(result[key]) === 'undefined') {\n\t          result[key] = value\n\t        } else if (isArray(result[key])) {\n\t          result[key].push(value)\n\t        } else {\n\t          result[key] = [ result[key], value ]\n\t        }\n\t      }\n\t  )\n\t\n\t  return result\n\t}\n\n/***/ },\n/* 167 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./colorscheme\": 22,\n\t\t\"./colorscheme.js\": 22,\n\t\t\"./columns\": 23,\n\t\t\"./columns.js\": 23,\n\t\t\"./config\": 24,\n\t\t\"./config.js\": 24,\n\t\t\"./package\": 25,\n\t\t\"./package.js\": 25,\n\t\t\"./selection/Selection\": 8,\n\t\t\"./selection/Selection.js\": 8,\n\t\t\"./selection/SelectionCol\": 9,\n\t\t\"./selection/SelectionCol.js\": 9,\n\t\t\"./selection/index\": 42,\n\t\t\"./selection/index.js\": 42,\n\t\t\"./user\": 26,\n\t\t\"./user.js\": 26,\n\t\t\"./visOrdering\": 27,\n\t\t\"./visOrdering.js\": 27,\n\t\t\"./visibility\": 28,\n\t\t\"./visibility.js\": 28,\n\t\t\"./zoomer\": 29,\n\t\t\"./zoomer.js\": 29\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 167;\n\n\n/***/ },\n/* 168 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./bmath\": 12,\n\t\t\"./bmath.js\": 12,\n\t\t\"./export\": 13,\n\t\t\"./export.js\": 13,\n\t\t\"./file\": 14,\n\t\t\"./file.js\": 14,\n\t\t\"./index\": 34,\n\t\t\"./index.js\": 34,\n\t\t\"./loader\": 15,\n\t\t\"./loader.js\": 15,\n\t\t\"./proxy\": 16,\n\t\t\"./proxy.js\": 16,\n\t\t\"./seqgen\": 35,\n\t\t\"./seqgen.js\": 35,\n\t\t\"./svg\": 10,\n\t\t\"./svg.js\": 10,\n\t\t\"./tree\": 36,\n\t\t\"./tree.js\": 36\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 168;\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** dist/msa.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a089c5e9034f103c5a72\n **/","// trick to bundle the css\nrequire('./../css/msa.css')\nmodule.exports = require('./index')\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index_webpack.js\n **/","//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.8.3';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result — either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property('length');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != 'number' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object's values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array's elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == 'number') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object's methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error('bindAll must be passed function names');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you'd like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = 'constructor';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object's own properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case '[object RegExp]':\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return '' + a === '' + b;\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === '[object Array]';\n    if (!areArrays) {\n      if (typeof a != 'object' || typeof b != 'object') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && ('constructor' in a && 'constructor' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It's done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) === '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, 'callee');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\n    _.isFunction = function(obj) {\n      return typeof obj == 'function' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#x27;',\n    '`': '&#x60;'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = '(?:' + _.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function(string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return '\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      } else if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      } else if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + 'return __p;\\n';\n\n    try {\n      var render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || 'obj';\n    template.source = 'function(' + argument + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return '' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === 'function' && define.amd) {\n    define('underscore', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/underscore/underscore.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports.Model = require(\"./model\");\nmodule.exports.Collection = require(\"./collection\");\nmodule.exports.Events = require(\"backbone-events-standalone\");\nmodule.exports.extend = require(\"backbone-extend-standalone\");\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/index.js\n ** module id = 2\n ** module chunks = 0\n **/","// this is the extracted view model from backbone\n// note that we inject jbone as jquery replacment\n// (and underscore directly)\n//\n// Views are almost more convention than they are actual code.\n//  MVC pattern\n// Backbone.View\n// -------------\n\nvar _ = require(\"underscore\");\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar $ = require('jbone');\n\n// Backbone Views are almost more convention than they are actual code. A View\n// is simply a JavaScript object that represents a logical chunk of UI in the\n// DOM. This might be a single item, an entire list, a sidebar or panel, or\n// even the surrounding frame which wraps your whole app. Defining a chunk of\n// UI as a **View** allows you to define your DOM events declaratively, without\n// having to worry about render order ... and makes it easy for the view to\n// react to specific changes in the state of your models.\n\n// Creating a Backbone.View creates its initial element outside of the DOM,\n// if an existing element is not provided...\nvar View =  function(options) {\n  this.cid = _.uniqueId('view');\n  options || (options = {});\n  _.extend(this, _.pick(options, viewOptions));\n  this._ensureElement();\n  this.initialize.apply(this, arguments);\n};\n\n// Cached regex to split keys for `delegate`.\nvar delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n// List of view options to be merged as properties.\nvar viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n// Set up all inheritable **Backbone.View** properties and methods.\n_.extend(View.prototype, Events, {\n\n  // The default `tagName` of a View's element is `\"div\"`.\n  tagName: 'div',\n\n  // jQuery delegate for element lookup, scoped to DOM elements within the\n  // current view. This should be preferred to global lookups where possible.\n  $: function(selector) {\n    return this.$el.find(selector);\n  },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n  initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n  render: function() {\n    return this;\n  },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n  remove: function() {\n    this._removeElement();\n    this.stopListening();\n    return this;\n  },\n\n    // Remove this view's element from the document and all event listeners\n    // attached to it. Exposed for subclasses using an alternative DOM\n    // manipulation API.\n  _removeElement: function() {\n    this.$el.remove();\n  },\n\n    // Change the view's element (`this.el` property) and re-delegate the\n    // view's events on the new element.\n  setElement: function(element) {\n    this.undelegateEvents();\n    this._setElement(element);\n    this.delegateEvents();\n    return this;\n  },\n\n    // Creates the `this.el` and `this.$el` references for this view using the\n    // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n    // context or an element. Subclasses can override this to utilize an\n    // alternative DOM manipulation API and are only required to set the\n    // `this.el` property.\n  _setElement: function(el) {\n    this.$el = el instanceof $ ? el : $(el);\n    this.el = this.$el[0];\n  },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{\"event selector\": \"callback\"}*\n    //\n    //     {\n    //       'mousedown .title':  'edit',\n    //       'click .button':     'save',\n    //       'click .open':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n  delegateEvents: function(events) {\n    if (!(events || (events = _.result(this, 'events')))) return this;\n    this.undelegateEvents();\n    for (var key in events) {\n      var method = events[key];\n      if (!_.isFunction(method)) method = this[events[key]];\n      if (!method) continue;\n      var match = key.match(delegateEventSplitter);\n      this.delegate(match[1], match[2], _.bind(method, this));\n    }\n    return this;\n  },\n\n    // Add a single event listener to the view's element (or a child element\n    // using `selector`). This only works for delegate-able events: not `focus`,\n    // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n  delegate: function(eventName, selector, listener) {\n    this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n  },\n\n    // Clears all callbacks previously bound to the view by `delegateEvents`.\n    // You usually don't need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n  undelegateEvents: function() {\n    if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n    return this;\n  },\n\n    // A finer-grained `undelegateEvents` for removing a single delegated event.\n    // `selector` and `listener` are both optional.\n  undelegate: function(eventName, selector, listener) {\n    this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n  },\n\n    // Produces a DOM element to be assigned to your view. Exposed for\n    // subclasses using an alternative DOM manipulation API.\n  _createElement: function(tagName) {\n    return document.createElement(tagName);\n  },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n  _ensureElement: function() {\n    if (!this.el) {\n      var attrs = _.extend({}, _.result(this, 'attributes'));\n      if (this.id) attrs.id = _.result(this, 'id');\n      if (this.className) attrs['class'] = _.result(this, 'className');\n      this.setElement(this._createElement(_.result(this, 'tagName')));\n      this._setAttributes(attrs);\n    } else {\n      this.setElement(_.result(this, 'el'));\n    }\n  },\n\n    // Set attributes from a hash on this view's element.  Exposed for\n    // subclasses using an alternative DOM manipulation API.\n  _setAttributes: function(attributes) {\n    this.$el.attr(attributes);\n  }\n\n});\n\n// setup inheritance\nView.extend = extend;\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-viewj/index.js\n ** module id = 3\n ** module chunks = 0\n **/","var MenuBuilder;\nvar builder = require(\"menu-builder\");\n\nmodule.exports = MenuBuilder = builder.extend({\n\n    buildDOM: function() {\n      this.on(\"new:node\", this.buildNode);\n      this.on(\"new:button\", this.buildButton);\n      this.on(\"new:menu\", this.buildMenu);\n      return builder.prototype.buildDOM.call(this);\n    },\n\n    buildNode: function(li) {\n      if ((this.g != null)) {\n        return li.style.lineHeight = this.g.menuconfig.get(\"menuItemLineHeight\");\n      }\n    },\n\n    buildButton: function(btn) {\n      if ((this.g != null)) {\n        btn.style.fontSize = this.g.menuconfig.get(\"menuFontsize\");\n        btn.style.marginLeft = this.g.menuconfig.get(\"menuMarginLeft\");\n        return btn.style.padding = this.g.menuconfig.get(\"menuPadding\");\n      }\n    },\n\n    buildMenu: function(menu) {\n      if ((this.g != null)) {\n        return menu.style.fontSize = this.g.menuconfig.get(\"menuItemFontsize\");\n      }\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/menubuilder.js\n **/","var _ = require('underscore');\nvar viewType = require(\"backbone-viewj\");\nvar pluginator;\n\n/**\n * Remove an element and provide a function that inserts it into its original position\n * @param element {Element} The element to be temporarily removed\n * @return {Function} A function that inserts the element into its original position\n **/\nfunction removeToInsertLater(element) {\n  var parentNode = element.parentNode;\n  var nextSibling = element.nextSibling;\n  parentNode.removeChild(element);\n  return function() {\n    if (nextSibling) {\n      parentNode.insertBefore(element, nextSibling);\n    } else {\n      parentNode.appendChild(element);\n    }\n  };\n}\n\nvar removeChilds = function (node) {\n    var last;\n    while (last = node.lastChild) node.removeChild(last);\n};\n\nmodule.exports = pluginator = viewType.extend({\n  renderSubviews: function() {\n    // it is faster to remove the entire element and replace it\n    // -> however this will lead to lost id,class and style props\n    var oldEl = this.el;\n\n    // it might be that the element is not on the DOM yet\n    var elOnDom = oldEl.parentNode != undefined;\n    if(elOnDom){\n      var insert = removeToInsertLater(oldEl)\n    }\n    removeChilds(oldEl);\n\n    var frag = document.createDocumentFragment();\n    var views = this._views();\n    var viewsSorted = _.sortBy(views, function(el) {\n      return el.ordering;\n    });\n    var view, node;\n    for (var i = 0; i <  viewsSorted.length; i++) {\n      view = viewsSorted[i];\n      view.render();\n      node = view.el;\n      if (node != null) {\n        frag.appendChild(node);\n      }\n    }\n\n    oldEl.appendChild(frag);\n    if(elOnDom){\n      insert();\n    }\n    return oldEl;\n  },\n  addView: function(key, view) {\n    var views = this._views();\n    if (view == null) {\n      throw \"Invalid plugin. \";\n    }\n    if (view.ordering == null) {\n      view.ordering = key;\n    }\n    return views[key] = view;\n  },\n  removeViews: function() {\n    var el, key;\n    var views = this._views();\n    for (key in views) {\n      el = views[key];\n      el.undelegateEvents();\n      el.unbind();\n      if (el.removeViews != null) {\n        el.removeViews();\n      }\n      el.remove();\n    }\n    return this.views = {};\n  },\n  removeView: function(key) {\n    var views = this._views();\n    views[key].remove();\n    return delete views[key];\n  },\n  getView: function(key) {\n    var views = this._views();\n    return views[key];\n  },\n  remove: function() {\n    this.removeViews();\n    return viewType.prototype.remove.apply(this);\n  },\n  _views: function() {\n    if (this.views == null) {\n      this.views = {};\n    }\n    return this.views;\n  }\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-childs/index.js\n ** module id = 5\n ** module chunks = 0\n **/","var Utils = {};\n\n\n/*\nRemove an element and provide a function that inserts it into its original position\nhttps://developers.google.com/speed/articles/javascript-dom\n@param element {Element} The element to be temporarily removed\n@return {Function} A function that inserts the element into its original position\n */\n\nUtils.removeToInsertLater = function(element) {\n  var nextSibling, parentNode;\n  parentNode = element.parentNode;\n  nextSibling = element.nextSibling;\n  parentNode.removeChild(element);\n  return function() {\n    if (nextSibling) {\n      parentNode.insertBefore(element, nextSibling);\n    } else {\n      parentNode.appendChild(element);\n    }\n  };\n};\n\n\n/*\nfastest possible way to destroy all sub nodes (aka childs)\nhttp://jsperf.com/innerhtml-vs-removechild/15\n@param element {Element} The element for which all childs should be removed\n */\n\nUtils.removeAllChilds = function(element) {\n  var count;\n  count = 0;\n  while (element.firstChild) {\n    count++;\n    element.removeChild(element.firstChild);\n  }\n};\n\nmodule.exports = Utils;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/dom-helper/index.js\n ** module id = 6\n ** module chunks = 0\n **/","/*!\n * jBone v1.2.0 - 2016-04-13 - Library for DOM manipulation\n *\n * http://jbone.js.org\n *\n * Copyright 2016 Alexey Kupriyanenko\n * Released under the MIT license.\n */\n\n(function (win) {\n\nvar\n// cache previous versions\n_$ = win.$,\n_jBone = win.jBone,\n\n// Quick match a standalone tag\nrquickSingleTag = /^<(\\w+)\\s*\\/?>$/,\n\n// A simple way to check for HTML strings\n// Prioritize #id over <tag> to avoid XSS via location.hash\nrquickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\n// Alias for function\nslice = [].slice,\nsplice = [].splice,\nkeys = Object.keys,\n\n// Alias for global variables\ndoc = document,\n\nisString = function(el) {\n    return typeof el === \"string\";\n},\nisObject = function(el) {\n    return el instanceof Object;\n},\nisFunction = function(el) {\n    return ({}).toString.call(el) === \"[object Function]\";\n},\nisArray = function(el) {\n    return Array.isArray(el);\n},\njBone = function(element, data) {\n    return new fn.init(element, data);\n},\nfn;\n\n// set previous values and return the instance upon calling the no-conflict mode\njBone.noConflict = function() {\n    win.$ = _$;\n    win.jBone = _jBone;\n\n    return jBone;\n};\n\nfn = jBone.fn = jBone.prototype = {\n    init: function(element, data) {\n        var elements, tag, wraper, fragment;\n\n        if (!element) {\n            return this;\n        }\n        if (isString(element)) {\n            // Create single DOM element\n            if (tag = rquickSingleTag.exec(element)) {\n                this[0] = doc.createElement(tag[1]);\n                this.length = 1;\n\n                if (isObject(data)) {\n                    this.attr(data);\n                }\n\n                return this;\n            }\n            // Create DOM collection\n            if ((tag = rquickExpr.exec(element)) && tag[1]) {\n                fragment = doc.createDocumentFragment();\n                wraper = doc.createElement(\"div\");\n                wraper.innerHTML = element;\n                while (wraper.lastChild) {\n                    fragment.appendChild(wraper.firstChild);\n                }\n                elements = slice.call(fragment.childNodes);\n\n                return jBone.merge(this, elements);\n            }\n            // Find DOM elements with querySelectorAll\n            if (jBone.isElement(data)) {\n                return jBone(data).find(element);\n            }\n\n            try {\n                elements = doc.querySelectorAll(element);\n\n                return jBone.merge(this, elements);\n            } catch (e) {\n                return this;\n            }\n        }\n        // Wrap DOMElement\n        if (element.nodeType) {\n            this[0] = element;\n            this.length = 1;\n\n            return this;\n        }\n        // Run function\n        if (isFunction(element)) {\n            return element();\n        }\n        // Return jBone element as is\n        if (element instanceof jBone) {\n            return element;\n        }\n\n        // Return element wrapped by jBone\n        return jBone.makeArray(element, this);\n    },\n\n    pop: [].pop,\n    push: [].push,\n    reverse: [].reverse,\n    shift: [].shift,\n    sort: [].sort,\n    splice: [].splice,\n    slice: [].slice,\n    indexOf: [].indexOf,\n    forEach: [].forEach,\n    unshift: [].unshift,\n    concat: [].concat,\n    join: [].join,\n    every: [].every,\n    some: [].some,\n    filter: [].filter,\n    map: [].map,\n    reduce: [].reduce,\n    reduceRight: [].reduceRight,\n    length: 0\n};\n\nfn.constructor = jBone;\n\nfn.init.prototype = fn;\n\njBone.setId = function(el) {\n    var jid = el.jid;\n\n    if (el === win) {\n        jid = \"window\";\n    } else if (el.jid === undefined) {\n        el.jid = jid = ++jBone._cache.jid;\n    }\n\n    if (!jBone._cache.events[jid]) {\n        jBone._cache.events[jid] = {};\n    }\n};\n\njBone.getData = function(el) {\n    el = el instanceof jBone ? el[0] : el;\n\n    var jid = el === win ? \"window\" : el.jid;\n\n    return {\n        jid: jid,\n        events: jBone._cache.events[jid]\n    };\n};\n\njBone.isElement = function(el) {\n    return el && el instanceof jBone || el instanceof HTMLElement || isString(el);\n};\n\njBone._cache = {\n    events: {},\n    jid: 0\n};\n\nfunction isArraylike(obj) {\n    var length = obj.length,\n        type = typeof obj;\n\n    if (isFunction(type) || obj === win) {\n        return false;\n    }\n\n    if (obj.nodeType === 1 && length) {\n        return true;\n    }\n\n    return isArray(type) || length === 0 ||\n        typeof length === \"number\" && length > 0 && (length - 1) in obj;\n}\n\nfn.pushStack = function(elems) {\n    var ret = jBone.merge(this.constructor(), elems);\n\n    return ret;\n};\n\njBone.merge = function(first, second) {\n    var l = second.length,\n        i = first.length,\n        j = 0;\n\n    while (j < l) {\n        first[i++] = second[j++];\n    }\n\n    first.length = i;\n\n    return first;\n};\n\njBone.contains = function(container, contained) {\n    return container.contains(contained);\n};\n\njBone.extend = function(target) {\n    var tg;\n\n    splice.call(arguments, 1).forEach(function(source) {\n        tg = target; //caching target for perf improvement\n\n        if (source) {\n            for (var prop in source) {\n                tg[prop] = source[prop];\n            }\n        }\n    });\n\n    return target;\n};\n\njBone.makeArray = function(arr, results) {\n    var ret = results || [];\n\n    if (arr !== null) {\n        if (isArraylike(arr)) {\n            jBone.merge(ret, isString(arr) ? [arr] : arr);\n        } else {\n            ret.push(arr);\n        }\n    }\n\n    return ret;\n};\n\njBone.unique = function(array) {\n    if (array == null) {\n        return [];\n    }\n\n    var result = [];\n\n    for (var i = 0, length = array.length; i < length; i++) {\n        var value = array[i];\n        if (result.indexOf(value) < 0) {\n            result.push(value);\n        }\n    }\n    return result;\n};\n\nfunction BoneEvent(e, data) {\n    var key, setter;\n\n    this.originalEvent = e;\n\n    setter = function(key, e) {\n        if (key === \"preventDefault\") {\n            this[key] = function() {\n                this.defaultPrevented = true;\n                return e[key]();\n            };\n        } else if (key === \"stopImmediatePropagation\") {\n            this[key] = function() {\n                this.immediatePropagationStopped = true;\n                return e[key]();\n            };\n        } else if (isFunction(e[key])) {\n            this[key] = function() {\n                return e[key]();\n            };\n        } else {\n            this[key] = e[key];\n        }\n    };\n\n    for (key in e) {\n        if (e[key] || typeof e[key] === \"function\") {\n            setter.call(this, key, e);\n        }\n    }\n\n    jBone.extend(this, data, {\n        isImmediatePropagationStopped: function() {\n            return !!this.immediatePropagationStopped;\n        }\n    });\n}\n\njBone.Event = function(event, data) {\n    var namespace, eventType;\n\n    if (event.type && !data) {\n        data = event;\n        event = event.type;\n    }\n\n    namespace = event.split(\".\").splice(1).join(\".\");\n    eventType = event.split(\".\")[0];\n\n    event = doc.createEvent(\"Event\");\n    event.initEvent(eventType, true, true);\n\n    return jBone.extend(event, {\n        namespace: namespace,\n        isDefaultPrevented: function() {\n            return event.defaultPrevented;\n        }\n    }, data);\n};\n\njBone.event = {\n\n    /**\n     * Attach a handler to an event for the elements\n     * @param {Node}        el         - Events will be attached to this DOM Node\n     * @param {String}      types      - One or more space-separated event types and optional namespaces\n     * @param {Function}    handler    - A function to execute when the event is triggered\n     * @param {Object}      [data]     - Data to be passed to the handler in event.data\n     * @param {String}      [selector] - A selector string to filter the descendants of the selected elements\n     */\n    add: function(el, types, handler, data, selector) {\n        jBone.setId(el);\n\n        var eventHandler = function(e) {\n                jBone.event.dispatch.call(el, e);\n            },\n            events = jBone.getData(el).events,\n            eventType, t, event;\n\n        types = types.split(\" \");\n        t = types.length;\n        while (t--) {\n            event = types[t];\n\n            eventType = event.split(\".\")[0];\n            events[eventType] = events[eventType] || [];\n\n            if (events[eventType].length) {\n                // override with previous event handler\n                eventHandler = events[eventType][0].fn;\n            } else {\n                el.addEventListener && el.addEventListener(eventType, eventHandler, false);\n            }\n\n            events[eventType].push({\n                namespace: event.split(\".\").splice(1).join(\".\"),\n                fn: eventHandler,\n                selector: selector,\n                data: data,\n                originfn: handler\n            });\n        }\n    },\n\n    /**\n     * Remove an event handler\n     * @param  {Node}       el        - Events will be deattached from this DOM Node\n     * @param  {String}     types     - One or more space-separated event types and optional namespaces\n     * @param  {Function}   handler   - A handler function previously attached for the event(s)\n     * @param  {String}     [selector] - A selector string to filter the descendants of the selected elements\n     */\n    remove: function(el, types, handler, selector) {\n        var removeListener = function(events, eventType, index, el, e) {\n                var callback;\n\n                // get callback\n                if ((handler && e.originfn === handler) || !handler) {\n                    callback = e.fn;\n                }\n\n                if (events[eventType][index].fn === callback) {\n                    // remove handler from cache\n                    events[eventType].splice(index, 1);\n\n                    if (!events[eventType].length) {\n                        el.removeEventListener(eventType, callback);\n                    }\n                }\n            },\n            events = jBone.getData(el).events,\n            l,\n            eventsByType;\n\n        if (!events) {\n            return;\n        }\n\n        // remove all events\n        if (!types && events) {\n            return keys(events).forEach(function(eventType) {\n                eventsByType = events[eventType];\n                l = eventsByType.length;\n\n                while(l--) {\n                    removeListener(events, eventType, l, el, eventsByType[l]);\n                }\n            });\n        }\n\n        types.split(\" \").forEach(function(eventName) {\n            var eventType = eventName.split(\".\")[0],\n                namespace = eventName.split(\".\").splice(1).join(\".\"),\n                e;\n\n            // remove named events\n            if (events[eventType]) {\n                eventsByType = events[eventType];\n                l = eventsByType.length;\n\n                while(l--) {\n                    e = eventsByType[l];\n                    if ((!namespace || (namespace && e.namespace === namespace)) &&\n                        (!selector  || (selector  && e.selector === selector))) {\n                        removeListener(events, eventType, l, el, e);\n                    }\n                }\n            }\n            // remove all namespaced events\n            else if (namespace) {\n                keys(events).forEach(function(eventType) {\n                    eventsByType = events[eventType];\n                    l = eventsByType.length;\n\n                    while(l--) {\n                        e = eventsByType[l];\n                        if (e.namespace.split(\".\")[0] === namespace.split(\".\")[0]) {\n                            removeListener(events, eventType, l, el, e);\n                        }\n                    }\n                });\n            }\n        });\n    },\n\n    /**\n     * Execute all handlers and behaviors attached to the matched elements for the given event type.\n     * @param  {Node}       el       - Events will be triggered for thie DOM Node\n     * @param  {String}     event    - One or more space-separated event types and optional namespaces\n     */\n    trigger: function(el, event) {\n        var events = [];\n\n        if (isString(event)) {\n            events = event.split(\" \").map(function(event) {\n                return jBone.Event(event);\n            });\n        } else {\n            event = event instanceof Event ? event : jBone.Event(event);\n            events = [event];\n        }\n\n        events.forEach(function(event) {\n            if (!event.type) {\n                return;\n            }\n\n            el.dispatchEvent && el.dispatchEvent(event);\n        });\n    },\n\n    dispatch: function(e) {\n        var i = 0,\n            j = 0,\n            el = this,\n            handlers = jBone.getData(el).events[e.type],\n            length = handlers.length,\n            handlerQueue = [],\n            targets = [],\n            l,\n            expectedTarget,\n            handler,\n            event,\n            eventOptions;\n\n        // cache all events handlers, fix issue with multiple handlers (issue #45)\n        for (; i < length; i++) {\n            handlerQueue.push(handlers[i]);\n        }\n\n        i = 0;\n        length = handlerQueue.length;\n\n        for (;\n            // if event exists\n            i < length &&\n            // if handler is not removed from stack\n            ~handlers.indexOf(handlerQueue[i]) &&\n            // if propagation is not stopped\n            !(event && event.isImmediatePropagationStopped());\n        i++) {\n            expectedTarget = null;\n            eventOptions = {};\n            handler = handlerQueue[i];\n            handler.data && (eventOptions.data = handler.data);\n\n            // event handler without selector\n            if (!handler.selector) {\n                event = new BoneEvent(e, eventOptions);\n\n                if (!(e.namespace && e.namespace !== handler.namespace)) {\n                    handler.originfn.call(el, event);\n                }\n            }\n            // event handler with selector\n            else if (\n                // if target and selected element the same\n                ~(targets = jBone(el).find(handler.selector)).indexOf(e.target) && (expectedTarget = e.target) ||\n                // if one of element matched with selector contains target\n                (el !== e.target && el.contains(e.target))\n            ) {\n                // get element matched with selector\n                if (!expectedTarget) {\n                    l = targets.length;\n                    j = 0;\n\n                    for (; j < l; j++) {\n                        if (targets[j] && targets[j].contains(e.target)) {\n                            expectedTarget = targets[j];\n                        }\n                    }\n                }\n\n                if (!expectedTarget) {\n                    continue;\n                }\n\n                eventOptions.currentTarget = expectedTarget;\n                event = new BoneEvent(e, eventOptions);\n\n                if (!(e.namespace && e.namespace !== handler.namespace)) {\n                    handler.originfn.call(expectedTarget, event);\n                }\n            }\n        }\n    }\n};\n\nfn.on = function(types, selector, data, fn) {\n    var length = this.length,\n        i = 0;\n\n    if (data == null && fn == null) {\n        // (types, fn)\n        fn = selector;\n        data = selector = undefined;\n    } else if (fn == null) {\n        if (typeof selector === \"string\") {\n            // (types, selector, fn)\n            fn = data;\n            data = undefined;\n        } else {\n            // (types, data, fn)\n            fn = data;\n            data = selector;\n            selector = undefined;\n        }\n    }\n\n    if (!fn) {\n        return this;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.add(this[i], types, fn, data, selector);\n    }\n\n    return this;\n};\n\nfn.one = function(event) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        oneArgs = slice.call(args, 1, args.length - 1),\n        callback = slice.call(args, -1)[0],\n        addListener;\n\n    addListener = function(el) {\n        var $el = jBone(el);\n\n        event.split(\" \").forEach(function(event) {\n            var fn = function(e) {\n                $el.off(event, fn);\n                callback.call(el, e);\n            };\n\n            $el.on.apply($el, [event].concat(oneArgs, fn));\n        });\n    };\n\n    for (; i < length; i++) {\n        addListener(this[i]);\n    }\n\n    return this;\n};\n\nfn.trigger = function(event) {\n    var i = 0,\n        length = this.length;\n\n    if (!event) {\n        return this;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.trigger(this[i], event);\n    }\n\n    return this;\n};\n\nfn.off = function(types, selector, handler) {\n    var i = 0,\n        length = this.length;\n\n    if (isFunction(selector)) {\n        handler = selector;\n        selector = undefined;\n    }\n\n    for (; i < length; i++) {\n        jBone.event.remove(this[i], types, handler, selector);\n    }\n\n    return this;\n};\n\nfn.find = function(selector) {\n    var results = [],\n        i = 0,\n        length = this.length,\n        finder = function(el) {\n            if (isFunction(el.querySelectorAll)) {\n                [].forEach.call(el.querySelectorAll(selector), function(found) {\n                    results.push(found);\n                });\n            }\n        };\n\n    for (; i < length; i++) {\n        finder(this[i]);\n    }\n\n    return jBone(results);\n};\n\nfn.get = function(index) {\n    return index != null ?\n\n        // Return just one element from the set\n        (index < 0 ? this[index + this.length] : this[index]) :\n\n        // Return all the elements in a clean array\n        slice.call(this);\n};\n\nfn.eq = function(index) {\n    return jBone(this[index]);\n};\n\nfn.parent = function() {\n    var results = [],\n        parent,\n        i = 0,\n        length = this.length;\n\n    for (; i < length; i++) {\n        if (!~results.indexOf(parent = this[i].parentElement) && parent) {\n            results.push(parent);\n        }\n    }\n\n    return jBone(results);\n};\n\nfn.toArray = function() {\n    return slice.call(this);\n};\n\nfn.is = function() {\n    var args = arguments;\n\n    return this.some(function(el) {\n        return el.tagName.toLowerCase() === args[0];\n    });\n};\n\nfn.has = function() {\n    var args = arguments;\n\n    return this.some(function(el) {\n        return el.querySelectorAll(args[0]).length;\n    });\n};\n\nfn.add = function(selector, context) {\n    return this.pushStack(\n        jBone.unique(\n            jBone.merge(this.get(), jBone(selector, context))\n        )\n    );\n};\n\nfn.attr = function(key, value) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        setter;\n\n    if (isString(key) && args.length === 1) {\n        return this[0] && this[0].getAttribute(key);\n    }\n\n    if (args.length === 2) {\n        setter = function(el) {\n            el.setAttribute(key, value);\n        };\n    } else if (isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                el.setAttribute(name, key[name]);\n            });\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.removeAttr = function(key) {\n    var i = 0,\n        length = this.length;\n\n    for (; i < length; i++) {\n        this[i].removeAttribute(key);\n    }\n\n    return this;\n};\n\nfn.val = function(value) {\n    var i = 0,\n        length = this.length;\n\n    if (arguments.length === 0) {\n        return this[0] && this[0].value;\n    }\n\n    for (; i < length; i++) {\n        this[i].value = value;\n    }\n\n    return this;\n};\n\nfn.css = function(key, value) {\n    var args = arguments,\n        i = 0,\n        length = this.length,\n        setter;\n\n    // Get attribute\n    if (isString(key) && args.length === 1) {\n        return this[0] && win.getComputedStyle(this[0])[key];\n    }\n\n    // Set attributes\n    if (args.length === 2) {\n        setter = function(el) {\n            el.style[key] = value;\n        };\n    } else if (isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                el.style[name] = key[name];\n            });\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.data = function(key, value) {\n    var args = arguments, data = {},\n        i = 0,\n        length = this.length,\n        setter,\n        setValue = function(el, key, value) {\n            if (isObject(value)) {\n                el.jdata = el.jdata || {};\n                el.jdata[key] = value;\n            } else {\n                el.dataset[key] = value;\n            }\n        },\n        getValue = function(value) {\n            if (value === \"true\") {\n                return true;\n            } else if (value === \"false\") {\n                return false;\n            } else {\n                return value;\n            }\n        };\n\n    // Get all data\n    if (args.length === 0) {\n        this[0].jdata && (data = this[0].jdata);\n\n        keys(this[0].dataset).forEach(function(key) {\n            data[key] = getValue(this[0].dataset[key]);\n        }, this);\n\n        return data;\n    }\n    // Get data by name\n    if (args.length === 1 && isString(key)) {\n        return this[0] && getValue(this[0].dataset[key] || this[0].jdata && this[0].jdata[key]);\n    }\n\n    // Set data\n    if (args.length === 1 && isObject(key)) {\n        setter = function(el) {\n            keys(key).forEach(function(name) {\n                setValue(el, name, key[name]);\n            });\n        };\n    } else if (args.length === 2) {\n        setter = function(el) {\n            setValue(el, key, value);\n        };\n    }\n\n    for (; i < length; i++) {\n        setter(this[i]);\n    }\n\n    return this;\n};\n\nfn.removeData = function(key) {\n    var i = 0,\n        length = this.length,\n        jdata, dataset;\n\n    for (; i < length; i++) {\n        jdata = this[i].jdata;\n        dataset = this[i].dataset;\n\n        if (key) {\n            jdata && jdata[key] && delete jdata[key];\n            delete dataset[key];\n        } else {\n            for (key in jdata) {\n                delete jdata[key];\n            }\n\n            for (key in dataset) {\n                delete dataset[key];\n            }\n        }\n    }\n\n    return this;\n};\n\nfn.addClass = function(className) {\n    var i = 0,\n        j = 0,\n        length = this.length,\n        classes = className ? className.trim().split(/\\s+/) : [];\n\n    for (; i < length; i++) {\n        j = 0;\n\n        for (j = 0; j < classes.length; j++) {\n            this[i].classList.add(classes[j]);\n        }\n    }\n\n    return this;\n};\n\nfn.removeClass = function(className) {\n    var i = 0,\n        j = 0,\n        length = this.length,\n        classes = className ? className.trim().split(/\\s+/) : [];\n\n    for (; i < length; i++) {\n        j = 0;\n\n        for (j = 0; j < classes.length; j++) {\n            this[i].classList.remove(classes[j]);\n        }\n    }\n\n    return this;\n};\n\nfn.toggleClass = function(className, force) {\n    var i = 0,\n        length = this.length,\n        method = \"toggle\";\n\n    force === true && (method = \"add\") || force === false && (method = \"remove\");\n\n    if (className) {\n        for (; i < length; i++) {\n            this[i].classList[method](className);\n        }\n    }\n\n    return this;\n};\n\nfn.hasClass = function(className) {\n    var i = 0, length = this.length;\n\n    if (className) {\n        for (; i < length; i++) {\n            if (this[i].classList.contains(className)) {\n                return true;\n            }\n        }\n    }\n\n    return false;\n};\n\nfn.html = function(value) {\n    var args = arguments,\n        el;\n\n    // add HTML into elements\n    if (args.length === 1 && value !== undefined) {\n        return this.empty().append(value);\n    }\n    // get HTML from element\n    else if (args.length === 0 && (el = this[0])) {\n        return el.innerHTML;\n    }\n\n    return this;\n};\n\nfn.append = function(appended) {\n    var i = 0,\n        length = this.length,\n        setter;\n\n    // create jBone object and then append\n    if (isString(appended) && rquickExpr.exec(appended)) {\n        appended = jBone(appended);\n    }\n    // create text node for insertion\n    else if (!isObject(appended)) {\n        appended = document.createTextNode(appended);\n    }\n\n    appended = appended instanceof jBone ? appended : jBone(appended);\n\n    setter = function(el, i) {\n        appended.forEach(function(node) {\n            if (i) {\n                el.appendChild(node.cloneNode(true));\n            } else {\n                el.appendChild(node);\n            }\n        });\n    };\n\n    for (; i < length; i++) {\n        setter(this[i], i);\n    }\n\n    return this;\n};\n\nfn.appendTo = function(to) {\n    jBone(to).append(this);\n\n    return this;\n};\n\nfn.empty = function() {\n    var i = 0,\n        length = this.length,\n        el;\n\n    for (; i < length; i++) {\n        el = this[i];\n\n        while (el.lastChild) {\n            el.removeChild(el.lastChild);\n        }\n    }\n\n    return this;\n};\n\nfn.remove = function() {\n    var i = 0,\n        length = this.length,\n        el;\n\n    // remove all listeners\n    this.off();\n\n    for (; i < length; i++) {\n        el = this[i];\n\n        // remove data and nodes\n        delete el.jdata;\n        el.parentNode && el.parentNode.removeChild(el);\n    }\n\n    return this;\n};\n\nif (typeof module === \"object\" && module && typeof module.exports === \"object\") {\n    // Expose jBone as module.exports in loaders that implement the Node\n    // module pattern (including browserify). Do not create the global, since\n    // the user will be storing it themselves locally, and globals are frowned\n    // upon in the Node module world.\n    module.exports = jBone;\n}\n// Register as a AMD module\nelse if (typeof define === \"function\" && define.amd) {\n    define(function() {\n        return jBone;\n    });\n\n    win.jBone = win.$ = jBone;\n} else if (typeof win === \"object\" && typeof win.document === \"object\") {\n    win.jBone = win.$ = jBone;\n}\n\n}(window));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/jbone/dist/jbone.js\n ** module id = 7\n ** module chunks = 0\n **/","var _ = require(\"underscore\");\nvar Model = require(\"backbone-thin\").Model;\n\n// holds the current user selection\nvar Selection = Model.extend({\n  defaults:\n    {type: \"super\"}\n\n\n});var RowSelection = Selection.extend({\n  defaults: _.extend( {}, Selection.prototype.defaults,\n    {type: \"row\",\n    seqId: \"\"\n  }),\n\n  inRow(seqId) {\n    return seqId === this.get(\"seqId\");\n  },\n\n  inColumn(rowPos) {\n    return true;\n  },\n\n  getLength() {\n    return 1;\n  }\n});\n\nvar ColumnSelection = Selection.extend({\n  defaults: _.extend( {}, Selection.prototype.defaults,\n    {type: \"column\",\n    xStart: -1,\n    xEnd: -1\n  }),\n\n  inRow() {\n    return true;\n  },\n\n  inColumn(rowPos) {\n    return xStart <= rowPos && rowPos <= xEnd;\n  },\n\n  getLength() {\n    return xEnd - xStart;\n  }\n});\n\n// pos is a mixin of column and row\n// start with Row and only overwrite \"inColumn\" from Column\nvar PosSelection = RowSelection.extend(_.extend( {},_.pick(ColumnSelection,\"inColumn\"),_.pick(ColumnSelection,\"getLength\"),\n\n  // merge both defaults\n  {defaults: _.extend( {}, ColumnSelection.prototype.defaults, RowSelection.prototype.defaults,\n    {type: \"pos\"\n  })\n}));\n\nmodule.exports.sel = Selection;\nmodule.exports.possel = PosSelection;\nmodule.exports.rowsel = RowSelection;\nmodule.exports.columnsel = ColumnSelection;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/selection/Selection.js\n **/","var SelectionManager;\nvar sel = require(\"./Selection\");\nvar _ = require(\"underscore\");\nvar Collection = require(\"backbone-thin\").Collection;\n\n// holds the current user selection\nmodule.exports = SelectionManager = Collection.extend({\n\n  model: sel.sel,\n\n  initialize: function(data, opts) {\n    if ((typeof opts !== \"undefined\" && opts !== null)) {\n      this.g = opts.g;\n\n      this.listenTo(this.g, \"residue:click\", function(e) {\n        return this._handleE(e.evt, new sel.possel({\n          xStart: e.rowPos,\n          xEnd: e.rowPos,\n          seqId: e.seqId\n        }));\n      });\n\n      this.listenTo(this.g, \"row:click\", function(e) {\n        return this._handleE(e.evt, new sel.rowsel({\n          seqId: e.seqId\n        }));\n      });\n\n      return this.listenTo(this.g, \"column:click\", function(e) {\n        return this._handleE(e.evt, new sel.columnsel({\n          xStart: e.rowPos,\n          xEnd: e.rowPos + e.stepSize - 1\n        }));\n      });\n    }\n  },\n\n    //@listenTo @, \"add reset\", (e) ->\n      //@_reduceColumns()\n\n  getSelForRow: function(seqId) {\n    return this.filter(function(el) { return el.inRow(seqId); });\n  },\n\n  getSelForColumns: function(rowPos) {\n    return this.filter(function(el) { return el.inColumn(rowPos); });\n  },\n\n  addJSON: function(model) {\n    return this.add(this._fromJSON(model));\n  },\n\n  _fromJSON: function(model) {\n   switch (model.type) {\n     case \"column\":  return new sel.columnsel(model);\n     case \"row\":  return new sel.rowsel(model);\n     case \"pos\":  return new sel.possel(model);\n   }\n  },\n\n  // allows normal JSON input\n  resetJSON: function(arr) {\n    arr = _.map(arr, this._fromJSON);\n    return this.reset(arr);\n  },\n\n  // @returns array of all selected residues for a row\n  getBlocksForRow: function(seqId, maxLen) {\n    var selis = this.filter(function(el) { return el.inRow(seqId); });\n    var blocks = [];\n    for (var i = 0, seli; i < selis.length; i++) {\n      seli = selis[i];\n      if (seli.attributes.type === \"row\") {\n        blocks = ((function() {\n          var result = [];\n          var i1 = 0;\n          if (0 <= maxLen) {\n            while (i1 <= maxLen) {\n              result.push(i1++);\n            }\n          } else {\n            while (i1 >= maxLen) {\n              result.push(i1--);\n            }\n          }\n          return result;\n        })());\n        break;\n      } else {\n        blocks = blocks.concat(((function() {\n          var result = [];\n          var i1 = seli.attributes.xStart;\n          if (seli.attributes.xStart <= seli.attributes.xEnd) {\n            while (i1 <= seli.attributes.xEnd) {\n              result.push(i1++);\n            }\n          } else {\n            while (i1 >= seli.attributes.xEnd) {\n              result.push(i1--);\n            }\n          }\n          return result;\n        })()));\n      }\n    }\n    return blocks;\n  },\n\n  // @returns array with all columns being selected\n  // example: 0-4... 12-14 selected -> [0,1,2,3,4,12,13,14]\n  getAllColumnBlocks: function(conf) {\n    var maxLen = conf.maxLen;\n    var withPos = conf.withPos;\n    var blocks = [];\n    if (conf.withPos) {\n      var filtered = (this.filter(function(el) { return (el.get('xStart') != null); }) );\n    } else {\n      filtered = (this.filter(function(el) { return el.get('type') === \"column\"; }));\n    }\n    for (var i = 0, seli; i < filtered.length; i++) {\n      seli = filtered[i];\n      blocks = blocks.concat(((function() {\n        var result = [];\n        var i1 = seli.attributes.xStart;\n        if (seli.attributes.xStart <= seli.attributes.xEnd) {\n          while (i1 <= seli.attributes.xEnd) {\n            result.push(i1++);\n          }\n        } else {\n          while (i1 >= seli.attributes.xEnd) {\n            result.push(i1--);\n          }\n        }\n        return result;\n      })()));\n    }\n    blocks = _.uniq(blocks);\n    return blocks;\n  },\n\n  // inverts the current selection for columns\n  // @param rows [Array] all available seqId\n  invertRow: function(rows) {\n    var selRows = this.where({type:\"row\"});\n    selRows = _.map(selRows, function(el) { return el.attributes.seqId; });\n    var inverted = _.filter(rows, function(el) {\n      if (selRows.indexOf(el) >= 0) { return false; } // existing selection\n      return true;\n    });\n    // mass insert\n    var s = [];\n    for (var i = 0, el; i < inverted.length; i++) {\n      el = inverted[i];\n      s.push(new sel.rowsel({seqId:el}));\n    }\n    return this.reset(s);\n  },\n\n  // inverts the current selection for rows\n  // @param rows [Array] all available rows (0..max.length)\n  invertCol: function(columns) {\n    var xEnd;\n    var selColumns = this.where({type:\"column\"});\n    selColumns = _.reduce( selColumns, (function(memo,el) {\n      return memo.concat(((function() {\n        var result = [];\n        var i = el.attributes.xStart;\n        if (el.attributes.xStart <= el.attributes.xEnd) {\n          while (i <= el.attributes.xEnd) {\n            result.push(i++);\n          }\n        } else {\n          while (i >= el.attributes.xEnd) {\n            result.push(i--);\n          }\n        }\n        return result;\n      })()));\n    }\n    ), []\n    );\n    var inverted = _.filter(columns, function(el) {\n      if (selColumns.indexOf(el) >= 0) {\n        // existing selection\n        return false;\n      }\n      return true;\n    });\n    // mass insert\n    if (inverted.length === 0) { return; }\n    var s = [];\n    var xStart = xEnd = inverted[0];\n    for (var i = 0, el; i < inverted.length; i++) {\n      el = inverted[i];\n      if (xEnd + 1 === el) {\n        // contiguous\n        xEnd = el;\n      } else {\n        // gap between\n        s.push(new sel.columnsel({xStart:xStart, xEnd: xEnd}));\n        xStart = xEnd = el;\n      }\n    }\n    // check for last gap\n    if (xStart !== xEnd) { s.push(new sel.columnsel({xStart:xStart, xEnd: inverted[inverted.length - 1]})); }\n    return this.reset(s);\n  },\n\n  // method to decide whether to start a new selection\n  // or append to the old one (depending whether CTRL was pressed)\n  _handleE: function(e, selection) {\n    if (e.ctrlKey || e.metaKey) {\n      return this.add(selection);\n    } else {\n      return this.reset([selection]);\n    }\n  },\n\n  // experimental reduce method for columns\n  _reduceColumns: function() {\n    return this.each(function(el, index, arr) {\n      var cols = _.filter(arr, function(el) { return el.get('type') === 'column'; });\n      var xStart = el.get('xStart');\n      var xEnd = el.get('xEnd');\n\n      var lefts = _.filter(cols, function(el) { return el.get('xEnd') === (xStart - 1); });\n      for (var i = 0, left; i < lefts.length; i++) {\n        left = lefts[i];\n        left.set('xEnd', xStart);\n      }\n\n      var rights = _.filter(cols, function(el) { return el.get('xStart') === (xEnd + 1); });\n      for (var j = 0, right; j < rights.length; j++) {\n        right = rights[j];\n        right.set('xStart', xEnd);\n      }\n\n      if (lefts.length > 0 || rights.length > 0) {\n        console.log(\"removed el\");\n        return el.collection.remove(el);\n      }\n    });\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/selection/SelectionCol.js\n **/","// mini svg helper\n\nvar svgns = \"http://www.w3.org/2000/svg\";\n\nvar setAttr = function(obj,opts) {\n  for (var name in opts) {\n    var value = opts[name];\n    obj.setAttributeNS(null, name, value);\n  }\n  return obj;\n};\n\nvar Base = function(opts) {\n  var svg = document.createElementNS(svgns, 'svg');\n  svg.setAttribute(\"width\", opts.width);\n  svg.setAttribute(\"height\", opts.height);\n  return svg;\n};\n\nvar Rect = function(opts) {\n  var rect = document.createElementNS(svgns, 'rect');\n  return setAttr(rect,opts);\n};\n\nvar Line = function(opts) {\n  var line = document.createElementNS(svgns, 'line');\n  return setAttr(line,opts);\n};\n\nvar Polygon = function(opts) {\n  var line = document.createElementNS(svgns, 'polygon');\n  return setAttr(line,opts);\n};\n\nmodule.exports.rect = Rect;\nmodule.exports.line = Line;\nmodule.exports.polygon = Polygon;\nmodule.exports.base = Base;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/svg.js\n **/","var nextTick = require('process/browser.js').nextTick;\nvar apply = Function.prototype.apply;\nvar slice = Array.prototype.slice;\nvar immediateIds = {};\nvar nextImmediateId = 0;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) { timeout.close(); };\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// That's not how node.js implements it but the exposed api is the same.\nexports.setImmediate = typeof setImmediate === \"function\" ? setImmediate : function(fn) {\n  var id = nextImmediateId++;\n  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n\n  immediateIds[id] = true;\n\n  nextTick(function onNextTick() {\n    if (immediateIds[id]) {\n      // fn.call() is faster so we optimize for the common use-case\n      // @see http://jsperf.com/call-apply-segu\n      if (args) {\n        fn.apply(null, args);\n      } else {\n        fn.call(null);\n      }\n      // Prevent ids from leaking\n      exports.clearImmediate(id);\n    }\n  });\n\n  return id;\n};\n\nexports.clearImmediate = typeof clearImmediate === \"function\" ? clearImmediate : function(id) {\n  delete immediateIds[id];\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/timers-browserify/main.js\n ** module id = 11\n ** module chunks = 0\n **/","module.exports =\n  // math utilities\n  class BMath {\n    static randomInt(lower, upper) {\n      // Called with one argument\n      if (!(typeof upper !== \"undefined\" && upper !== null)) { [lower, upper] = [0, lower]; }\n      // Lower must be less then upper\n      if (lower > upper) { [lower, upper] = [upper, lower]; }\n      // Last statement is a return value\n      return Math.floor(Math.random() * (upper - lower + 1) + lower);\n    }\n\n    // @return [Integer] random id\n    static uniqueId(length = 8) {\n      var id = \"\";\n      while (id.length < length) {\n        id += Math.random().toString(36).substr(2);\n      }\n      return id.substr(0, length);\n    }\n\n    // Returns a random integer between min (inclusive) and max (inclusive)\n    static getRandomInt(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    }\n  };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/bmath.js\n **/","var Exporter;\nvar Fasta = require(\"biojs-io-fasta\");\nvar GFF = require(\"biojs-io-gff\");\nvar xhr = require(\"xhr\");\nvar blobURL = require(\"blueimp_canvastoblob\");\nvar saveAs = require(\"browser-saveas\");\nvar _ = require(\"underscore\");\n\nmodule.exports = Exporter =\n\n  {openInJalview: function(url, colorscheme) {\n    if (url.charAt(0) === '.') {\n      // relative urls\n      url = document.URL.substr(0,document.URL.lastIndexOf('/')) + \"/\" + url;\n    }\n\n    // check whether this is a local url\n    if (url.indexOf(\"http\") < 0) {\n      // append host and hope for the best\n      var host = \"http://\" + window.location.hostname;\n      url = host + url;\n    }\n\n    url = encodeURIComponent(url);\n    var jalviewUrl = \"http://www.jalview.org/services/launchApp?open=\" + url;\n    jalviewUrl += \"&colour=\" + colorscheme;\n    return window.open(jalviewUrl, '_blank');\n  },\n\n  publishWeb: function(that, cb) {\n    var text = Fasta.write(that.seqs.toJSON());\n    text = encodeURIComponent(text);\n    var url = \"http://sprunge.biojs.net\";\n    return xhr({\n      method: \"POST\",\n      body: \"sprunge=\" + text,\n      uri: url,\n      headers:\n        {\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    }, function(err,rep,body) {\n      var link = body.trim();\n      return cb(link);\n    }\n    );\n  },\n\n\n  shareLink: function(that, cb) {\n    var url = that.g.config.get(\"importURL\");\n    var msaURL = \"http://msa.biojs.net/app/?seq=\";\n    var fCB = function(link) {\n      var fURL = msaURL + link;\n      if (cb) {\n        return cb(fURL);\n      }\n    };\n    if (!url) {\n      return Exporter.publishWeb(that, fCB);\n    } else {\n      return fCB(url);\n    }\n  },\n\n  saveAsFile: function(that,name) {\n    // limit at about 256k\n    var text = Fasta.write(that.seqs.toJSON());\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveSelection: function(that,name) {\n    var selection = that.g.selcol.pluck(\"seqId\");\n    console.log(selection);\n    if (selection.length > 0) {\n      // filter those seqids\n      selection = that.seqs.filter(function(el) {\n        return _.contains(selection, el.get(\"id\"));\n      });\n      var end = selection.length - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        selection[i] = selection[i].toJSON();\n      }\n    } else {\n      selection = that.seqs.toJSON();\n      console.warn(\"no selection found\");\n    }\n    var text = Fasta.write(selection);\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveAnnots: function(that,name) {\n    var features = that.seqs.map(function(el) {\n      features = el.get(\"features\");\n      if (features.length === 0) { return; }\n      var seqname = el.get(\"name\");\n      features.each(function(s) {\n        return s.set(\"seqname\", seqname);\n      });\n      return features.toJSON();\n    });\n    features = _.flatten(_.compact(features));\n    console.log(features);\n    var text = GFF.exportLines(features);\n    var blob = new Blob([text], {type : 'text/plain'});\n    return saveAs(blob, name);\n  },\n\n  saveAsImg: function(that,name) {\n      // TODO: this is very ugly\n      var canvas = that.getView('stage').getView('body').getView('seqblock').el;\n      if ((typeof canvas !== \"undefined\" && canvas !== null)) {\n        var url = canvas.toDataURL('image/png');\n        return saveAs(blobURL(url), name, \"image/png\");\n      }\n  }\n  };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/export.js\n **/","var FileHelper;\nvar FastaReader = require(\"biojs-io-fasta\");\nvar ClustalReader = require(\"biojs-io-clustal\");\nvar GffReader = require(\"biojs-io-gff\");\nvar _ = require(\"underscore\");\nvar xhr = require(\"xhr\");\n\nmodule.exports = FileHelper = function(msa) {\n  this.msa = msa;\n  return this;\n};\n\nvar funs =\n  {guessFileType: function(name) {\n    name = name.split(\".\");\n    var fileName = name[name.length(-1)];\n    switch (fileName) {\n      case \"aln\": case \"clustal\": return ClustalReader; break;\n      case \"fasta\": return FastaReader; break;\n      default:\n        return FastaReader;\n    }\n  },\n\n  guessFileFromText: function(text) {\n    if (!(typeof text !== \"undefined\" && text !== null)) {\n      console.warn(\"invalid file format\");\n      return [\"\", \"error\"];\n    }\n    if (text.substring(0,7) === \"CLUSTAL\") {\n      var reader = ClustalReader;\n      var type = \"seqs\";\n    } else if (text.substring(0,1) === \">\") {\n      reader = FastaReader;\n      type = \"seqs\";\n    } else if (text.substring(0,1) === \"(\") {\n      type = \"newick\";\n    } else {\n      reader = GffReader;\n      type = \"features\";\n    }\n      //console.warn \"Unknown format. Contact greenify\"\n    return [reader,type];\n  },\n\n  parseText: function(text) {\n    var [reader, type] = this.guessFileFromText(text);\n    if (type === \"seqs\") {\n      var seqs = reader.parse(text);\n      return [seqs,type];\n    } else if (type === \"features\") {\n      var features = reader.parseSeqs(text);\n      return [features,type];\n    } else {\n      return [text,type];\n    }\n  },\n\n  importFiles: function(files) {\n    return (() => {\n      var result = [];\n      var end = files.length - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        var file = files[i];\n        var reader = new FileReader();\n        reader.onload = (evt) => {\n          return this.importFile(evt.target.result);\n        };\n        result.push(reader.readAsText(file));\n      }\n      return result;\n    })();\n  },\n\n  importFile: function(file) {\n    var fileName;\n    var [objs, type] = this.parseText(file);\n    if (type === \"error\") {\n        return \"error\";\n    }\n    if (type === \"seqs\") {\n      this.msa.seqs.reset(objs);\n      this.msa.g.config.set(\"url\", \"userimport\");\n      this.msa.g.trigger(\"url:userImport\");\n    } else if (type === \"features\") {\n      this.msa.seqs.addFeatures(objs);\n    } else if (type === \"newick\") {\n      this.msa.u.tree.loadTree(() => {\n        return this.msa.u.tree.showTree(file);\n      });\n    }\n\n    return fileName = file.name;\n  },\n\n  importURL: function(url, cb) {\n    url = this.msa.u.proxy.corsURL(url);\n    this.msa.g.config.set(\"url\", url);\n    return xhr({\n        url: url,\n        timeout: 0\n    }, (err,status,body) => {\n      if (!err) {\n        var res = this.importFile(body);\n        if (res === \"error\") {\n          return;\n        }\n        this.msa.g.trigger(\"import:url\", url);\n        if (cb) {\n          return cb();\n        }\n      } else {\n        return console.log(err);\n      }\n    });\n  }\n  };\n\n_.extend(FileHelper.prototype, funs);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/file.js\n **/","var loader;\nvar k = require(\"koala-js\");\n\nmodule.exports = loader =\n\n  // asynchronously require a script\n  {loadScript: function(url, cb) {\n    var s = k.mk(\"script\");\n    s.type = \"text/javascript\";\n    s.src = url;\n    s.async = true;\n    s.onload = s.onreadystatechange = function() {\n      if (!r && (!this.readyState || this.readyState === \"complete\")) {\n        var r = true;\n        return cb();\n      }\n    };\n    var t = document.getElementsByTagName(\"script\")[0];\n    return t.parentNode.appendChild(s);\n  },\n\n  // joins multiple callbacks into one callback\n  // a bit like Promise.all - but for callbacks\n  joinCb: function(retCb, finalLength, finalScope) {\n    finalLength = finalLength || 1;\n    var cbsFinished = 0;\n\n    var callbackWrapper = function(cb, scope) {\n      if (!(typeof cb !== \"undefined\" && cb !== null)) {\n        // directly called (without cb)\n        return counter();\n      } else {\n        return (function() {\n          var ref;\n          if (ref = \"apply\", cb.indexOf(ref) >= 0) {\n            cb.apply(scope, arguments);\n          }\n          return counter();\n        });\n      }\n    };\n\n    var counter = function() {\n      cbsFinished++;\n      if (cbsFinished === finalLength) {\n        return retCb.call(finalScope);\n      }\n    };\n\n    return callbackWrapper;\n  }\n  };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/loader.js\n **/","var ProxyHelper;\nvar _ = require(\"underscore\");\n\nmodule.exports = ProxyHelper = function(opts) {\n  this.g = opts.g;\n  return this;\n};\n\nvar proxyFun =\n\n  {corsURL: function(url) {\n    // do not filter on localhost\n    if (document.URL.indexOf('localhost') >= 0 && url[0] === \"/\") { return url; }\n    if (url.charAt(0) === \".\" || url.charAt(0) === \"/\") { return url; }\n\n    // DEPRECATED as crossorigin.me requires http\n    // remove www + http\n    //url = url.replace(\"www\\.\", \"\");\n\n    if(this.g.config.get('importProxyStripHttp')){\n        url = url.replace(\"http://\", \"\");\n        url = url.replace(\"https://\", \"\");\n    }\n\n    // prepend proxy\n    url = this.g.config.get('importProxy') + url;\n    return url;\n  }\n  };\n\n_.extend(ProxyHelper.prototype, proxyFun);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/proxy.js\n **/","var events = require(\"backbone-events-standalone\");\n\nevents.onAll = function(callback,context){\n  this.on(\"all\", callback,context);\n  return this;\n};\n\n// Mixin utility\nevents.oldMixin = events.mixin;\nevents.mixin = function(proto) {\n  events.oldMixin(proto);\n  // add custom onAll\n  var exports = ['onAll'];\n  for(var i=0; i < exports.length;i++){\n    var name = exports[i];\n    proto[name] = this[name];\n  }\n  return proto;\n};\n\nmodule.exports = events;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-events/index.js\n ** module id = 17\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.9.0\nvar Fasta, GenericReader, st;\n\nGenericReader = require(\"biojs-io-parser\");\n\nst = require(\"msa-seqtools\");\n\nmodule.exports = Fasta = {\n  parse: function(text) {\n    var currentSeq, keys, label, line, obj, seqs, _i, _len;\n    seqs = [];\n    if (!text || text.length === 0) {\n      return [];\n    }\n    if (Object.prototype.toString.call(text) !== '[object Array]') {\n      text = text.split(\"\\n\");\n    }\n    for (_i = 0, _len = text.length; _i < _len; _i++) {\n      line = text[_i];\n      if (line[0] === \">\" || line[0] === \";\") {\n        label = line.slice(1);\n        obj = st.getMeta(label);\n        label = obj.name;\n        currentSeq = new st.model(\"\", label, seqs.length);\n        currentSeq.ids = obj.ids || {};\n        keys = Object.keys(currentSeq.ids);\n        if (keys.length > 0) {\n          currentSeq.id = currentSeq.ids[keys[0]];\n        }\n        currentSeq.details = obj.details || {};\n        seqs.push(currentSeq);\n      } else {\n        currentSeq.seq += line;\n      }\n    }\n    return seqs;\n  },\n  write: function(seqs, access) {\n    var seq, text, _i, _len;\n    text = \"\";\n    for (_i = 0, _len = seqs.length; _i < _len; _i++) {\n      seq = seqs[_i];\n      if (access != null) {\n        seq = access(seq);\n      }\n      text += \">\" + seq.name + \"\\n\";\n      text += (st.splitNChars(seq.seq, 80)).join(\"\\n\");\n      text += \"\\n\";\n    }\n    return text;\n  }\n};\n\nGenericReader.mixin(Fasta);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/lib/index.js\n ** module id = 18\n ** module chunks = 0\n **/","var koalajs = {};\n\n// pass an alternative default value\nkoalajs.d = koalajs.defaultValue = function defaultValue(obj, defValue) {\n  if (obj === undefined) {\n    if (typeof obj === \"function\") {\n      return defValue();\n    }\n    return defValue;\n  }\n  return obj;\n};\n\n// alias for getElementById\nkoalajs.id = function mk(el) {\n  return document.getElementById(el);\n};\n\n// alias for createElement\nkoalajs.mk = function mk(el) {\n  return document.createElement(el);\n};\n\nif (module !== undefined && module.exports !== undefined) {\n  module.exports = koalajs;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/koala-js/index.js\n ** module id = 19\n ** module chunks = 0\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/process/browser.js\n ** module id = 20\n ** module chunks = 0\n **/","var window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require('parse-headers')\n\nvar messages = {\n    \"0\": \"Internal XMLHttpRequest Error\",\n    \"4\": \"4xx Client Error\",\n    \"5\": \"5xx Server Error\"\n}\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var key\n    var load = options.response ? loadResponse : loadXhr\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] = \"application/json\"\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = load\n    xhr.onerror = error\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    // hate IE\n    xhr.ontimeout = noop\n    xhr.open(method, uri, !sync)\n                                    //backward compatibility\n    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n        xhr.withCredentials = true\n    }\n\n    // Cannot set timeout with sync request\n    if (!sync) {\n        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            load()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = null\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function getStatusCode() {\n        return xhr.status === 1223 ? 204 : xhr.status\n    }\n\n    // if we're getting a none-ok statusCode, build & return an error\n    function errorFromStatusCode(status, body) {\n        var error = null\n        if (status === 0 || (status >= 400 && status < 600)) {\n            var message = (typeof body === \"string\" ? body : false) ||\n                messages[String(status).charAt(0)]\n            error = new Error(message)\n            error.statusCode = status\n        }\n\n        return error\n    }\n\n    // will load the data & process the response in a special response object\n    function loadResponse() {\n        var status = getStatusCode()\n        var body = getBody()\n        var error = errorFromStatusCode(status, body)\n        var response = {\n            body: body,\n            statusCode: status,\n            statusText: xhr.statusText,\n            raw: xhr\n        }\n        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n        } else {\n            response.headers = {}\n        }\n\n        callback(error, response, response.body)\n    }\n\n    // will load the data and add some response properties to the source xhr\n    // and then respond with that\n    function loadXhr() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n\n        xhr.status = xhr.statusCode = status\n        xhr.body = getBody()\n        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\n        callback(error, xhr, xhr.body)\n    }\n\n    function error(evt) {\n        callback(evt, xhr)\n    }\n}\n\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/index.js\n ** module id = 21\n ** module chunks = 0\n **/","var Colorscheme;\nvar Colors = require(\"msa-colorschemes\");\n\nvar Model = require(\"backbone-thin\").Model;\n\n// this is an example of how one could color the MSA\n// feel free to create your own color scheme in the /css/schemes folder\nmodule.exports = Colorscheme = Model.extend({\n\n  defaults: {\n    scheme: \"taylor\", // name of your color scheme\n    colorBackground: true, // otherwise only the text will be colored\n    showLowerCase: true, // used to hide and show lowercase chars in the overviewbox\n    opacity: 0.6, // opacity for the residues\n  },\n\n  initialize: function(data,seqs, stat) {\n    this.colors = new Colors(\n      {seqs: seqs,\n      conservation: function() {\n        return stat.scale(stat.conservation());\n      }}\n    );\n    // the stats module sends an event every time it is refreshed\n    return stat.on( \"reset\", (function() {\n      // some dynamic modules might require a redraw\n      if (this.getSelectedScheme().type === \"dyn\") {\n        var ref;\n        if (ref = \"reset\", this.getSelectedScheme().indexOf(ref) >= 0) {\n          return this.getSelectedScheme().reset();\n        }\n      }\n    }\n    ),this);\n  },\n\n  // You can enter your own color scheme here\n  addStaticScheme: function(name, dict) {\n    return this.colors.addStaticScheme(name,dict);\n  },\n\n  addDynScheme: function(name, fun) {\n    return this.colors.addDynScheme(name,fun);\n  },\n\n  getScheme: function(name) {\n    return this.colors.getScheme(name);\n  },\n\n  getSelectedScheme: function() {\n    return this.colors.getScheme(this.get(\"scheme\"));\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/colorscheme.js\n **/","var Columns;\nvar Model = require(\"backbone-thin\").Model;\nvar _ = require(\"underscore\");\n\n// model for column properties (like their hidden state)\nmodule.exports = Columns = Model.extend({\n\n  initialize: function(o,stat) {\n    // hidden columns\n    if (!(this.get(\"hidden\") != null)) { this.set(\"hidden\", []); }\n    return this.stats = stat;\n  },\n\n  // assumes hidden columns are sorted\n  // @returns n [int] number of hidden columns until n\n  calcHiddenColumns: function(n) {\n    var hidden = this.get(\"hidden\");\n    var newX = n;\n    for (var j = 0, i; j < hidden.length; j++) {\n      i = hidden[j];\n      if (i <= newX) {\n        newX++;\n      }\n    }\n    return newX - n;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/columns.js\n **/","var Config;\nvar Model = require(\"backbone-thin\").Model;\n\n// simple user config\nmodule.exports = Config = Model.extend({\n\n  defaults:\n    {registerMouseHover: false,\n    registerMouseClicks: true,\n    importProxy: \"https://cors-anywhere.herokuapp.com/\",\n    importProxyStripHttp: true,\n    eventBus: true,\n    alphabetSize: 20,\n    dropImport: false,\n    debug: false,\n    hasRef: false, // hasReference\n    bootstrapMenu: false,\n    manualRendering: false // not recommended to turn on\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/config.js\n **/","var Package;\nvar Loader = require(\"../utils/loader\");\nvar Model = require(\"backbone-thin\").Model;\n\nmodule.exports = Package = Model.extend({\n\n  initialize: function(g) {\n    return this.g = g;\n  },\n\n  development:\n    {\"msa-tnt\": \"/node_modules/msa-tnt/build/bundle.js\",\n    \"biojs-io-newick\": \"/node_modules/biojs-io-newick/build/biojs-io-newick.min.js\"\n    },\n\n  // loads a package into the MSA component (if it is not available yet)\n  loadPackage: function(pkg, cb) {\n    try {\n      var p = require(pkg);\n      return cb(p);\n    } catch (error) {\n      return Loader.loadScript(this._pkgURL(pkg), cb);\n    }\n  },\n\n  // loads multiple packages and calls the cb if all packages are loaded\n  loadPackages: function(pkgs, cb) {\n      var cbs = Loader.joinCb( (function() {\n        return cb();\n      }\n      ), pkgs.length\n      );\n      return pkgs.forEach((pkg) => {\n        return this.loadPackage(pkg, cbs);\n      });\n  },\n\n  // internal method to get the URL for a package\n  _pkgURL: function(pkg) {\n\n    if (this.g.config.get(\"debug\")) {\n      var url = this.development[pkg];\n    } else {\n      url = `http://wzrd.in/bundle/${pkg}@latest`;\n    }\n\n    return url;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/package.js\n **/","var Config;\nvar Model = require(\"backbone-thin\").Model;\n\n// simple user config\nmodule.exports = Config = Model.extend({\n\n  defaults:\n    {searchText: \"\"}\n\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/user.js\n **/","var Visibility;\nvar Model = require(\"backbone-thin\").Model;\n\n// visible areas\nmodule.exports = Visibility = Model.extend({\n\n  defaults:\n\n    // for the Stage\n    {searchBox: -10,\n    overviewBox: 30,\n    headerBox: -1,\n    alignmentBody: 0\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/visOrdering.js\n **/","var Visibility;\nvar Model = require(\"backbone-thin\").Model;\n\n// visible areas\nmodule.exports = Visibility = Model.extend({\n\n  defaults: {sequences: true,\n    markers: true,\n    metacell: false,\n    conserv: false,\n    overviewbox: false,\n    seqlogo: false,\n    gapHeader: false,\n    leftHeader: true,\n\n    // about the labels\n    labels: true,\n    labelName: true,\n    labelId: true,\n    labelPartition: false,\n    labelCheckbox: false,\n\n    // meta stuff\n    metaGaps: true,\n    metaIdentity: true,\n    metaLinks: true\n    },\n\n  constructor: function(attributes,options) {\n    this.calcDefaults(options.model);\n    return Model.apply(this, arguments);\n  },\n\n  initialize: function() {\n\n    this.listenTo( this, \"change:metaLinks change:metaIdentity change:metaGaps\", (function() {\n      return this.trigger(\"change:metacell\");\n    }), this\n    );\n\n    this.listenTo( this, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", (function() {\n      return this.trigger(\"change:labels\");\n    }), this\n    );\n\n    return this.listenTo( this,\"change:markers change:conserv change:seqlogo change:gapHeader\", (function() {\n      return this.trigger(\"change:header\");\n    }), this\n    );\n  },\n\n  calcDefaults: function(seqs) {\n    if (seqs.length > 0) {\n      var seq = seqs.at(0);\n      var ids = seq.get(\"ids\");\n      if (ids !== undefined && Object.keys(ids).length === 0) {\n        return this.defaults.metaLinks = false;\n      }\n    }\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/visibility.js\n **/","var Zoomer;\nvar Model = require(\"backbone-thin\").Model;\n// pixel properties for some components\nmodule.exports = Zoomer = Model.extend({\n\n  constructor: function(attributes,options) {\n    this.calcDefaults(options.model);\n    Model.apply(this, arguments);\n    this.g = options.g;\n\n    // events\n    this.listenTo( this, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", (function() {\n      return this.trigger(\"change:labelWidth\", this.getLabelWidth());\n    }), this\n    );\n    this.listenTo( this, \"change:metaLinksWidth change:metaIdentWidth change:metaGapWidth\", (function() {\n      return this.trigger(\"change:metaWidth\", this.getMetaWidth());\n    }), this\n    );\n\n    return this;\n  },\n\n  defaults: {\n\n    // general\n    alignmentWidth: \"auto\",\n    alignmentHeight: 225,\n    columnWidth: 15,\n    rowHeight: 15,\n    autoResize: true, // only for the width\n\n    // labels\n    textVisible: true,\n    labelIdLength: 20,\n    labelNameLength: 100,\n    labelPartLength: 15,\n    labelCheckLength: 15,\n    labelFontsize: 13,\n    labelLineHeight: \"13px\",\n\n    // marker\n    markerFontsize: \"10px\",\n    stepSize: 1,\n    markerStepSize: 2,\n    markerHeight: 20,\n\n    // canvas\n    residueFont: \"13\", // in px\n    canvasEventScale: 1,\n\n    // overview box\n    boxRectHeight: 2,\n    boxRectWidth: 2,\n    overviewboxPaddingTop: 10,\n\n    // meta cell\n    metaGapWidth: 35,\n    metaIdentWidth: 40,\n    // metaLinksWidth: 25\n\n    // internal props\n    _alignmentScrollLeft: 0,\n    _alignmentScrollTop: 0\n    },\n\n  // sets some defaults, depending on the model\n  calcDefaults: function(model) {\n    var maxLen = model.getMaxLength();\n    if (maxLen < 200 && model.length < 30) {\n      return this.defaults.boxRectWidth = this.defaults.boxRectHeight = 5;\n    }\n  },\n\n  // @param n [int] maxLength of all seqs\n  getAlignmentWidth: function(n) {\n    if (this.get(\"autoResize\") && n !== undefined) {\n      return this.get(\"columnWidth\") * n;\n    }\n    if (this.get(\"alignmentWidth\") === undefined || this.get(\"alignmentWidth\") === \"auto\" || this.get(\"alignmentWidth\") === 0) {\n      return this._adjustWidth();\n    } else {\n      return this.get(\"alignmentWidth\");\n    }\n  },\n\n  // @param n [int] number of residues to scroll to the right\n  setLeftOffset: function(n) {\n    var val = (n);\n    val = Math.max(0, val);\n    val -= this.g.columns.calcHiddenColumns(val);\n    return this.set(\"_alignmentScrollLeft\", val * this.get('columnWidth'));\n  },\n\n  // @param n [int] row that should be on top\n  setTopOffset: function(n) {\n    var val = Math.max(0, (n - 1));\n    var height = 0;\n    for (var i = 0; 0 < val ? i <= val : i >= val; 0 < val ? i++ : i--) {\n      var seq = this.model.at(i);\n      height += seq.attributes.height || 1;\n    }\n    return this.set(\"_alignmentScrollTop\",height * this.get(\"rowHeight\"));\n  },\n\n  // length of all elements left to the main sequence body: labels, metacell, ..\n  getLeftBlockWidth: function() {\n     var paddingLeft = 0;\n     if (this.g.vis.get(\"labels\")) { paddingLeft += this.getLabelWidth(); }\n     if (this.g.vis.get(\"metacell\")) { paddingLeft += this.getMetaWidth(); }\n     //paddingLeft += 15 # scroll bar\n     return paddingLeft;\n  },\n\n  getMetaWidth: function() {\n     var val = 0;\n     if (this.g.vis.get(\"metaGaps\")) { val += this.get(\"metaGapWidth\"); }\n     if (this.g.vis.get(\"metaIdentity\")) { val += this.get(\"metaIdentWidth\"); }\n     if (this.g.vis.get(\"metaLinks\")) { val += this.get(\"metaLinksWidth\"); }\n     return val;\n  },\n\n  getLabelWidth: function() {\n     var val = 0;\n     if (this.g.vis.get(\"labelName\")) { val += this.get(\"labelNameLength\"); }\n     if (this.g.vis.get(\"labelId\")) { val += this.get(\"labelIdLength\"); }\n     if (this.g.vis.get(\"labelPartition\")) { val += this.get(\"labelPartLength\"); }\n     if (this.g.vis.get(\"labelCheckbox\")) { val += this.get(\"labelCheckLength\"); }\n     return val;\n  },\n\n  _adjustWidth: function() {\n    if (!(this.el !== undefined && this.model !== undefined)) { return; }\n    if ((this.el.parentNode != null) && this.el.parentNode.offsetWidth !== 0) {\n      var parentWidth = this.el.parentNode.offsetWidth;\n    } else {\n      parentWidth = document.body.clientWidth - 35;\n    }\n\n    // TODO: dirty hack\n    var maxWidth = parentWidth - this.getLeftBlockWidth();\n    var calcWidth = this.getAlignmentWidth( this.model.getMaxLength() - this.g.columns.get('hidden').length);\n    var val = Math.min(maxWidth,calcWidth);\n    // round to a valid AA box\n    val = Math.floor( val / this.get(\"columnWidth\")) * this.get(\"columnWidth\");\n\n    //@set \"alignmentWidth\", val\n    return this.attributes.alignmentWidth = val;\n  },\n\n  autoResize: function() {\n    if (this.get(\"autoResize\")) {\n      return this._adjustWidth(this.el, this.model);\n    }\n  },\n\n  // max is the maximal allowed height\n  autoHeight: function(max) {\n    // TODO!\n    // make seqlogo height configurable\n    var val = this.getMaxAlignmentHeight();\n    if (max !== undefined && max > 0) {\n      val = Math.min(val, max);\n    }\n\n    return this.set(\"alignmentHeight\", val);\n  },\n\n  setEl: function(el, model) {\n    this.el = el;\n    return this.model = model;\n  },\n\n  // updates both scroll properties (if needed)\n  _checkScrolling: function(scrollObj, opts) {\n    var xScroll = scrollObj[0];\n    var yScroll = scrollObj[1];\n\n    this.set(\"_alignmentScrollLeft\", xScroll, opts);\n    return this.set(\"_alignmentScrollTop\", yScroll, opts);\n  },\n\n  getMaxAlignmentHeight: function() {\n    var height = 0;\n    this.model.each(function(seq) {\n      return height += seq.attributes.height || 1;\n    });\n\n    return (height * this.get(\"rowHeight\"));\n  },\n\n  getMaxAlignmentWidth: function() {\n    return this.model.getMaxLength() * this.get(\"columnWidth\");\n  }\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/zoomer.js\n **/","var Feature = require(\"./Feature\");\nvar Model = require(\"backbone-thin\").Model;\n\nmodule.exports = Feature = Model.extend({\n\n  defaults:\n    {xStart: -1,\n    xEnd: -1,\n    height: -1,\n    text: \"\",\n    fillColor: \"red\",\n    fillOpacity: 0.5,\n    type: \"rectangle\",\n    borderSize: 1,\n    borderColor: \"black\",\n    borderOpacity: 0.5,\n    validate: true,\n    row: 0\n    },\n\n  initialize: function(obj) {\n    if ((obj.start != null)) {\n      // gff counts from 1 where MSA starts at 0\n      // This fix that misalignment\n      this.set(\"xStart\", (obj.start-1));\n    }\n    if ((obj.end != null)) {\n      this.set(\"xEnd\", (obj.end-1));\n    }\n    // name has a predefined meaning\n    if ((obj.attributes != null)) {\n      if ((obj.attributes.Name != null)) {\n        this.set(\"text\", obj.attributes.Name);\n      }\n      if ((obj.attributes.Color != null)) {\n        this.set(\"fillColor\", obj.attributes.Color);\n      }\n    }\n\n    if (this.attributes.xEnd < this.attributes.xStart) {\n      console.warn(\"invalid feature range for\", this.attributes);\n    }\n\n    if (!_.isNumber(this.attributes.xStart) || !_.isNumber(this.attributes.xEnd)) {\n      console.warn(\"please provide numeric feature ranges\", obj);\n      // trying auto-casting\n      this.set(\"xStart\", parseInt(this.attributes.xStart));\n      return this.set(\"xEnd\", parseInt(this.attributes.xEnd));\n    }\n  },\n\n  validate: function() {\n    if (isNaN(this.attributes.xStart || isNaN(this.attributes.xEnd))) {\n      return \"features need integer start and end.\";\n    }\n  },\n\n  contains: function(index) {\n    return  this.attributes.xStart <= index && index <= this.attributes.xEnd;\n  }\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/Feature.js\n **/","var FeatureCol;\nvar Feature = require(\"./Feature\");\nvar Collection = require(\"backbone-thin\").Collection;\nvar _ = require(\"underscore\");\n\nmodule.exports = FeatureCol = Collection.extend({\n  model: Feature,\n\n  constructor: function() {\n    this.startOnCache = [];\n    // invalidate cache\n    this.on( \"all\", (function() {\n      return this.startOnCache = [];\n    }\n    ), this\n    );\n    return Collection.apply(this, arguments);\n  },\n\n  // returns all features starting on index\n  startOn: function(index) {\n    if (!(this.startOnCache[index] != null)) {\n      this.startOnCache[index] = this.where({xStart: index});\n    }\n    return this.startOnCache[index];\n  },\n\n  contains: function(index) {\n    return this.reduce( (function(el,memo) {\n      return memo || el.contains(index);\n    }\n    ), false\n    );\n  },\n\n  getFeatureOnRow: function(row,x) {\n    return this.filter(function(el) {\n      return el.get(\"row\") === row && el.get(\"xStart\") <= x && x <= el.get(\"xEnd\");\n    });\n  },\n\n  // tries to auto-fit the rows\n  // not a very efficient algorithm\n  assignRows: function() {\n\n    var len = (this.max(function(el) { return el.get(\"xEnd\"); })).attributes.xEnd;\n    var rows = (() => {\n      var result = [];\n      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n        result.push(0);\n      }\n      return result;\n    })();\n\n    this.each(function(el) {\n      var max = 0;\n      var start = el.get(\"xStart\");\n      var end = el.get(\"xEnd\");\n      for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x--) {\n        if (rows[x] > max) {\n          max = rows[x];\n        }\n        rows[x]++;\n      }\n      return el.set(\"row\", max);\n    });\n\n    return _.max(rows);\n  },\n\n  getCurrentHeight: function() {\n    return (this.max(function(el) { return el.get(\"row\"); })).attributes.row + 1;\n  },\n\n  // gives the minimal needed number of rows\n  // not a very efficient algorithm\n  // (there is one in O(n) )\n  getMinRows: function() {\n\n    var len = (this.max(function(el) { return el.get(\"xEnd\"); })).attributes.xEnd;\n    var rows = ((() => {\n      var result = [];\n      for (var x = 0; 0 < len ? x <= len : x >= len; 0 < len ? x++ : x--) {\n        result.push(0);\n      }\n      return result;\n    })());\n\n    this.each(function(el) {\n      return (() => {\n        var result = [];\n        var start = el.get(\"xStart\");\n        var end = el.get(\"xEnd\");\n        for (var x = start; start < end ? x <= end : x >= end; start < end ? x++ : x++) {\n          result.push(rows[x]++);\n        }\n        return result;\n      })();\n    });\n\n    return _.max(rows);\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/FeatureCol.js\n **/","var SeqManager;\nvar Sequence = require(\"./Sequence\");\nvar FeatureCol = require(\"./FeatureCol\");\nvar Collection = require(\"backbone-thin\").Collection;\n\nmodule.exports = SeqManager = Collection.extend({\n  model: Sequence,\n\n  constructor: function(seqs, g) {\n    Collection.apply(this, arguments);\n    this.g = g;\n\n    this.on( \"add reset remove\", (() => {\n      // invalidate cache\n      this.lengthCache = null;\n      return this._bindSeqsWithFeatures();\n    }), this\n    );\n\n    // use the first seq as reference as default\n    this.on(\"reset\", () => {\n      return this._autoSetRefSeq();\n    });\n    this._autoSetRefSeq();\n\n    this.lengthCache = null;\n\n    this.features = {};\n    return this;\n  },\n\n  // gives the max length of all sequences\n  // (cached)\n  getMaxLength: function() {\n    if (this.models.length === 0) { return 0; }\n    if (this.lengthCache === null) {\n      this.lengthCache = this.max(function(seq) { return seq.get(\"seq\").length; }).get(\"seq\").length;\n    }\n    return this.lengthCache;\n  },\n\n  // gets the previous model\n  // @param endless [boolean] for the first element\n  // true: returns the last element, false: returns undefined\n  prev: function(model, endless) {\n    var index = this.indexOf(model) - 1;\n    if (index < 0 && endless) { index = this.length - 1; }\n    return this.at(index);\n  },\n\n  // gets the next model\n  // @param endless [boolean] for the last element\n  // true: returns the first element, false: returns undefined\n  next: function(model, endless) {\n    var index = this.indexOf(model) + 1;\n    if (index === this.length && endless) { index = 0; }\n    return this.at(index);\n  },\n\n  // @returns n [int] number of hidden columns until n\n  calcHiddenSeqs: function(n) {\n    var nNew = n;\n    for (var i = 0; 0 < nNew ? i <= nNew : i >= nNew; 0 < nNew ? i++ : i--) {\n      if (this.at(i).get(\"hidden\")) {\n        nNew++;\n      }\n    }\n    return nNew - n;\n  },\n\n  // you can add features independent to the current seqs as they may be added\n  // later (lagging connection)\n  addFeatures: function(features) {\n    if ((features.config != null)) {\n      var obj = features;\n      features = features.seqs;\n      if ((obj.config.colors != null)) {\n        var colors = obj.config.colors;\n        _.each(features, function(seq) {\n          return _.each(seq, function(val) {\n            if ((colors[val.feature] != null)) {\n              return val.fillColor = colors[val.feature];\n            }\n          });\n        });\n      }\n    }\n    if (_.isEmpty(this.features)) {\n      this.features = features;\n    } else {\n      _.each(features, (val, key) => {\n        if (!this.features.hasOwnProperty(key)) {\n          return this.features[key] = val;\n        } else {\n          return this.features[key] = _.union(this.features[key], val);\n        }\n      });\n    }\n    // rehash\n    return this._bindSeqsWithFeatures();\n  },\n\n  // adds features to a sequence\n  _bindSeqWithFeatures: function(seq) {\n    // TODO: probably we don't always want to bind to name\n    var features = this.features[seq.attributes.name];\n    if (features) {\n      seq.set(\"features\", new FeatureCol(features));\n      seq.attributes.features.assignRows();\n      return seq.set(\"height\", seq.attributes.features.getCurrentHeight() + 1);\n    }\n  },\n\n  // rehash the sequence feature binding\n  _bindSeqsWithFeatures: function() {\n    return this.each((seq) =>  this._bindSeqWithFeatures(seq));\n  },\n\n  // removes all features from the cache (not from the seqs)\n  removeAllFeatures: function() {\n    return delete this.features;\n  },\n\n  _autoSetRefSeq: function() {\n    if (this.length > 0) {\n      return this.at(0).set(\"ref\", true);\n    }\n  },\n\n  // sets a sequence (e.g. BLAST start or consensus seq) as reference\n  setRef: function(seq) {\n    var obj = this.get(seq);\n    this.each(function(s) {\n      if (seq.cid) {\n        if (obj.cid === s.cid) {\n          return s.set(\"ref\", true);\n        } else {\n          return s.set(\"ref\", false);\n        }\n      }\n    });\n\n    this.g.config.set(\"hasRef\", true);\n    return this.trigger(\"change:reference\", seq);\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/SeqCollection.js\n **/","var Sequence;\nvar Model = require(\"backbone-thin\").Model;\nvar FeatureCol = require(\"./FeatureCol\");\n\nmodule.exports = Sequence = Model.extend({\n\n  defaults: {\n    name: \"\",\n    id: \"\",\n    seq: \"\",\n    height: 1,\n    ref: false, // reference: the sequence used in BLAST or the consensus seq\n  },\n\n  initialize: function() {\n    // residues without color\n    this.set(\"grey\", []);\n    if (!(this.get(\"features\") != null)) {\n      return this.set(\"features\", new FeatureCol());\n    }\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/Sequence.js\n **/","module.exports.bmath = require(\"./bmath\");\nmodule.exports.proxy = require(\"./proxy\");\nmodule.exports.seqgen = require(\"./seqgen\");\nmodule.exports.file = require(\"./file\");\nmodule.exports.export = require(\"./export\");\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/index.js\n **/","var Sequence = require(\"biojs-model\").seq;\nvar BMath = require(\"./bmath\");\nvar Stat = require(\"stat.seqs\");\n\nvar seqgen = module.exports =\n  {_generateSequence: function(len) {\n    var text = \"\";\n    var end = len - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      text += seqgen.getRandomChar();\n    }\n    return text;\n  },\n\n  // generates a dummy sequences\n  // @param len [int] number of generated sequences\n  // @param seqLen [int] length of the generated sequences\n  getDummySequences: function(len, seqLen) {\n    var seqs = [];\n    if (!(typeof len !== \"undefined\" && len !== null)) { len = BMath.getRandomInt(3,5); }\n    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) { seqLen = BMath.getRandomInt(50,200); }\n\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      seqs.push(new Sequence(seqgen._generateSequence(seqLen), \"seq\" + i,\"r\" + i));\n    }\n    return seqs;\n  },\n\n  getRandomChar: function(dict) {\n    var possible = dict || \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    return possible.charAt(Math.floor(Math.random() * possible.length));\n  },\n\n  // generates a dummy sequences\n  // @param len [int] number of generated sequences\n  // @param seqLen [int] length of the generated sequences\n  genConservedSequences: function(len, seqLen, dict) {\n    var seqs = [];\n    if (!(typeof len !== \"undefined\" && len !== null)) { len = BMath.getRandomInt(3,5); }\n    if (!(typeof seqLen !== \"undefined\" && seqLen !== null)) { seqLen = BMath.getRandomInt(50,200); }\n\n    dict = dict || \"ACDEFGHIKLMNPQRSTVWY---\";\n\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      seqs[i-1] = \"\";\n    }\n\n    var tolerance = 0.2;\n\n    var conservAim = 1;\n    var end = seqLen - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      if (i % 3 === 0) {\n        conservAim = (BMath.getRandomInt(50,100)) / 100;\n      }\n      var observed = [];\n      var end1 = len - 1;\n      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n        var counter = 0;\n        while (counter < 100) {\n          var c = seqgen.getRandomChar(dict);\n          var cConserv = Stat(observed);\n          cConserv.addSeq(c);\n          counter++;\n          if (Math.abs(conservAim - cConserv.scale(cConserv.conservation())[0]) < tolerance) {\n            break;\n          }\n        }\n        seqs[j] += c;\n        observed.push(c);\n      }\n    }\n\n    var pseqs = [];\n    for (var i = 1; 1 < len ? i <= len : i >= len; 1 < len ? i++ : i--) {\n      pseqs.push(new Sequence(seqs[i-1], \"seq\" + i, \"r\" + i));\n    }\n\n    return pseqs;\n  }\n  };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/seqgen.js\n **/","var treeHelper;\nvar _ = require(\"underscore\");\nvar SeqCollection = require(\"../model/SeqCollection\");\n\nmodule.exports = treeHelper =  function(msa) {\n  this.msa = msa;\n  return this;\n};\n\nvar tf =\n\n    {loadTree: function(cb) {\n      return this.msa.g.package.loadPackages([\"msa-tnt\", \"biojs-io-newick\"], cb);\n    },\n\n    showTree: function(newickStr) {\n      var newick = this.require(\"biojs-io-newick\");\n      if (typeof newickStr === \"string\") {\n        var newickObj = newick.parse_newick(newickStr);\n      } else {\n        newickObj = newickStr;\n      }\n\n      var mt = this.require(\"msa-tnt\");\n\n      var sel = new mt.selections();\n      var treeDiv = document.createElement(\"div\");\n    //   @msa.el.insertBefore treeDiv, @msa.el.childNodes[0]\n      this.msa.el.appendChild(treeDiv);\n\n      console.log(this.msa.seqs.models);\n      console.log(newickObj);\n\n      var nodes = mt.app({\n        seqs: this.msa.seqs.toJSON(),\n        tree: newickObj\n      });\n\n      console.log(\"nodes\", nodes);\n\n      var t = new mt.adapters.tree({\n        model: nodes,\n        el: treeDiv,\n        sel: sel\n      });\n\n      //treeDiv.style.width = \"500px\"\n\n      // construct msa in a virtual dom\n      var m = new mt.adapters.msa({\n          model: nodes,\n          sel: sel,\n          msa: this.msa\n      });\n\n      // remove top collection\n      _.each(nodes.models, function(e) {\n        delete e.collection;\n        return Object.setPrototypeOf(e, require(\"backbone-thin\").Model.prototype);\n      }\n      );\n\n      this.msa.seqs.reset(nodes.models);\n      //@msa.draw()\n      //@msa.render()\n      return console.log(this.msa.seqs);\n    },\n\n    // workaround against browserify's static analysis\n    require(pkg) {\n      return require(pkg);\n    }\n    };\n\n_.extend(treeHelper.prototype , tf);\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/tree.js\n **/","module.exports = require('./backbone-events-standalone');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/~/backbone-events-standalone/index.js\n ** module id = 37\n ** module chunks = 0\n **/","(function (definition) {\n  if (typeof exports === \"object\") {\n    module.exports = definition();\n  }\n  else if (typeof define === 'function' && define.amd) {\n    define(definition);\n  }\n  else {\n    window.BackboneExtend = definition();\n  }\n})(function () {\n  \"use strict\";\n  \n  // mini-underscore\n  var _ = {\n    has: function (obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    },\n  \n    extend: function(obj) {\n      for (var i=1; i<arguments.length; ++i) {\n        var source = arguments[i];\n        if (source) {\n          for (var prop in source) {\n            obj[prop] = source[prop];\n          }\n        }\n      }\n      return obj;\n    }\n  };\n\n  /// Following code is pasted from Backbone.js ///\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate();\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Expose the extend function\n  return extend;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/~/backbone-extend-standalone/backbone-extend-standalone.js\n ** module id = 38\n ** module chunks = 0\n **/","/*\n * biojs-io-gff\n * https://github.com/greenify/biojs-io-gff\n *\n * Copyright (c) 2014 greenify\n * Licensed under the Apache 2 license.\n */\n\nvar parser = require(\"biojs-io-parser\");\n\nvar gff = function() {};\nparser.mixin(gff);\n\nmodule.exports = gff;\n\nvar utils = require(\"./utils\");\nvar jalview = require(\"./jalview\");\n\n/**\n * Method responsible to parse GFF\n * @see https://www.sanger.ac.uk/resources/software/gff/spec.html#t_2\n *\n * @example\n *\n *     biojsiogff.parse('SEQ1  EMBL  atg  103  105  .  +  0');\n *\n * @method parse\n * @param {String} file GFF file\n * @return {String} Returns JSON representation\n */\n\ngff.parseLines = function(file) {\n  var lines = file.split(\"\\n\");\n  var config = {};\n  var arr = [];\n  config.type = gff._guessType(lines);\n  var offset = 0;\n  if (config.type === \"jalview\") {\n    var ret = jalview.readHeader(lines);\n    //console.log(ret);\n    offset = ret.offset;\n    config.colors = ret.colors;\n    arr = ret.features;\n  }\n  for (var i = offset; i < lines.length; i++) {\n    // ignore comments for now\n    var line = lines[i];\n    if (line.length === 0 || line[0] === \"#\")\n      continue;\n\n    line = gff.parseLine(line);\n    if (line !== undefined)\n      arr.push(line);\n  }\n  return {\n    features: arr,\n    config: config\n  };\n};\n\ngff._guessType = function(line) {\n  if (line[0].substring(0, 15) === \"##gff-version 3\") {\n    return \"gff3\";\n  } else if (line[0].indexOf(\"#\") < 0 && line[0].split(\"\\t\").length === 2) {\n    // no comments and two columns. let's hope this is from jalview\n    return \"jalview\";\n  }\n  // unable to read file header. lets hope this is gff3\n  return \"gff3\";\n};\n\n/**\n * parses GFF and returns a dictionary of all seqs with their features\n * @method parseSeqs\n * @param {String} file GFF file\n * @return {String} Returns dictionary of sequences with an array of their features\n */\ngff.parseSeqs = gff.parse = function(file) {\n  var obj = gff.parseLines (file);\n  var seqs = {};\n  obj.features.forEach(function(entry) {\n    var key = entry.seqname;\n    if (seqs[key] === undefined) seqs[key] = [];\n    delete entry.seqname;\n    seqs[key].push(entry);\n  });\n  delete obj.features;\n  obj.seqs = seqs;\n  return obj;\n};\n\n/*\n * parses one GFF line and returns it\n */\ngff.parseLine = function(line) {\n  var tLine = {};\n\n  var columns = line.split(/\\s+/);\n  // ignore empty lines\n  if (columns.length === 1)\n    return;\n\n  tLine.seqname = columns[0];\n  tLine.source = columns[1];\n  tLine.feature = columns[2];\n  tLine.start = parseInt(columns[3]);\n  tLine.end = parseInt(columns[4]);\n  tLine.score = columns[5]; // only DNA,RNA\n  tLine.strand = columns[6]; // only DNA,RNA\n  tLine.frame = columns[7]; // only DNA,RNA\n  var attr = columns.slice(8).join(\" \"); // plain text comments\n\n  // remove undefined (dot)\n  Object.keys(tLine).forEach(function(key) {\n    if (tLine[key] === \".\") {\n      tLine[key] = undefined;\n    }\n  });\n\n  // parse optional parameters\n  if (tLine.score) {\n    tLine.score = parseFloat(tLine.score);\n  }\n  if (tLine.frame) {\n    tLine.frame = parseInt(tLine.frame);\n  }\n\n  tLine.attributes = utils.extractKeys(attr);\n  return tLine;\n};\n\ngff.exportLine = function(line) {\n  var attrs = Object.keys(line.attributes).map(function(key) {\n    return key + \"=\" + line.attributes[key];\n  }).join(\";\");\n  var cells = [line.seqname, line.source, line.feature, line.start, line.end, line.score,\n    line.strand, line.frame, attrs\n  ];\n  cells = cells.map(function(e) {\n    if (e === undefined) {\n      return \".\";\n    }\n    return e;\n  });\n  return cells.join(\"\\t\");\n};\n\ngff.exportLines = function(lines) {\n  return \"##gff-version 3\\n\" + lines.map(gff.exportLine).join(\"\\n\");\n};\n\ngff.exportSeqs = gff.export = function(seqs) {\n  var lines = [];\n  var pLine = function(e) {\n    e.seqname = key;\n    lines.push(e);\n  };\n\n  for (var key in seqs) {\n    seqs[key].forEach(pLine);\n  }\n  return gff.exportLines(lines);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/lib/index.js\n ** module id = 39\n ** module chunks = 0\n **/","/*\n * msa-seqtools\n * https://github.com/greenify/msa-seqtools\n *\n * Copyright (c) 2014 greenify\n * Licensed under the MIT license.\n */\n\nvar st = {};\nmodule.exports = st;\n\n/****\n * Seems to be lots of different ways to format FASTA headers. \n * \n * Generally there's an ID and a DESCRIPTION\n *   >ID DESCRIPTION\n * \n *   >(parts|of|ID) (DESCRIPTION with optional key=values)\n *   \n * This is complicated by the fact that the \"values\" in the description can have spaces\n * e.g. OS=Arabidopsis thaliana GN=CCD8\n * \n ****\n*/\n\n// extract IDs and push them to the meta dict\nst.getMeta = function(label) {\n  \n\tvar full_id = false, full_desc = false;\n\tvar name, ids = {}, details = {}, description;\n\n// \tconsole.log( \"getMeta.label: \", label );\n  \n\tvar label_parts = label.split(\" \");\n\n\tif ( label_parts.length >= 1 ) {\n\t\tfull_id   = label_parts.shift();     // everything up to the first white space\n\t\tfull_desc = label_parts.join(\" \");   // everything else\n\t}\n\telse {\n\t\tfull_id = label; \n\t}\n\t\n// \tconsole.log( \"full_id\", full_id );\n// \tconsole.log( \"full_desc\", full_desc );\n\t\n\tif ( full_id ) {\n\t\tvar id_parts = full_id.split('|');\n\t\t\n\t\t// the last item is the accession\n\t\tname = id_parts.pop(); \n\t\t\n\t\tdetails.en = name;\n\t\t\n\t\t// everything else should be pairs: db|id\n\t\twhile ( id_parts.length != 0 ) {\n\t\t\tvar db = id_parts.shift();\n\t\t\tvar id = id_parts.shift();\n\t\t\tids[ db ] = id;\n\t\t}\n\t}\n\telse {\n\t\tname = full_id;\n\t}\n\n\tif ( full_desc ) {\n\t\n\t\tvar kv_parts = full_desc.split('=');\n\t\n\t\tif ( kv_parts.length > 1 ) {\n\t\t\t\n\t\t\tvar current_key, next_key;\n\t\t\tvar kv;\n\t\t\tvar kv_idx_max = kv_parts.length - 1;\n\t\t\tvar kv_idx = 0;\n\t\t\tkv_parts.forEach( function( value_and_maybe_next_key ) {\n\t\t\t\t\n\t\t\t\tvalue_and_maybe_next_key = value_and_maybe_next_key.trim();\n\t\t\t\t\n\t\t\t\tvar value_parts = value_and_maybe_next_key.split(\" \");\n\t\t\t\tvar value;\n\t\t\t\tif ( value_parts.length > 1 ) {\n\t\t\t\t\tnext_key = value_parts.pop();\n\t\t\t\t\tvalue = value_parts.join(' ');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvalue = value_and_maybe_next_key;\n\t\t\t\t}\n\n\t\t\t\tif ( current_key ) {\n\t\t\t\t\tvar key = current_key.toLowerCase();\n\t\t\t\t\tdetails[ key ] = value;\n\t\t\t\t\t//console.log( \"details[\" + key + \"] = \" + value );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tdescription = value;\n\t\t\t\t\t//console.log( \"description=\" + value );\n\t\t\t\t}\n\t\t\t\tcurrent_key = next_key;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tdescription = kv_parts.shift();\n\t\t}\n\t}\n\t\n\tvar meta = {\n\t\tname: name,\n\t\tids: ids,\n\t\tdetails: details,\n\t};\n\t\n\tif ( description ) {\n\t\tmeta.desc = description\n\t}\n\t\n// \tconsole.log( \"meta\", meta );\n\t\n\treturn meta;\n};\n\nvar findSepInArr = function(arr, sep) {\n  for (var i = 0; i < arr.lenght; i++) {\n    if (arr[i].indexOf(i)) {\n      return i;\n    }\n  }\n  return arr.length - 1;\n};\n\nvar strToDict = function(str, sep, toJoin) {\n  toJoin = toJoin || {};\n  var entries = str.split(sep);\n  toJoin[entries[0].toLowerCase()] = entries[1];\n  return toJoin;\n};\n\nvar identDB = {\n  \"sp\": {\n    link: \"http://www.uniprot.org/%s\",\n    name: \"Uniprot\"\n  },\n  \"tr\": {\n    link: \"http://www.uniprot.org/%s\",\n    name: \"Trembl\"\n  },\n  \"gb\": {\n    link: \"http://www.ncbi.nlm.nih.gov/nuccore/%s\",\n    name: \"Genbank\"\n  },\n  \"pdb\": {\n    link: \"http://www.rcsb.org/pdb/explore/explore.do?structureId=%s\",\n    name: \"PDB\"\n  }\n};\n\nst.buildLinks = function(meta) {\n  var links = {};\n  meta = meta || {};\n  Object.keys(meta).forEach(function(id) {\n    if (id in identDB) {\n      var entry = identDB[id];\n      var link = entry.link.replace(\"%s\", meta[id]);\n      links[entry.name] = link;\n    }\n  });\n  return links;\n};\n\n\n// search for a text\nst.contains = function(text, search) {\n  return ''.indexOf.call(text, search, 0) !== -1;\n};\n\n// split after e.g. 80 chars\nst.splitNChars = function(txt, num) {\n  var i, _ref;\n  num = num || 80;\n  var result = [];\n  for (i = 0, _ref = txt.length - 1; i <= _ref; i += num) {\n    result.push(txt.substr(i, num));\n  }\n  return result;\n};\n\nst.reverse = function(seq) {\n  return seq.split('').reverse().join('');\n}\n\nst.complement = function(seq) {\n  var newSeq = seq + \"\";\n  var replacements = [\n    // cg\n    [/g/g, \"0\"],\n    [/c/g, \"1\"],\n    [/0/g, \"c\"],\n    [/1/g, \"g\"],\n    // CG\n    [/G/g, \"0\"],\n    [/C/g, \"1\"],\n    [/0/g, \"C\"],\n    [/1/g, \"G\"],\n    // at\n    [/a/g, \"0\"],\n    [/t/g, \"1\"],\n    [/0/g, \"t\"],\n    [/1/g, \"a\"],\n    // AT\n    [/A/g, \"0\"],\n    [/T/g, \"1\"],\n    [/0/g, \"T\"],\n    [/1/g, \"A\"],\n  ];\n\n  for(var rep in replacements){\n    newSeq = newSeq.replace(replacements[rep][0], replacements[rep][1]);\n  }\n  return newSeq;\n}\n\nst.reverseComplement = function(seq){\n  return st.reverse(st.complement(seq));\n}\n\nst.model = function Seq(seq, name, id) {\n  this.seq = seq;\n  this.name = name;\n  this.id = id;\n  this.ids = {};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-seqtools/lib/index.js\n ** module id = 40\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 41\n ** module chunks = 0\n **/","//module.exports.VerticalSelection = require(\"./vertical_selection\")\n//module.exports.HorizontalSelection = require(\"./horizontal_selection\")\n//module.exports.RegionSelect = require(\"./region_select\")\n//module.exports.PositionSelect = require(\"./position_selection\")\nmodule.exports.SelectionManager = require(\"./SelectionCol\");\n//module.exports.SelectionList = require(\"./selectionlist\")\n//module.exports.RectangularSelect = require(\"./rectangular_select\")\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/g/selection/index.js\n **/","module.exports.seq = require(\"./Sequence\");\nmodule.exports.seqcol = require(\"./SeqCollection\");\nmodule.exports.feature = require(\"./Feature\");\nmodule.exports.featurecol = require(\"./FeatureCol\");\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/model/index.js\n **/","//     Backbone.js 1.1.2\n\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar _ = require(\"underscore\");\n\n// Backbone.Model\n// --------------\n\n// Backbone **Models** are the basic data object in the framework --\n// frequently representing a row in a table in a database on your server.\n// A discrete chunk of data and a bunch of useful, related methods for\n// performing computations and transformations on that data.\n\n// Create a new model with the specified attributes. A client id (`cid`)\n// is automatically generated and assigned for you.\nvar Model = function(attributes, options) {\n  var attrs = attributes || {};\n  options || (options = {});\n  this.cid = _.uniqueId('c');\n  this.attributes = {};\n  if (options.collection) this.collection = options.collection;\n  if (options.parse) attrs = this.parse(attrs, options) || {};\n  attrs = _.defaults({}, attrs, _.result(this, 'defaults'));\n  this.set(attrs, options);\n  this.changed = {};\n  this.initialize.apply(this, arguments);\n};\n\n// Attach all inheritable methods to the Model prototype.\n_.extend(Model.prototype, Events, {\n\n  // A hash of attributes whose current and previous value differ.\n  changed: null,\n\n  // The value returned during the last failed validation.\n  validationError: null,\n\n    // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n    // CouchDB users may want to set this to `\"_id\"`.\n  idAttribute: 'id',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n  initialize: function(){},\n\n    // Return a copy of the model's `attributes` object.\n  toJSON: function(options) {\n    return _.clone(this.attributes);\n  },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n  sync: function() {\n    return Backbone.sync.apply(this, arguments);\n  },\n\n    // Get the value of an attribute.\n  get: function(attr) {\n    return this.attributes[attr];\n  },\n\n    // Get the HTML-escaped value of an attribute.\n  escape: function(attr) {\n    return _.escape(this.get(attr));\n  },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n  has: function(attr) {\n    return this.get(attr) != null;\n  },\n\n    // Set a hash of model attributes on the object, firing `\"change\"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n  set: function(key, val, options) {\n    var attr, attrs, unset, changes, silent, changing, prev, current;\n    if (key == null) return this;\n\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    if (typeof key === 'object') {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options || (options = {});\n\n    // Run validation.\n    if (!this._validate(attrs, options)) return false;\n\n    // Extract attributes and options.\n    unset           = options.unset;\n    silent          = options.silent;\n    changes         = [];\n    changing        = this._changing;\n    this._changing  = true;\n\n    if (!changing) {\n      this._previousAttributes = _.clone(this.attributes);\n      this.changed = {};\n    }\n    current = this.attributes, prev = this._previousAttributes;\n\n    // Check for changes of `id`.\n    if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n    // For each `set` attribute, update or delete the current value.\n    for (attr in attrs) {\n      val = attrs[attr];\n      if (!_.isEqual(current[attr], val)) changes.push(attr);\n      if (!_.isEqual(prev[attr], val)) {\n        this.changed[attr] = val;\n      } else {\n        delete this.changed[attr];\n      }\n      unset ? delete current[attr] : current[attr] = val;\n    }\n\n    // Trigger all relevant attribute changes.\n    if (!silent) {\n      if (changes.length) this._pending = options;\n      for (var i = 0, length = changes.length; i < length; i++) {\n        this.trigger('change:' + changes[i], this, current[changes[i]], options);\n      }\n    }\n\n    // You might be wondering why there's a `while` loop here. Changes can\n    // be recursively nested within `\"change\"` events.\n    if (changing) return this;\n    if (!silent) {\n      while (this._pending) {\n        options = this._pending;\n        this._pending = false;\n        this.trigger('change', this, options);\n      }\n    }\n    this._pending = false;\n    this._changing = false;\n    return this;\n  },\n\n    // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n    // if the attribute doesn't exist.\n  unset: function(attr, options) {\n    return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n  },\n\n    // Clear all attributes on the model, firing `\"change\"`.\n  clear: function(options) {\n    var attrs = {};\n    for (var key in this.attributes) attrs[key] = void 0;\n    return this.set(attrs, _.extend({}, options, {unset: true}));\n  },\n\n    // Determine if the model has changed since the last `\"change\"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n  hasChanged: function(attr) {\n    if (attr == null) return !_.isEmpty(this.changed);\n    return _.has(this.changed, attr);\n  },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n  changedAttributes: function(diff) {\n    if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n    var val, changed = false;\n    var old = this._changing ? this._previousAttributes : this.attributes;\n    for (var attr in diff) {\n      if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n      (changed || (changed = {}))[attr] = val;\n    }\n    return changed;\n  },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `\"change\"` event was fired.\n  previous: function(attr) {\n    if (attr == null || !this._previousAttributes) return null;\n    return this._previousAttributes[attr];\n  },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `\"change\"` event.\n  previousAttributes: function() {\n    return _.clone(this._previousAttributes);\n  },\n\n    // Fetch the model from the server. If the server's representation of the\n    // model differs from its current attributes, they will be overridden,\n    // triggering a `\"change\"` event.\n  fetch: function(options) {\n    options = options ? _.clone(options) : {};\n    if (options.parse === void 0) options.parse = true;\n    var model = this;\n    var success = options.success;\n    options.success = function(resp) {\n      if (!model.set(model.parse(resp, options), options)) return false;\n      if (success) success(model, resp, options);\n      model.trigger('sync', model, resp, options);\n    };\n    wrapError(this, options);\n    return this.sync('read', this, options);\n  },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model's\n    // state will be `set` again.\n  save: function(key, val, options) {\n    var attrs, method, xhr, attributes = this.attributes;\n\n    // Handle both `\"key\", value` and `{key: value}` -style arguments.\n    if (key == null || typeof key === 'object') {\n      attrs = key;\n      options = val;\n    } else {\n      (attrs = {})[key] = val;\n    }\n\n    options = _.extend({validate: true}, options);\n\n    // If we're not waiting and attributes exist, save acts as\n    // `set(attr).save(null, opts)` with validation. Otherwise, check if\n    // the model will be valid when the attributes, if any, are set.\n    if (attrs && !options.wait) {\n      if (!this.set(attrs, options)) return false;\n    } else {\n      if (!this._validate(attrs, options)) return false;\n    }\n\n    // Set temporary attributes if `{wait: true}`.\n    if (attrs && options.wait) {\n      this.attributes = _.extend({}, attributes, attrs);\n    }\n\n    // After a successful server-side save, the client is (optionally)\n    // updated with the server-side state.\n    if (options.parse === void 0) options.parse = true;\n    var model = this;\n    var success = options.success;\n    options.success = function(resp) {\n      // Ensure attributes are restored during synchronous saves.\n      model.attributes = attributes;\n      var serverAttrs = model.parse(resp, options);\n      if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n      if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n        return false;\n      }\n      if (success) success(model, resp, options);\n      model.trigger('sync', model, resp, options);\n    };\n    wrapError(this, options);\n\n    method = this.isNew() ? 'create' : (options.patch ? 'patch' : 'update');\n    if (method === 'patch' && !options.attrs) options.attrs = attrs;\n    xhr = this.sync(method, this, options);\n\n    // Restore attributes.\n    if (attrs && options.wait) this.attributes = attributes;\n\n    return xhr;\n  },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n  destroy: function(options) {\n    options = options ? _.clone(options) : {};\n    var model = this;\n    var success = options.success;\n\n    var destroy = function() {\n      model.stopListening();\n      model.trigger('destroy', model, model.collection, options);\n    };\n\n    options.success = function(resp) {\n      if (options.wait || model.isNew()) destroy();\n      if (success) success(model, resp, options);\n      if (!model.isNew()) model.trigger('sync', model, resp, options);\n    };\n\n    if (this.isNew()) {\n      options.success();\n      return false;\n    }\n    wrapError(this, options);\n\n    var xhr = this.sync('delete', this, options);\n    if (!options.wait) destroy();\n    return xhr;\n  },\n\n    // Default URL for the model's representation on the server -- if you're\n    // using Backbone's restful methods, override this to change the endpoint\n    // that will be called.\n  url: function() {\n    var base =\n      _.result(this, 'urlRoot') ||\n      _.result(this.collection, 'url') ||\n      urlError();\n    if (this.isNew()) return base;\n    return base.replace(/([^\\/])$/, '$1/') + encodeURIComponent(this.id);\n  },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n  parse: function(resp, options) {\n    return resp;\n  },\n\n    // Create a new model with identical attributes to this one.\n  clone: function() {\n    return new this.constructor(this.attributes);\n  },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n  isNew: function() {\n    return !this.has(this.idAttribute);\n  },\n\n    // Check if the model is currently in a valid state.\n  isValid: function(options) {\n    return this._validate({}, _.extend(options || {}, { validate: true }));\n  },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n  _validate: function(attrs, options) {\n    if (!options.validate || !this.validate) return true;\n    attrs = _.extend({}, this.attributes, attrs);\n    var error = this.validationError = this.validate(attrs, options) || null;\n    if (!error) return true;\n    this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n    return false;\n  }\n\n});\n\n// Underscore methods that we want to implement on the Model.\nvar modelMethods = ['keys', 'values', 'pairs', 'invert', 'pick', 'omit', 'chain', 'isEmpty'];\n\n// Mix in each Underscore method as a proxy to `Model#attributes`.\n_.each(modelMethods, function(method) {\n  if (!_[method]) return;\n  Model.prototype[method] = function() {\n    var args = slice.call(arguments);\n    args.unshift(this.attributes);\n    return _[method].apply(_, args);\n  };\n});\n\n// setup inheritance\nModel.extend = extend;\nmodule.exports = Model;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/model.js\n ** module id = 44\n ** module chunks = 0\n **/","// Generated by CoffeeScript 1.8.0\nvar Clustal, GenericReader, st;\n\nGenericReader = require(\"biojs-io-parser\");\n\nst = require(\"msa-seqtools\");\n\nmodule.exports = Clustal = {\n  parse: function(text) {\n    var blockstate, cSeq, k, keys, label, line, lines, match, obj, regex, seqCounter, seqs, sequence;\n    seqs = [];\n    if (Object.prototype.toString.call(text) === '[object Array]') {\n      lines = text;\n    } else {\n      lines = text.split(\"\\n\");\n    }\n    if (lines[0].slice(0, 6) === !\"CLUSTAL\") {\n      throw new Error(\"Invalid CLUSTAL Header\");\n    }\n    k = 0;\n    blockstate = 1;\n    seqCounter = 0;\n    while (k < lines.length) {\n      k++;\n      line = lines[k];\n      if ((line == null) || line.length === 0) {\n        blockstate = 1;\n        continue;\n      }\n      if (line.trim().length === 0) {\n        blockstate = 1;\n        continue;\n      } else {\n        if (st.contains(line, \"*\")) {\n          continue;\n        }\n        if (blockstate === 1) {\n          seqCounter = 0;\n          blockstate = 0;\n        }\n        regex = /^(?:\\s*)(\\S+)(?:\\s+)(\\S+)(?:\\s*)(\\d*)(?:\\s*|$)/g;\n        match = regex.exec(line);\n        if (match != null) {\n          label = match[1];\n          sequence = match[2];\n          if (seqCounter >= seqs.length) {\n            obj = st.getMeta(label);\n            label = obj.name;\n            cSeq = new st.model(sequence, label, seqCounter);\n            cSeq.ids = obj.ids || {};\n            cSeq.details = obj.details || {};\n            keys = Object.keys(cSeq.ids);\n            if (keys.length > 0) {\n              cSeq.id = cSeq.ids[keys[0]];\n            }\n            seqs.push(cSeq);\n          } else {\n            seqs[seqCounter].seq += sequence;\n          }\n          seqCounter++;\n        } else {\n          console.log(\"parse error\", line);\n        }\n      }\n    }\n    return seqs;\n  }\n};\n\nGenericReader.mixin(Clustal);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/lib/index.js\n ** module id = 45\n ** module chunks = 0\n **/","var utils = {};\nmodule.exports = utils;\n\nutils.extractKeys = function extractKeys(attr) {\n  // extract key-value definitions\n  var attributes = {};\n  var attrArr = attr.split(\";\");\n  attrArr.forEach(function(el) {\n    var keyArr, key, val;\n    if (el.indexOf(\"=\") > 0) {\n      keyArr = el.split(\"=\");\n      key = keyArr[0];\n      val = keyArr[1];\n      attributes[key] = val;\n    } else if (el.indexOf(\" \") > 0) {\n      keyArr = el.split(\" \");\n      key = keyArr[0];\n      val = keyArr[1].replace(/\"/g, '');\n      attributes[key] = val;\n    }\n  });\n  return attributes;\n};\n\nfunction componentToHex(c) {\n  var hex = c.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nutils.rgbToHex = function(r, g, b) {\n  if(r.length === 3){\n    return utils.rgbToHex(r[0],r[1], r[2]);\n  }\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/lib/utils.js\n ** module id = 46\n ** module chunks = 0\n **/","module.exports = function draw_border(context, y, width) {\n  context.beginPath();\n  context.moveTo(0, y);\n  context.lineTo(width, y);\n  context.lineWidth = 1;\n  context.strokeStyle = \"#999999\";\n  context.stroke();\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/draw/border.js\n ** module id = 47\n ** module chunks = 0\n **/","module.exports = function draw_column_number(context, x, y, col_width, col_num, fontsize, right) {\n  context.font = fontsize + \"px Arial\";\n  context.textAlign = right ? \"right\" : \"center\";\n  context.fillStyle = \"#666666\";\n  context.fillText(col_num, x + (col_width / 2), y);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/draw/column_number.js\n ** module id = 48\n ** module chunks = 0\n **/","module.exports = function draw_ticks(context, x, y, height, color) {\n  color = color || '#999999';\n  context.beginPath();\n  context.moveTo(x, y);\n  context.lineTo(x, y + height);\n  context.lineWidth = 1;\n  context.strokeStyle = color;\n  context.stroke();\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/draw/ticks.js\n ** module id = 49\n ** module chunks = 0\n **/","var Mouse;\n\nmodule.exports = Mouse = {\n  rel: function(e) {\n    var mouseX, mouseY, rect, target;\n    mouseX = e.offsetX;\n    mouseY = e.offsetY;\n    if (mouseX == undefined) {\n      rect = target.getBoundingClientRect();\n      target = e.target || e.srcElement;\n      if (mouseX == undefined) {\n        mouseX = e.clientX - rect.left;\n        mouseY = e.clientY - rect.top;\n      }\n      if (mouseX == undefined) {\n        mouseX = e.pageX - target.offsetLeft;\n        mouseY = e.pageY - target.offsetTop;\n      }\n      if (mouseX == undefined) {\n        console.log(e, \"no mouse event defined. your browser sucks\");\n        return;\n      }\n    }\n    return [mouseX, mouseY];\n  },\n  abs: function(e) {\n    var mouseX, mouseY;\n    mouseX = e.pageX;\n    mouseY = e.pageY;\n    if (mouseX == undefined) {\n      mouseX = e.layerX;\n      mouseY = e.layerY;\n    }\n    if (mouseX == undefined) {\n      mouseX = e.clientX;\n      mouseY = e.clientY;\n    }\n    if (mouseX == undefined) {\n      mouseX = e.x;\n      mouseY = e.y;\n    }\n    return [mouseX, mouseY];\n  },\n  wheelDelta: function(e) {\n    var delta;\n    delta = [e.deltaX, e.deltaY];\n    if (delta[0] == undefined) {\n      // in case there is a more detailed scroll sensor - use it\n      if (e.mozMovementX) {\n        delta = [0, e.mozMovementX];\n      }\n    }\n    // safety first\n    if (isNaN(delta[0])) {\n      delta[0] = 0;\n    }\n    if (isNaN(delta[1])) {\n      delta[1] = 0;\n    }\n    return delta;\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/mouse-pos/index.js\n ** module id = 50\n ** module chunks = 0\n **/","var _ = require(\"underscore\");\n\nvar stat = function(seqs, opts) {\n  // if someone forgets new\n  if (this.constructor !== stat) {\n    return new stat(seqs);\n  }\n  if (seqs === undefined || typeof seqs === \"string\") {\n    throw new TypeError(\"you need to give the seq stat an array\");\n  }\n  //if(seqs.length == 0){\n  //throw new TypeError(\"you need to give the seq stat a real array\");\n  //}\n  this.resetSeqs(seqs);\n  this.alphabetSize = 4;\n  this._useBackground = false;\n  this.useGaps = false;\n  this.ignoredChars = [\"-\", \"*\"];\n  _.extend(this, opts);\n};\n\nstat.prototype.addSeq = function addSeq(seq) {\n  this.seqs.push(seq);\n  this._reset();\n};\n\nstat.prototype.removeSeq = function addSeq(seq) {\n  // check for int or string\n  if (typeof seq === 'number') {\n    this.seqs.splice(seq, 1);\n  } else {\n    // identify matches (we could have multiple)\n    _.each(this.seqs, function(s, i) {\n      if (seq === s) {\n        this.seqs.splice(i, 1);\n      }\n    }.bind(this));\n  }\n  this._reset();\n};\n\nstat.prototype.addSeqs = function addSeqs(seqs) {\n  seqs.forEach(function(seq) {\n    this.addSeq(seq);\n  }.bind(this));\n};\n\nstat.prototype.resetSeqs = function reset(seqs) {\n  this.seqs = [];\n\n  // support sequence models\n  if (! seqs instanceof Array || \"at\" in seqs) {\n    this.mseqs = seqs;\n    var mSeqsPluck = function() {\n      var seqArr = this.mseqs.pluck(\"seq\");\n      this.resetSeqs(seqArr);\n    };\n    seqs.on(\"add change reset \", mSeqsPluck, this);\n    mSeqsPluck.call(this);\n  } else {\n    this.addSeqs(seqs);\n    this._reset();\n    this.trigger(\"reset\");\n  }\n};\n\nvar calcValues = [\"consensus\", \"frequency\", \"maxLength\", \"ic\", \"gaps\"];\n\nstat.prototype._reset = function _reset() {\n  for (var i = 0; i < calcValues.length; i++) {\n    this[\"_\" + calcValues[i]] = undefined;\n  }\n  this._identity = undefined;\n  this._background = undefined;\n};\n\n// -----------------------------------------------------------------------------\n// BEGIN: setter/getter\n// -----------------------------------------------------------------------------\n\nstat.prototype.setBackground = function setBackground(b) {\n  this._useBackground = b;\n  this._reset();\n};\n\nstat.prototype.useBackground = function useBackground() {\n  this.setBackground(true);\n};\n\nstat.prototype.setDNA = function setNucleotide() {\n  this.alphabetSize = 4;\n};\n\nstat.prototype.setProtein = function setDNA() {\n  this.alphabetSize = 20;\n};\n\n// -----------------------------------------------------------------------------\n// BEGIN: auto wrappers\n// -----------------------------------------------------------------------------\n\n// neat auto-wrappers\ncalcValues.forEach(function(key) {\n  stat.prototype[key] = function() {\n    if (this[\"_\" + key] === undefined) {\n      this[\"_\" + key] = this[key + \"Calc\"]();\n    }\n    return this[\"_\" + key];\n  };\n});\n\nstat.prototype.identity = function identitiy(seq) {\n  // do not cache if its called with a special compare seq\n  var ident;\n  if (this._identity === undefined || seq) {\n    ident = this.identityCalc(seq);\n    this._identity = undefined;\n  }\n  return this._identity || ident;\n};\n\n// set your own background with obj.bg\nstat.prototype.background = function background() {\n  if (this.bg !== undefined) {\n    return this.bg;\n  }\n  if (this._background === undefined) {\n    this.backgroundCalc();\n  }\n  return this._background;\n};\n\n\n// -----------------------------------------------------------------------------\n// BEGIN: calc tools\n// -----------------------------------------------------------------------------\n\n// calculates the relative frequency of a base at a given position\n// this is needed e.g. for the entropy calculation\n// seqs: array of sequences (strings)\n// opts:\n//    all: boolean (use to show the frequencies for all letters [including the ignored ones]\n//    (default false)\n// @returns array of all positions with a dictionary of all bases with their relative frequency\nstat.prototype.frequencyCalc = function frequencyCalc(opts) {\n  var occs, totalPerPos;\n  occs = new Array(this.maxLength());\n  totalPerPos = new Array(this.seqs.length);\n  var ignoredChars = this.ignoredChars;\n  if(opts !== undefined && opts.all){\n    ignoredChars = []; \n  }\n\n  // count the occurrences of the chars at a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (ignoredChars.indexOf(c) >= 0) return;\n      if (occs[pos] === undefined) {\n        occs[pos] = {};\n      }\n      if (occs[pos][c] === undefined) {\n        occs[pos][c] = 0;\n      }\n      occs[pos][c] ++;\n      if (totalPerPos[pos] === undefined) {\n        totalPerPos[pos] = 0;\n      }\n      totalPerPos[pos] ++;\n    });\n  });\n\n  // normalize to 1\n  _.each(occs, function(el, pos) {\n    return _.each(el, function(val, c) {\n      return (occs[pos][c] = val / totalPerPos[pos]);\n    });\n  });\n  this._frequency = occs;\n  return occs;\n};\n\n// seqs: array of sequences (strings)\nstat.prototype.backgroundCalc = function backgroundCalc() {\n  var occ = {};\n  var total = 0;\n\n  // count the occurences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c) {\n      if (occ[c] === undefined) {\n        occ[c] = 0;\n      }\n      occ[c] ++;\n      return total++;\n    });\n  });\n\n  // normalize to 1\n  occ = _.mapValues(occ, function(val) {\n    return val / total;\n  });\n  this._background = occ;\n  return occ;\n};\n\n\n// information content after Shannon\n// * gaps are excluded\nstat.prototype.icCalc = function icCalc() {\n  var f = this.frequency();\n  if (this._useBackground) {\n    var b = this.background();\n  }\n  var ignoredChars = this.ignoredChars;\n  var useBackground = this._useBackground;\n  var ic = _.map(f, function(el) {\n    return _.reduce(el, function(memo, val, c) {\n      if (ignoredChars.indexOf(c) >= 0) return memo;\n      if (useBackground) {\n        val = val / b[c];\n      }\n      return memo - val * (Math.log(val) / Math.log(2));\n    }, 0);\n  });\n  this._ic = ic;\n  return ic;\n};\n\n// sequence conservation after Schneider and Stephens (1990)\n// @cite Schneider, T.D. and Stephens, R.M. 1990. Sequence logos: A new way to\n// display consensus sequences. Nucleic Acids Res. 18: 6097–6100.\nstat.prototype.conservation = function conservation(alphabetSize) {\n  var ic = this.ic();\n  var gaps = this.gaps();\n  var self = this;\n\n  alphabetSize = alphabetSize || this.alphabetSize;\n  var icMax = Math.log(alphabetSize) / Math.log(2);\n  var i = 0;\n  var conserv = _.map(ic, function(el) {\n    var ret = (icMax - el);\n    if(self.useGaps){\n      ret = ret * (1 - gaps[i++]);\n    }\n    return ret;\n  });\n  return conserv;\n};\n\n// sequence conservation after Schneider and Stephens (1990)\n// conservation for each amino acid\n// * gaps are excluded\nstat.prototype.conservResidue = function conservation(input) {\n  var alphabetSize = input ? input.alphabetSize : undefined;\n  var ic;\n  var ignoredChars = this.ignoredChars;\n  if (input !== undefined && input.scaled) {\n    ic = this.scale(this.conservation(alphabetSize));\n  } else {\n    ic = this.conservation(alphabetSize);\n  }\n  var f = this.frequency();\n  var keys;\n  var conserv = _.map(f, function(el, i) {\n    keys = _.reject(_.keys(el), function(c) {\n      return ignoredChars.indexOf(c) >= 0;\n    });\n    var obj = {};\n    _.each(keys, function(key) {\n      obj[key] = el[key] * ic[i];\n    });\n    return obj;\n  });\n  return conserv;\n};\n\n// type 2 sequence logo method\n// scales relative to background\nstat.prototype.conservResidue2 = function conservation(alphabetSize) {\n  var f = this.frequency();\n  var ic = this.conservation(alphabetSize);\n  var b = this.background();\n  var conserv = _.map(f, function(el, i) {\n    return _.map(el, function(val) {\n      var sum = _.reduce(f[i], function(memo, e) {\n        return memo + e / b[i];\n      }, 0);\n      return ((val / b[i]) / sum) * ic[i];\n    }, 0);\n  });\n  return conserv;\n};\n\n// scale information content or conservation to 1\nstat.prototype.scale = function conservation(ic, alphabetSize) {\n  alphabetSize = alphabetSize || this.alphabetSize;\n  var icMax = Math.log(alphabetSize) / Math.log(2);\n  var conserv = _.map(ic, function(el) {\n    return el / icMax;\n  });\n  return conserv;\n};\n\nstat.prototype.maxLengthCalc = function() {\n  if(this.seqs.length === 0){\n    return 0;\n  }\n  return _.max(this.seqs, function(seq) {\n    return seq.length;\n  }).length;\n};\n\n// seqs: array of sequences (strings)\n// @returns consenus sequence\nstat.prototype.consensusCalc = function consensusCal() {\n  var occs = new Array(this.maxLength());\n\n  // count the occurrences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (occs[pos] === undefined) {\n        occs[pos] = {};\n      }\n      if (occs[pos][c] === undefined) {\n        occs[pos][c] = 0;\n      }\n      occs[pos][c] ++;\n    });\n  });\n\n  // now pick the char with most occurrences\n  this._consensus = _.reduce(occs, function(memo, occ) {\n    var keys;\n    keys = _.keys(occ);\n    return memo += _.max(keys, function(key) {\n      return occ[key];\n    });\n  }, \"\");\n\n  return this._consensus;\n};\n\n// seqs: array of sequences (strings)\n// consensus: calculated consensus seq\n// calculates for each sequence\n// * matches with the consensus seq\n// * identity = matchedChars / totalChars (excluding gaps)\n// @returns: array of length of the seqs with the identity to the consensus (double)\nstat.prototype.identityCalc = function identitiyCalc(compareSeq) {\n  var consensus = compareSeq || this.consensus();\n  this._identity = this.seqs.map(function(seq) {\n    var matches = 0;\n    var total = 0;\n    for (var i = 0; i < seq.length; i++) {\n      if (seq[i] !== \"-\" && consensus[i] !== \"-\") {\n        total++;\n        if (seq[i] === consensus[i]) {\n          matches++;\n        }\n      }\n    }\n    return matches / total;\n  });\n  return this._identity;\n};\n\n// percentage of gaps per column\nstat.prototype.gapsCalc = function gapsCount() {\n  var mLength = this.maxLength();\n  if(mLength <= 1 || typeof mLength === \"undefined\" ){\n    return [];\n  }\n  var occs = new Array(this.maxLength());\n  // count the occurrences of the chars of a position\n  _.each(this.seqs, function(el) {\n    _.each(el, function(c, pos) {\n      if (occs[pos] === undefined) {\n        occs[pos] = {\n          g: 0,\n          t: 0\n        };\n      }\n      c = c === \"-\" ? \"g\" : \"t\";\n      occs[pos][c] ++;\n    });\n  });\n\n  // now pick the char with most occurrences\n  this._gaps = _.map(occs, function(el) {\n    return el.g / (el.g + el.t);\n  });\n  return this._gaps;\n};\n\n_.mixin({\n  mapValues: function(obj, f_val) {\n    return _.object(_.keys(obj), _.map(obj, f_val));\n  }\n});\n\nrequire(\"biojs-events\").mixin(stat.prototype);\n\nmodule.exports = stat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/stat.seqs/lib/index.js\n ** module id = 51\n ** module chunks = 0\n **/","var MSA = require(\"./msa\");\n\n\nmodule.exports = window.msa = function() {\n  var msa = function(args) {\n    return MSA.apply(this, args);\n  };\n  msa.prototype = MSA.prototype;\n  return new msa(arguments);\n};\n\nmodule.exports.msa = MSA;\n\n// models\nmodule.exports.model = require(\"./model\");\n\n// extra plugins, extensions\nmodule.exports.menu = require(\"./menu\");\nmodule.exports.utils = require(\"./utils\");\n\n// probably needed more often\nmodule.exports.selection = require(\"./g/selection/Selection\");\nmodule.exports.selcol = require(\"./g/selection/SelectionCol\");\nmodule.exports.view = require(\"backbone-viewj\");\nmodule.exports.boneView = require(\"backbone-childs\");\n\n// convenience\nmodule.exports._ = require('underscore');\nmodule.exports.$ = require('jbone');\n\n// parser (are currently bundled - so we can also expose them)\nmodule.exports.io = {};\nmodule.exports.io.xhr = require('xhr');\nmodule.exports.io.fasta = require('biojs-io-fasta');\nmodule.exports.io.clustal = require('biojs-io-clustal');\nmodule.exports.io.gff = require('biojs-io-gff');\n\nmodule.exports.version = \"0.2.0\";\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","var MenuView;\nvar boneView = require(\"backbone-childs\");\n\n// menu views\nvar ImportMenu = require(\"./views/ImportMenu\");\nvar FilterMenu = require(\"./views/FilterMenu\");\nvar SelectionMenu = require(\"./views/SelectionMenu\");\nvar VisMenu = require(\"./views/VisMenu\");\nvar ColorMenu = require(\"./views/ColorMenu\");\nvar OrderingMenu = require(\"./views/OrderingMenu\");\nvar ExtraMenu = require(\"./views/ExtraMenu\");\nvar ExportMenu = require(\"./views/ExportMenu\");\nvar HelpMenu = require(\"./views/HelpMenu\");\nvar DebugMenu = require(\"./views/DebugMenu\");\nvar MenuSettings = require(\"./settings\");\n\n// this very basic menu demonstrates calls to the MSA component\nmodule.exports = MenuView = boneView.extend({\n\n  initialize: function(data) {\n    if(!data.msa){\n      throw new Error(\"No msa instance provided. Please provide .msa\");\n    }\n    this.msa = data.msa;\n\n    // add menu config to the global object\n    this.msa.g.menuconfig = new MenuSettings(data.menu);\n\n    this.addView(\"10_import\", new ImportMenu({model: this.msa.seqs, g:this.msa.g, msa: this.msa}));\n    this.addView(\"15_ordering\", new OrderingMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"20_filter\", new FilterMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"30_selection\", new SelectionMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"40_vis\", new VisMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"50_color\", new ColorMenu({model: this.msa.seqs, g:this.msa.g}));\n    this.addView(\"70_extra\", new ExtraMenu({model: this.msa.seqs, g:this.msa.g, msa: this.msa}));\n    this.addView(\"80_export\", new ExportMenu({model: this.msa.seqs, g:this.msa.g, msa:this.msa}));\n    this.addView(\"90_help\", new HelpMenu({g:this.msa.g}));\n    if (this.msa.g.config.get(\"debug\")) {\n      return this.addView(\"95_debug\", new DebugMenu({g:this.msa.g}));\n    }\n  },\n\n  render: function() {\n    this.renderSubviews();\n    // other\n    this.el.setAttribute(\"class\", \"smenubar\");\n    return this.el.appendChild(document.createElement(\"p\"));\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/defaultmenu.js\n **/","module.exports.defaultmenu = require(\"./defaultmenu\");\nmodule.exports.menubuilder = require(\"./menubuilder\");\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/index.js\n **/","var MenuSettings;\nvar Model = require(\"backbone-thin\").Model;\nmodule.exports = MenuSettings = Model.extend({\n    constructor: function(attributes,options) {\n        if(attributes == \"small\"){\n            attributes = this.small;\n        }\n        return Model.apply(this, [attributes]);\n    },\n    small: {\n        menuFontsize: \"12px\"\n    },\n    defaults: {\n        menuFontsize: \"14px\",\n        menuItemFontsize: \"14px\",\n        menuItemLineHeight: \"14px\",\n        menuMarginLeft: \"3px\",\n        menuPadding: \"3px 4px 3px 4px\"\n    }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/settings.js\n **/","var ColorMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar _ = require(\"underscore\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = ColorMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.listenTo(this.g.colorscheme, \"change\", function() {\n      return this.render();\n    });\n  },\n\n  render: function() {\n    var menuColor = this.setName(\"Color scheme\");\n    this.removeAllNodes();\n\n    var colorschemes = this.getColorschemes();\n    for (var i = 0, scheme; i < colorschemes.length; i++) {\n      scheme = colorschemes[i];\n      this.addScheme(menuColor, scheme);\n    }\n\n    // text = \"Background\"\n    // if @g.colorscheme.get(\"colorBackground\")\n    //   text = \"Hide \" + text\n    // else\n    //   text = \"Show \" + text\n\n    // @addNode text, =>\n    //   @g.colorscheme.set \"colorBackground\", !@g.colorscheme.get(\"colorBackground\")\n\n    this.grey(menuColor);\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(this.buildDOM());\n    return this;\n  },\n\n  addScheme: function(menuColor,scheme) {\n    var style = {};\n    var current = this.g.colorscheme.get(\"scheme\");\n    if (current === scheme.id) {\n      style.backgroundColor = \"#77ED80\";\n    }\n\n    return this.addNode(scheme.name, () => {\n      this.g.colorscheme.set(\"scheme\", scheme.id)\n    }, {\n        style: style\n    });\n  },\n\n  getColorschemes: function() {\n    var schemes  = [];\n    schemes.push({name: \"Taylor\", id: \"taylor\"});\n    schemes.push({name: \"Buried\", id: \"buried\"});\n    schemes.push({name: \"Cinema\", id: \"cinema\"});\n    schemes.push({name: \"Clustal\", id: \"clustal\"});\n    schemes.push({name: \"Clustal2\", id: \"clustal2\"});\n    schemes.push({name: \"Helix\", id: \"helix\"});\n    schemes.push({name: \"Hydrophobicity\", id: \"hydro\"});\n    schemes.push({name: \"Lesk\", id: \"lesk\"});\n    schemes.push({name: \"MAE\", id: \"mae\"});\n    schemes.push({name: \"Nucleotide\", id: \"nucleotide\"});\n    schemes.push({name: \"Purine\", id: \"purine\"});\n    schemes.push({name: \"PID\", id: \"pid\"});\n    schemes.push({name: \"Strand\", id: \"strand\"});\n    schemes.push({name: \"Turn\", id: \"turn\"});\n    schemes.push({name: \"Zappo\", id: \"zappo\"});\n    schemes.push({name: \"No color\", id: \"foo\"});\n    return schemes;\n  },\n\n  grey: function(menuColor) {\n\n    // greys all lowercase letters\n    // @addNode \"Shade\", =>\n    //   @g.colorscheme.set \"showLowerCase\", false\n    //   @model.each (seq) ->\n    //     residues = seq.get \"seq\"\n    //     grey = []\n    //     _.each residues, (el, index) ->\n    //       if el is el.toLowerCase()\n    //         grey.push index\n    //     seq.set \"grey\", grey\n\n    // @addNode \"Shade by threshold\", =>\n    //   threshold = prompt \"Enter threshold (in percent)\", 20\n    //   threshold = threshold / 100\n    //   maxLen = @model.getMaxLength()\n    //   # TODO: cache\n    //   conserv = @g.stats.scale @g.stats.conservation()\n    //   grey = []\n    //   for i in [0.. maxLen - 1]\n    //     if conserv[i] < threshold\n    //       grey.push i\n    //   @model.each (seq) ->\n    //     seq.set \"grey\", grey\n\n    // @addNode \"Shade selection\", =>\n    //   maxLen = @model.getMaxLength()\n    //   @model.each (seq) =>\n    //     blocks = @g.selcol.getBlocksForRow(seq.get(\"id\"),maxLen)\n    //     seq.set \"grey\", blocks\n\n    // @addNode \"Reset shade\", =>\n    //   @g.colorscheme.set \"showLowerCase\", true\n    //   @model.each (seq) ->\n    //     seq.set \"grey\", []\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/ColorMenu.js\n **/","var DebugMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = DebugMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Debug\");\n\n    this.addNode(\"Get the code\", () => {\n      return window.open(\"https://github.com/wilzbach/msa\");\n    });\n\n    this.addNode(\"Toggle mouseover events\", () => {\n      this.g.config.set(\"registerMouseHover\", !this.g.config.get(\"registerMouseHover\"));\n      return this.g.onAll(function() {\n        return console.log(arguments);\n      });\n    });\n\n    this.addNode(\"Minimized width\", () => {\n      return this.g.zoomer.set(\"alignmentWidth\", 600);\n    });\n    this.addNode(\"Minimized height\", () => {\n      return this.g.zoomer.set(\"alignmentHeight\", 120);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/DebugMenu.js\n **/","var ExportMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar FastaExporter = require(\"biojs-io-fasta\").writer;\nvar _ = require(\"underscore\");\nvar Exporter = require(\"../../utils/export\");\n\nmodule.exports = ExportMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.msa = data.msa;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Export\");\n\n    this.addNode(\"Share view (URL) ↪\", () => {\n      return Exporter.shareLink(this.msa, function(link) {\n        return window.open(link, '_blank');\n      });\n    });\n\n    this.addNode(\"View in Jalview\", () => {\n      var url = this.g.config.get('url');\n      if (!(typeof url !== \"undefined\" && url !== null)) {\n        return alert(\"Sequence weren't imported via an URL\");\n      } else {\n        if (url.indexOf(\"localhost\" || url === \"dragimport\")) {\n          return Exporter.publishWeb(this.msa, (link) => {\n            return Exporter.openInJalview(link, this.g.colorscheme.get(\"scheme\"));\n          });\n        } else {\n          return Exporter.openInJalview(url, this.g.colorscheme.get(\"scheme\"));\n        }\n      }\n    });\n\n    this.addNode(\"Export alignment (FASTA)\", () => {\n      return Exporter.saveAsFile(this.msa, \"all.fasta\");\n    });\n\n    this.addNode(\"Export alignment (URL)\", () => {\n      return Exporter.publishWeb(this.msa, function(link) {\n        return window.open(link, '_blank');\n      });\n    });\n\n    this.addNode(\"Export selected sequences (FASTA)\", () => {\n      return Exporter.saveSelection(this.msa, \"selection.fasta\");\n    });\n\n    this.addNode(\"Export features (GFF)\", () => {\n      return Exporter.saveAnnots(this.msa, \"features.gff3\");\n    });\n\n    this.addNode(\"Export MSA image (PNG)\", () => {\n      return Exporter.saveAsImg(this.msa, \"biojs-msa.png\");\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/ExportMenu.js\n **/","var ExtraMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar Seq = require(\"../../model/Sequence\");\nvar Loader = require(\"../../utils/loader\");\nvar xhr = require(\"xhr\");\n\nmodule.exports = ExtraMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.msa = data.msa;\n  },\n\n  render: function() {\n    this.setName(\"Extras\");\n    var stats = this.g.stats;\n    var msa = this.msa;\n    this.addNode(\"Add consensus seq\", () => {\n      var con = stats.consensus();\n      var seq = new Seq({\n        seq: con,\n        id: \"0c\",\n        name: \"Consenus\"\n      });\n      this.model.add(seq);\n      this.model.setRef(seq);\n      this.model.comparator = function(seq) {\n        return !seq.get(\"ref\");\n      };\n      return this.model.sort();\n    });\n\n    // @addNode \"Calc Tree\", ->\n    //   # this is a very experimental feature\n    //   # TODO: exclude msa & tnt in the adapter package\n    //   newickStr = \"\"\n    //\n    //   cbs = Loader.joinCb ->\n    //     msa.u.tree.showTree nwkData\n    //   , 2, @\n    //\n    //   msa.u.tree.loadTree cbs\n    //   # load fake tree\n    //   nwkData =\n    //     name: \"root\",\n    //     children: [\n    //       name: \"c1\",\n    //       branch_length: 4\n    //       children: msa.seqs.filter (f,i) ->  i % 2 is 0\n    //     ,\n    //       name: \"c2\",\n    //       children: msa.seqs.filter (f,i) ->  i % 2 is 1\n    //       branch_length: 4\n    //     ]\n    //   msa.seqs.each (s) ->\n    //     s.set \"branch_length\", 2\n    //   cbs()\n\n    this.addNode(\"Increase font size\", () => {\n      var columnWidth =  this.g.zoomer.get(\"columnWidth\");\n      var nColumnWidth = columnWidth + 5;\n      this.g.zoomer.set(\"columnWidth\",  nColumnWidth);\n      this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n      var nFontSize = nColumnWidth * 0.7;\n      this.g.zoomer.set(\"residueFont\", nFontSize);\n      return this.g.zoomer.set(\"labelFontSize\",  nFontSize);\n    });\n    this.addNode(\"Decrease font size\", () => {\n      var columnWidth =  this.g.zoomer.get(\"columnWidth\");\n      var nColumnWidth = columnWidth - 2;\n      this.g.zoomer.set(\"columnWidth\",  nColumnWidth);\n      this.g.zoomer.set(\"rowHeight\", nColumnWidth);\n      var nFontSize = nColumnWidth * 0.6;\n      this.g.zoomer.set(\"residueFont\", nFontSize);\n      this.g.zoomer.set(\"labelFontSize\",  nFontSize);\n\n      if (this.g.zoomer.get(\"columnWidth\") < 8) {\n        return this.g.zoomer.set(\"textVisible\", false);\n      }\n    });\n\n\n    this.addNode(\"Jump to a column\", () => {\n      var offset = prompt(\"Column\", \"20\");\n      if (offset < 0 || offset > this.model.getMaxLength() || isNaN(offset)) {\n        alert(\"invalid column\");\n        return;\n      }\n      return this.g.zoomer.setLeftOffset(offset);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/ExtraMenu.js\n **/","var FilterMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar _ = require(\"underscore\");\n\nmodule.exports = FilterMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render: function() {\n    this.setName(\"Filter\");\n    this.addNode(\"Hide columns by threshold\",(e) => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      var maxLen = this.model.getMaxLength();\n      var hidden = [];\n      // TODO: cache this value\n      var conserv = this.g.stats.scale(this.g.stats.conservation());\n      var end = maxLen - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        if (conserv[i] < threshold) {\n          hidden.push(i);\n        }\n      }\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide columns by selection\", () => {\n      var hiddenOld = this.g.columns.get(\"hidden\");\n      var hidden = hiddenOld.concat(this.g.selcol.getAllColumnBlocks({maxLen: this.model.getMaxLength(), withPos: true}));\n      this.g.selcol.reset([]);\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide columns by gaps\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      var maxLen = this.model.getMaxLength();\n      var hidden = [];\n      var end = maxLen - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        var gaps = 0;\n        var total = 0;\n        this.model.each(function(el) {\n          if (el.get('seq')[i] === \"-\") { gaps++; }\n          return total++;\n        });\n        var gapContent = gaps / total;\n        if (gapContent > threshold) {\n          hidden.push(i);\n        }\n      }\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    this.addNode(\"Hide seqs by identity\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 20);\n      threshold = threshold / 100;\n      return this.model.each(function(el) {\n        if (el.get('identity') < threshold) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Hide seqs by selection\", () => {\n      var hidden = this.g.selcol.where({type: \"row\"});\n      var ids = _.map(hidden, function(el) { return el.get('seqId'); });\n      this.g.selcol.reset([]);\n      return this.model.each(function(el) {\n        if (ids.indexOf(el.get('id')) >= 0) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Hide seqs by gaps\", () => {\n      var threshold = prompt(\"Enter threshold (in percent)\", 40);\n      return this.model.each(function(el,i) {\n        var seq = el.get('seq');\n        var gaps = _.reduce(seq, (function(memo, c) { return c === '-' ? ++memo: undefined; }),0);\n        if (gaps >  threshold) {\n          return el.set('hidden', true);\n        }\n      });\n    });\n\n    this.addNode(\"Reset\", () => {\n      this.g.columns.set(\"hidden\", []);\n      return this.model.each(function(el) {\n        if (el.get('hidden')) {\n          return el.set('hidden', false);\n        }\n      });\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/FilterMenu.js\n **/","var HelpMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = HelpMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    return this.g = data.g;\n  },\n\n  render: function() {\n    this.setName(\"Help\");\n    this.addNode(\"About the project\", () => {\n      return window.open(\"https://github.com/wilzbach/msa\");\n    });\n    this.addNode(\"Report issues\", () => {\n      return window.open(\"https://github.com/wilzbach/msa/issues\");\n    });\n    this.addNode(\"User manual\", () => {\n      return window.open(\"https://github.com/wilzbach/msa/wiki\");\n    });\n    this.el.style.display = \"inline-block\";\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/HelpMenu.js\n **/","var ImportMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar k = require(\"koala-js\");\n\nmodule.exports = ImportMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.msa = data.msa;\n  },\n\n  render: function() {\n    var msa = this.msa;\n    var uploader = k.mk(\"input\");\n    uploader.type = \"file\";\n    uploader.style.display = \"none\";\n    //uploader.accept\n    // http://www.w3schools.com/jsref/prop_fileupload_accept.asp\n    // for now we allow multiple files\n    uploader.multiple = true;\n    uploader.addEventListener(\"change\", function() {\n      var files = uploader.files || [];\n      return msa.u.file.importFiles(files);\n    });\n\n    this.el.appendChild(uploader);\n\n    var filetypes = \"(Fasta, Clustal, GFF, Jalview features, Newick)\";\n\n    this.setName(\"Import\");\n    this.addNode(\"URL\",(e) => {\n      var url = prompt( \"URL \" + filetypes,\n      \"http://rostlab.org/~goldberg/clustalw2-I20140818-215249-0556-53699878-pg.clustalw\"\n      );\n      if (url.length > 5) {\n        return this.msa.u.file.importURL(url, function() {});\n      }\n    });\n        // mass update on zoomer\n        //zoomer = @g.zoomer.toJSON()\n        //#zoomer.textVisible = false\n        //#zoomer.columnWidth = 4\n        //zoomer.boxRectHeight = 2\n        //zoomer.boxRectWidth = 2\n        //@g.zoomer.set zoomer\n\n    this.addNode(\"From file \" + filetypes, () => {\n      return uploader.click();\n    });\n\n    this.addNode(\"Drag & Drop\", () => {\n      return alert(\"Yep. Just drag & drop your file \" + filetypes);\n    });\n\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/ImportMenu.js\n **/","var OrderingMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar dom = require(\"dom-helper\");\nvar _ = require('underscore');\n\nmodule.exports = OrderingMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.order = \"ID\";\n    return this.el.style.display = \"inline-block\";\n  },\n\n  setOrder: function(order) {\n    this.order = order;\n    return this.render();\n  },\n\n  // TODO: make more generic\n  render: function() {\n    this.setName(\"Sorting\");\n    this.removeAllNodes();\n\n    var comps = this.getComparators();\n    for (var i = 0, m; i < comps.length; i++) {\n      m = comps[i];\n      this._addNode(m);\n    }\n\n    var el = this.buildDOM();\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(el);\n    return this;\n  },\n\n  _addNode(m) {\n    var text = m.text;\n    var style = {};\n    if (text === this.order) {\n      style.backgroundColor = \"#77ED80\";\n    }\n    return this.addNode(text, (() => {\n      if ((m.precode != null)) { m.precode(); }\n      this.model.comparator = m.comparator;\n      this.model.sort();\n      return this.setOrder(m.text);\n    }\n    ), {\n        style: style\n    });\n  },\n\n  getComparators: function() {\n    var models = [];\n\n\n    models.push({text: \"ID ↑\", comparator: \"id\"});\n\n    models.push({text: \"ID ↓\", comparator: function(a, b) {\n      // auto converts to string for localeCompare\n        return - (\"\" + a.get(\"id\")).localeCompare(\"\" + b.get(\"id\"), [], {numeric: true} );\n    }});\n\n    models.push({text: \"Label ↑\", comparator: \"name\"});\n\n    models.push({text: \"Label ↓\", comparator: function(a, b) {\n        return - a.get(\"name\").localeCompare(b.get(\"name\"));\n    }});\n\n    models.push({text: \"Seq ↑\", comparator: \"seq\"});\n\n    models.push({text: \"Seq ↓\", comparator: function(a,b) {\n        return - a.get(\"seq\").localeCompare(b.get(\"seq\"));\n    }});\n\n    var setIdent = () => {\n      return this.ident = this.g.stats.identity();\n    };\n\n    var setGaps = () => {\n      this.gaps = {};\n      return this.model.each((el) => {\n        var seq = el.attributes.seq;\n        return this.gaps[el.id] = (_.reduce(seq, (function(memo, c) { return c === '-' ? ++memo: undefined; }),0))/ seq.length;\n      });\n    };\n\n    models.push({text: \"Identity ↑\",comparator: ((a,b) => {\n      var val = this.ident[a.id] - this.ident[b.id];\n      console.log(this.ident[a.id],this.ident[b.id]);\n      if (val > 0) { return 1; }\n      if (val < 0) { return -1; }\n      return 0;\n    }\n    ), precode: setIdent});\n\n    models.push({text: \"Identity ↓\", comparator: ((a,b) => {\n      var val = this.ident[a.id] - this.ident[b.id];\n      if (val > 0) { return -1; }\n      if (val < 0) { return 1; }\n      return 0;\n    }\n    ), precode: setIdent});\n\n    models.push({text: \"Gaps ↑\", comparator: ((a,b) => {\n      var val = this.gaps[a.id] - this.gaps[b.id];\n      if (val > 0) { return 1; }\n      if (val < 0) { return -1; }\n      return 0;\n    }\n    ), precode: setGaps});\n\n    models.push({text: \"Gaps ↓\", comparator: ((a,b) => {\n      var val = this.gaps[a.id] - this.gaps[b.id];\n      if (val < 0) { return 1; }\n      if (val > 0) { return -1; }\n      return 0;\n    }\n    ), precode: setGaps});\n\n    models.push({text: \"Consensus to top\", comparator(seq) {\n        return !seq.get(\"ref\");\n    }});\n\n    //models.push text: \"Partition codes ↑\", comparator: \"partition\", precode: =>\n      //# set partitions random\n      //@g.vis.set('labelPartition', true)\n      //@model.each (el) ->\n        //el.set('partition', _.random(1,3))\n\n\n    return models;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/OrderingMenu.js\n **/","var SelectionMenu;\nvar MenuBuilder = require(\"../menubuilder\");\n\nmodule.exports = SelectionMenu = MenuBuilder.extend({\n\n  initialize(data) {\n    this.g = data.g;\n    return this.el.style.display = \"inline-block\";\n  },\n\n  render() {\n    this.setName(\"Selection\");\n    this.addNode(\"Find Motif (supports RegEx)\", () => {\n      var search = prompt(\"your search\", \"D\");\n      return this.g.user.set(\"searchText\", search);\n    });\n\n    this.addNode(\"Invert columns\", () => {\n      return this.g.selcol.invertCol(((function() {\n        var result = [];\n        var end = this.model.getMaxLength();\n        var i = 0;\n        if (0 <= end) {\n          while (i <= end) {\n            result.push(i++);\n          }\n        } else {\n          while (i >= end) {\n            result.push(i--);\n          }\n        }\n        return result;\n      })()));\n    });\n    this.addNode(\"Invert rows\", () => {\n      return this.g.selcol.invertRow(this.model.pluck(\"id\"));\n    });\n    this.addNode(\"Reset\", () => {\n      return this.g.selcol.reset();\n    });\n    this.el.appendChild(this.buildDOM());\n    return this;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/SelectionMenu.js\n **/","var VisMenu;\nvar MenuBuilder = require(\"../menubuilder\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = VisMenu = MenuBuilder.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.el.style.display = \"inline-block\";\n    return this.listenTo(this.g.vis, \"change\", this.render);\n  },\n\n  render: function() {\n    this.removeAllNodes();\n    this.setName(\"Vis.elements\");\n\n    var visElements = this.getVisElements();\n    for (var i = 0, visEl; i < visElements.length; i++) {\n      visEl = visElements[i];\n      this._addVisEl(visEl);\n    }\n\n    // other\n    this.addNode(\"Reset\", () => {\n      this.g.vis.set(\"labels\", true);\n      this.g.vis.set(\"sequences\", true);\n      this.g.vis.set(\"metacell\", true);\n      this.g.vis.set(\"conserv\", true);\n      this.g.vis.set(\"labelId\", true);\n      this.g.vis.set(\"labelName\", true);\n      this.g.vis.set(\"labelCheckbox\", false);\n      this.g.vis.set(\"seqlogo\", false);\n      this.g.vis.set(\"gapHeader\", false);\n      this.g.vis.set(\"leftHeader\", true);\n      this.g.vis.set(\"metaGaps\", true);\n      this.g.vis.set(\"metaIdentity\", true);\n      return this.g.vis.set(\"metaLinks\", true);\n    });\n\n    // TODO: make more efficient\n    dom.removeAllChilds(this.el);\n    this.el.appendChild(this.buildDOM());\n    return this;\n  },\n\n  _addVisEl(visEl) {\n    var style = {};\n\n    if (this.g.vis.get(visEl.id)) {\n      var pre = \"Hide \";\n      style.color = \"red\";\n    } else {\n      pre = \"Show \";\n      style.color = \"green\";\n    }\n\n    return this.addNode( (pre + visEl.name), (() => {\n      return this.g.vis.set(visEl.id, ! this.g.vis.get(visEl.id));\n    }\n    ),\n      {style: style\n    });\n  },\n\n  getVisElements: function() {\n    var vis = [];\n    vis.push({name: \"residues indices\", id: \"markers\"});\n    vis.push({name: \"ID/Label\", id: \"labels\"});\n    //vis.push name: \"Sequences\", id: \"sequences\"\n    vis.push({name: \"meta info (Gaps/Ident)\", id: \"metacell\"});\n    vis.push({name: \"overview panel\", id: \"overviewbox\"});\n    vis.push({name: \"sequence logo\", id: \"seqlogo\"});\n    vis.push({name: \"gap weights\", id: \"gapHeader\"});\n    vis.push({name: \"conservation weights\", id: \"conserv\"});\n    //vis.push name: \"Left header\", id: \"leftHeader\"\n    vis.push({name: \"Label\", id: \"labelName\"});\n    vis.push({name: \"ID\", id: \"labelId\"});\n    //vis.push name: \"Label checkbox\", id: \"labelCheckbox\"\n    vis.push({name: \"gaps %\", id: \"metaGaps\"});\n    vis.push({name: \"identity score\", id: \"metaIdentity\"});\n    // vis.push name: \"Meta links\", id: \"metaLinks\"\n    return vis;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/menu/views/VisMenu.js\n **/","// models\nvar SeqCollection = require(\"./model/SeqCollection\");\n\n// globals\nvar Colorator = require(\"./g/colorscheme\");\nvar Columns = require(\"./g/columns\");\nvar Config = require(\"./g/config\");\nvar Package = require(\"./g/package\");\nvar SelCol = require(\"./g/selection/SelectionCol\");\nvar User = require(\"./g/user\");\nvar Visibility = require(\"./g/visibility\");\nvar VisOrdering = require(\"./g/visOrdering\");\nvar Zoomer = require(\"./g/zoomer\");\n\n// MV from backbone\nvar boneView = require(\"backbone-childs\");\nvar Eventhandler = require(\"biojs-events\");\n\n// MSA views\nvar Stage = require(\"./views/Stage\");\n\n// statistics\nvar Stats = require(\"stat.seqs\");\n\n// utils\nvar $ = require(\"jbone\");\nvar FileHelper = require(\"./utils/file\");\nvar TreeHelper = require(\"./utils/tree\");\nvar ProxyHelper = require(\"./utils/proxy\");\n\n// opts is a dictionary consisting of\n// @param el [String] id or reference to a DOM element\n// @param seqs [SeqArray] Array of sequences for initlization\n// @param conf [Dict] user config\n// @param vis [Dict] config of visible views\n// @param zoomer [Dict] display settings like columnWidth\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n\n    if (!(typeof data !== \"undefined\" && data !== null)) { data = {}; }\n    // check for default arrays\n    if (!(data.colorscheme != null)) { data.colorscheme = {}; }\n    if (!(data.columns != null)) { data.columns = {}; }\n    if (!(data.conf != null)) { data.conf = {}; }\n    if (!(data.vis != null)) { data.vis = {}; }\n    if (!(data.visorder != null)) { data.visorder = {}; }\n    if (!(data.zoomer != null)) { data.zoomer = {}; }\n\n    // g is our global Mediator\n    this.g = Eventhandler.mixin({});\n\n    // load seqs and add subviews\n    this.seqs = this.g.seqs = new SeqCollection(data.seqs, this.g);\n\n    // populate it and init the global models\n    this.g.config = new Config(data.conf);\n    this.g.package = new Package(this.g);\n    this.g.selcol = new SelCol([],{g:this.g});\n    this.g.user = new User();\n    this.g.vis = new Visibility(data.vis, {model: this.seqs});\n    this.g.visorder = new VisOrdering(data.visorder);\n    this.g.zoomer = new Zoomer(data.zoomer,{g:this.g, model: this.seqs});\n\n    // debug mode\n    if (window.location.hostname === \"localhost\") {\n      this.g.config.set(\"debug\", true);\n    }\n\n    this._loadSeqs(data);\n\n    // utils\n    this.u = {};\n    this.u.file = new FileHelper(this);\n    this.u.proxy = new ProxyHelper({g: this.g});\n    this.u.tree = new TreeHelper(this);\n\n    if (this.g.config.get(\"eventBus\") === true) {\n      this.startEventBus();\n    }\n\n    if (this.g.config.get(\"dropImport\")) {\n      var events =\n        {\"dragover\": this.dragOver,\n        \"drop\": this.dropFile\n        };\n      this.delegateEvents(events);\n    }\n\n    if (data.importURL) {\n      this.u.file.importURL(data.importURL, () => {\n        return this.render();\n      });\n    }\n\n    if (data.bootstrapMenu) {\n      // pass menu configuration to defaultmenu\n      if(data.menu){\n        this.menuConfig = data.menu;\n      }\n      this.g.config.set(\"bootstrapMenu\", true);\n    }\n\n    this.draw();\n    // add models to the msa (convenience)\n    return this.m();\n  },\n\n  _loadSeqs: function(data) {\n    // stats\n    var pureSeq = this.seqs.pluck(\"seq\");\n    this.g.stats = new Stats(this.seqs, {useGaps: true});\n    this.g.stats.alphabetSize = this.g.config.get(\"alphabetSize\");\n    this.g.columns = new Columns(data.columns,this.g.stats);  // for action on the columns like hiding\n\n    // depending config\n    this.g.colorscheme = new Colorator(data.colorscheme, pureSeq, this.g.stats);\n\n    // more init\n    return this.g.zoomer.setEl(this.el, this.seqs);\n  },\n\n  // proxy to the utility package\n  importURL: function() {\n    return this.u.file.importURL.apply(this.u.file, arguments);\n  },\n\n  // add models to the msa (convenience)\n  m: function() {\n    var m = {};\n    m.model = require(\"./model\");\n    m.selection = require(\"./g/selection/Selection\");\n    m.selcol = require(\"./g/selection/SelectionCol\");\n    m.view = require(\"backbone-viewj\");\n    m.boneView = require(\"backbone-childs\");\n    return this.m = m;\n  },\n\n  draw: function() {\n\n    this.removeViews();\n\n    this.addView(\"stage\",new Stage({model: this.seqs, g: this.g}));\n    this.el.setAttribute(\"class\", \"biojs_msa_div\");\n\n    // bootstraps the menu bar by default -> destroys modularity\n    if (this.g.config.get(\"bootstrapMenu\")) {\n      var menuDiv = document.createElement('div');\n      var wrapperDiv = document.createElement('div');\n      if (!this.el.parentNode) {\n        wrapperDiv.appendChild(menuDiv);\n        wrapperDiv.appendChild(this.el);\n      } else {\n        this.el.parentNode.replaceChild(wrapperDiv, this.el);\n        wrapperDiv.appendChild(menuDiv);\n        wrapperDiv.appendChild(this.el);\n      }\n\n      var bootstrapOpts = {el: menuDiv,\n        msa: this,\n      };\n      if(this.menuConfig){\n        bootstrapOpts.menu = this.menuConfig;\n      }\n      var defMenu = new msa.menu.defaultmenu(bootstrapOpts);\n      defMenu.render();\n    }\n\n    return $(window).on(\"resize\", (e) => {\n      var f = function() {\n        return this.g.zoomer.autoResize();\n      };\n      return setTimeout(f.bind(this), 5);\n    }\n    );\n  },\n\n  dragOver: function(e) {\n    // prevent the normal browser actions\n    e.preventDefault();\n    e.target.className = 'hover';\n    return false;\n  },\n\n  dropFile: function(e) {\n    e.preventDefault();\n    var files = e.target.files || e.dataTransfer.files;\n    this.u.file.importFiles(files);\n    return false;\n  },\n\n  startEventBus() {\n    var busObjs = [\"config\", \"columns\", \"colorscheme\", \"selcol\" ,\"vis\", \"visorder\", \"zoomer\"];\n    return (() => {\n      var result = [];\n      for (var i = 0, key; i < busObjs.length; i++) {\n        key = busObjs[i];\n        result.push(this._proxyToG(key));\n      }\n      return result;\n    })();\n  },\n\n  _proxyToG: function(key) {\n    return this.listenTo(this.g[key], \"all\",function(name,prev,now,opts) {\n      // suppress duplicate events\n      if (name === \"change\") { return; }\n      // backbone uses the second argument for the next value -> swap\n      if ((typeof opts !== \"undefined\" && opts !== null)) {\n        return this.g.trigger(key + \":\" + name,now,prev,opts);\n      } else {\n        return this.g.trigger(key + \":\" + name,now,prev);\n      }\n    });\n  },\n\n  render: function() {\n    if (this.seqs === undefined || this.seqs.length === 0) {\n      console.log(\"warning. empty seqs.\");\n    }\n    this.renderSubviews();\n    this.g.vis.set(\"loaded\", true);\n    return this;\n  }\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/msa.js\n **/","var boneView = require(\"backbone-childs\");\nvar SeqBlock = require(\"./canvas/CanvasSeqBlock\");\nvar LabelBlock = require(\"./labels/LabelBlock\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    if (true) {\n      var labelblock = new LabelBlock({model: this.model, g: this.g});\n      labelblock.ordering = -1;\n      this.addView(\"labelblock\",labelblock);\n    }\n\n    if (this.g.vis.get(\"sequences\")) {\n      var seqblock = new SeqBlock({model: this.model, g: this.g});\n      seqblock.ordering = 0;\n      this.addView(\"seqblock\",seqblock);\n    }\n\n    this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.adjustHeight);\n    this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.adjustWidth);\n    return this.listenTo(this.g.columns, \"change:hidden\", this.adjustHeight);\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_albody\";\n    this.el.style.whiteSpace = \"nowrap\";\n    this.adjustHeight();\n    this.adjustWidth();\n    return this;\n  },\n\n  adjustHeight: function() {\n    if (this.g.zoomer.get(\"alignmentHeight\") === \"auto\") {\n      // TODO: fix the magic 5\n      return this.el.style.height = (this.g.zoomer.get(\"rowHeight\") * this.model.length) + 5;\n    } else {\n      return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\");\n    }\n  },\n\n  adjustWidth: function() {\n    // TODO: 15 is the width of the scrollbar\n    return this.el.style.width = this.getWidth();\n  },\n\n  getWidth: function() {\n    var width = 0;\n    width += this.g.zoomer.getLeftBlockWidth();\n    if (this.g.vis.get(\"sequences\")) {\n      width += this.g.zoomer.get(\"alignmentWidth\");\n    }\n    return width;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/AlignmentBody.js\n **/","var OverviewBox;\nvar view = require(\"backbone-viewj\");\nvar mouse = require(\"mouse-pos\");\nvar selection = require(\"../g/selection/Selection\");\nvar jbone = require(\"jbone\");\nvar _ = require(\"underscore\");\n\nmodule.exports = OverviewBox = view.extend({\n\n  className: \"biojs_msa_overviewbox\",\n  tagName: \"canvas\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo( this.g.zoomer,\"change:boxRectWidth change:boxRectHeight change:overviewboxPaddingTop\", this.rerender);\n    this.listenTo(this.g.selcol, \"add reset change\", this.rerender);\n    this.listenTo(this.g.columns, \"change:hidden\", this.rerender);\n    this.listenTo(this.g.colorscheme, \"change:showLowerCase\", this.rerender);\n    this.listenTo(this.model, \"change\", _.debounce(this.rerender, 5));\n\n    // color\n    this.color = this.g.colorscheme.getSelectedScheme();\n    this.listenTo(this.g.colorscheme, \"change:scheme\", function() {\n      this.color = this.g.colorscheme.getSelectedScheme();\n      return this.rerender();\n    });\n    return this.dragStart = [];\n  },\n\n  events:\n    {click: \"_onclick\",\n    mousedown: \"_onmousedown\"\n    },\n\n  rerender: function() {\n    if (!this.g.config.get(\"manualRendering\")) {\n      return this.render();\n    }\n  },\n\n  render: function() {\n    this._createCanvas();\n    this.el.textContent = \"overview\";\n    this.el.style.marginTop = this.g.zoomer.get(\"overviewboxPaddingTop\");\n\n    // background bg for non-drawed area\n    this.ctx.fillStyle = \"#999999\";\n    this.ctx.fillRect(0,0,this.el.width,this.el.height);\n\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var showLowerCase = this.g.colorscheme.get(\"showLowerCase\");\n\n    var y = -rectHeight;\n    var end = this.model.length - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      var seq = this.model.at(i).get(\"seq\");\n      var x = 0;\n      y = y + rectHeight;\n\n\n      if (this.model.at(i).get(\"hidden\")) {\n        // hidden seq\n        console.log(this.model.at(i).get(\"hidden\"));\n        this.ctx.fillStyle = \"grey\";\n        this.ctx.fillRect(0,y,seq.length * rectWidth,rectHeight);\n        continue;\n      }\n\n      var end1 = seq.length - 1;\n      for (var j = 0; 0 < end1 ? j <= end1 : j >= end1; 0 < end1 ? j++ : j--) {\n        var c = seq[j];\n        // todo: optional uppercasing\n        if (showLowerCase) { c = c.toUpperCase(); }\n        var color = this.color.getColor(c, {pos: j});\n\n        if (hidden.indexOf(j) >= 0) {\n          color = \"grey\";\n        }\n\n        if ((typeof color !== \"undefined\" && color !== null)) {\n          this.ctx.fillStyle = color;\n          this.ctx.fillRect(x,y,rectWidth,rectHeight);\n        }\n\n        x = x + rectWidth;\n      }\n    }\n\n    return this._drawSelection();\n  },\n\n  _drawSelection: function() {\n    // hide during selection\n    if (this.dragStart.length > 0 && !this.prolongSelection) { return; }\n\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n    var maxHeight = rectHeight * this.model.length;\n    this.ctx.fillStyle = \"#666666\";\n    this.ctx.globalAlpha = 0.9;\n    var end = this.g.selcol.length - 1;\n    for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n      var sel = this.g.selcol.at(i);\n      if(!sel) continue;\n      if (sel.get('type') === 'column') {\n        this.ctx.fillRect( rectWidth * sel.get('xStart'),0,rectWidth *\n        (sel.get('xEnd') - sel.get('xStart') + 1),maxHeight\n        );\n      } else if (sel.get('type') === 'row') {\n        var seq = (this.model.filter(function(el) { return el.get('id') === sel.get('seqId'); }))[0];\n        var pos = this.model.indexOf(seq);\n        this.ctx.fillRect(0,rectHeight * pos, rectWidth * seq.get('seq').length, rectHeight);\n      } else if (sel.get('type') === 'pos') {\n        seq = (this.model.filter(function(el) { return el.get('id') === sel.get('seqId'); }))[0];\n        pos = this.model.indexOf(seq);\n        this.ctx.fillRect(rectWidth * sel.get('xStart'),rectHeight * pos, rectWidth * (sel.get('xEnd') - sel.get('xStart') + 1), rectHeight);\n      }\n    }\n\n    return this.ctx.globalAlpha = 1;\n  },\n\n  _onclick: function(evt) {\n    return this.g.trigger(\"meta:click\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmousemove: function(e) {\n    // duplicate events\n    if (this.dragStart.length === 0) { return; }\n\n    this.render();\n    this.ctx.fillStyle = \"#666666\";\n    this.ctx.globalAlpha = 0.9;\n\n    var rect = this._calcSelection( mouse.abs(e) );\n    this.ctx.fillRect(rect[0][0],rect[1][0],rect[0][1] - rect[0][0], rect[1][1] - rect[1][0]);\n\n    // abort selection events of the browser\n    e.preventDefault();\n    return e.stopPropagation();\n  },\n\n  // start the selection mode\n  _onmousedown: function(e) {\n    this.dragStart = mouse.abs(e);\n    this.dragStartRel = mouse.rel(e);\n\n    if (e.ctrlKey || e.metaKey) {\n      this.prolongSelection = true;\n    } else {\n      this.prolongSelection = false;\n    }\n    // enable global listeners\n    jbone(document.body).on('mousemove.overmove', (e) => this._onmousemove(e));\n    jbone(document.body).on('mouseup.overup', (e) => this._onmouseup(e));\n    return this.dragStart;\n  },\n\n  // calculates the current selection\n  _calcSelection: function(dragMove) {\n    // relative to first click\n    var dragRel = [dragMove[0] - this.dragStart[0], dragMove[1] - this.dragStart[1]];\n\n    // relative to target\n    for (var i = 0; i <= 1; i++) {\n      dragRel[i] = this.dragStartRel[i] + dragRel[i];\n    }\n\n    // 0:x, 1: y\n    var rect = [[this.dragStartRel[0], dragRel[0]], [this.dragStartRel[1], dragRel[1]]];\n\n    // swap the coordinates if needed\n    for (var i = 0; i <= 1; i++) {\n      if (rect[i][1] < rect[i][0]) {\n        rect[i] = [rect[i][1], rect[i][0]];\n      }\n\n      // lower limit\n      rect[i][0] = Math.max(rect[i][0], 0);\n    }\n\n    return rect;\n  },\n\n  _endSelection: function(dragEnd) {\n    // remove listeners\n    jbone(document.body).off('.overmove');\n    jbone(document.body).off('.overup');\n\n    // duplicate events\n    if (this.dragStart.length === 0) { return; }\n\n    var rect = this._calcSelection(dragEnd);\n\n    // x\n    for (var i = 0; i <= 1; i++) {\n      rect[0][i] = Math.floor( rect[0][i] / this.g.zoomer.get(\"boxRectWidth\"));\n    }\n\n    // y\n    for (var i = 0; i <= 1; i++) {\n      rect[1][i] = Math.floor( rect[1][i] / this.g.zoomer.get(\"boxRectHeight\") );\n    }\n\n    // upper limit\n    rect[0][1] = Math.min(this.model.getMaxLength() - 1, rect[0][1]);\n    rect[1][1] = Math.min(this.model.length - 1, rect[1][1]);\n\n    // select\n    var selis = [];\n    for (var j = rect[1][0]; rect[1][0] < rect[1][1] ? j <= rect[1][1] : j >= rect[1][1]; rect[1][0] < rect[1][1] ? j++ : j--) {\n      var args = {seqId: this.model.at(j).get('id'), xStart: rect[0][0], xEnd: rect[0][1]};\n      selis.push(new selection.possel(args));\n    }\n\n    // reset\n    this.dragStart = [];\n    // look for ctrl key\n    if (this.prolongSelection) {\n      this.g.selcol.add(selis);\n    } else {\n      this.g.selcol.reset(selis);\n    }\n\n    // safety check + update offset\n    this.g.zoomer.setLeftOffset(rect[0][0]);\n    return this.g.zoomer.setTopOffset(rect[1][0]);\n  },\n\n  // ends the selection mode\n  _onmouseup: function(e) {\n    return this._endSelection(mouse.abs(e));\n  },\n\n  _onmouseout: function(e) {\n    return this._endSelection(mouse.abs(e));\n  },\n\n // init the canvas\n  _createCanvas: function() {\n    var rectWidth = this.g.zoomer.get(\"boxRectWidth\");\n    var rectHeight = this.g.zoomer.get(\"boxRectHeight\");\n\n    this.el.height = this.model.length * rectHeight;\n    this.el.width = this.model.getMaxLength() * rectWidth;\n    this.ctx = this.el.getContext(\"2d\");\n    this.el.style.overflow = \"scroll\";\n    return this.el.style.cursor = \"crosshair\";\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/OverviewBox.js\n **/","var boneView = require(\"backbone-childs\");\nvar _ = require('underscore');\nvar k = require('koala-js');\nvar dom = require('dom-helper');\nvar sel = require(\"../g/selection/Selection\");\n\n// this is a very simplistic approach to show search result\n// TODO: needs proper styling\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.user, \"change:searchText\", function(model, prop) {\n      this.search(prop);\n      return this.render();\n    });\n    this.sel = [];\n    return this.selPos = 0;\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  render: function() {\n    this.renderSubviews();\n\n    this.el.className = \"biojs_msa_searchresult\";\n    var searchText = this.g.user.get(\"searchText\");\n    if ((typeof searchText !== \"undefined\" && searchText !== null) && searchText.length > 0) {\n      if (this.sel.length === 0) {\n        this.el.textContent = \"no selection found\";\n      } else {\n        this.resultBox = k.mk(\"div\");\n        this.resultBox.className = \"biojs_msa_searchresult_ovbox\";\n        this.updateResult();\n        this.el.appendChild(this.resultBox);\n        this.el.appendChild(this.buildBtns());\n      }\n    }\n    return this;\n  },\n\n  updateResult: function() {\n      var text = \"search pattern: \" + this.g.user.get(\"searchText\");\n      text += \", selection: \" + (this.selPos + 1);\n      var seli = this.sel[this.selPos];\n      text += \" (\";\n      text += seli.get(\"xStart\") + \" - \" + seli.get(\"xEnd\");\n      text += \", id: \" + seli.get(\"seqId\");\n      text += \")\";\n      return this.resultBox.textContent = text;\n  },\n\n  buildBtns: function() {\n    var prevBtn = k.mk(\"button\");\n    prevBtn.textContent = \"Prev\";\n    prevBtn.addEventListener(\"click\", () => {\n      return this.moveSel(-1);\n    });\n\n    var nextBtn = k.mk(\"button\");\n    nextBtn.textContent = \"Next\";\n    nextBtn.addEventListener(\"click\", () => {\n      return this.moveSel(1);\n    });\n\n    var allBtn = k.mk(\"button\");\n    allBtn.textContent = \"All\";\n    allBtn.addEventListener(\"click\", () => {\n      return this.g.selcol.reset(this.sel);\n    });\n\n    var searchrow = k.mk(\"div\");\n    searchrow.appendChild(prevBtn);\n    searchrow.appendChild(nextBtn);\n    searchrow.appendChild(allBtn);\n    searchrow.className = \"biojs_msa_searchresult_row\";\n    return searchrow;\n  },\n\n  moveSel: function(relDist) {\n    var selNew = this.selPos + relDist;\n    if (selNew < 0 || selNew >= this.sel.length) {\n      return -1;\n    } else {\n      this.focus(selNew);\n      this.selPos = selNew;\n      return this.updateResult();\n    }\n  },\n\n  focus: function(selPos) {\n    var seli = this.sel[selPos];\n    var leftIndex = seli.get(\"xStart\");\n    this.g.zoomer.setLeftOffset(leftIndex);\n    return this.g.selcol.reset([seli]);\n  },\n\n  search: function(searchText) {\n    // marks all hits\n    var origIndex;\n    var search = new RegExp(searchText, \"gi\");\n    var newSeli = [];\n    var leftestIndex = origIndex = 100042;\n\n    this.model.each(function(seq) {\n      var strSeq = seq.get(\"seq\");\n      return (() => {\n        var match;\n        var result = [];\n        while (match = search.exec(strSeq)) {\n          var index = match.index;\n          var args = {xStart: index, xEnd: index + match[0].length - 1, seqId:\n            seq.get(\"id\")};\n          newSeli.push(new sel.possel(args));\n          result.push(leftestIndex = Math.min(index, leftestIndex));\n        }\n        return result;\n      })();\n    });\n\n    this.g.selcol.reset(newSeli);\n\n    // safety check + update offset\n    if (leftestIndex === origIndex) { leftestIndex = 0; }\n    this.g.zoomer.setLeftOffset(leftestIndex);\n\n    return this.sel = newSeli;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/Search.js\n **/","var boneView = require(\"backbone-childs\");\nvar AlignmentBody = require(\"./AlignmentBody\");\nvar HeaderBlock = require(\"./header/HeaderBlock\");\nvar OverviewBox = require(\"./OverviewBox\");\nvar Search = require(\"./Search\");\nvar _ = require('underscore');\n\n// a neat collection view\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.draw();\n    //@listenTo @model,\"reset\", ->\n    // we need to wait until stats gives us the ok\n    this.listenTo(this.g.stats,\"reset\", function() {\n      return this.rerender();\n    });\n\n    // debounce a bulk operation\n    this.listenTo(this.model,\"change:hidden\", _.debounce(this.rerender, 10));\n\n    this.listenTo(this.model,\"sort\", this.rerender);\n    this.listenTo(this.model,\"add\", function() {\n      return console.log(\"seq add\");\n    });\n\n    this.listenTo(this.g.vis,\"change:sequences\", this.rerender);\n    this.listenTo(this.g.vis,\"change:overviewbox\", this.rerender);\n    return this.listenTo(this.g.visorder,\"change\", this.rerender);\n  },\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"overviewbox\")) {\n      var overviewbox = new OverviewBox({model: this.model, g: this.g});\n      overviewbox.ordering = this.g.visorder.get('overviewBox');\n      this.addView(\"overviewBox\", overviewbox);\n    }\n\n    if (true) {\n      var headerblock = new HeaderBlock({model: this.model, g: this.g});\n      headerblock.ordering = this.g.visorder.get('headerBox');\n      this.addView(\"headerBox\", headerblock);\n    }\n\n    if (true) {\n      var searchblock = new Search({model: this.model, g: this.g});\n      searchblock.ordering = this.g.visorder.get('searchBox');\n      this.addView(\"searchbox\", searchblock);\n    }\n\n    var body = new AlignmentBody({model: this.model, g: this.g});\n    body.ordering = this.g.visorder.get('alignmentBody');\n    return this.addView(\"body\",body);\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_stage\";\n\n    return this;\n  },\n\n  rerender: function() {\n    if (!this.g.config.get(\"manualRendering\")) {\n      this.draw();\n      return this.render();\n    }\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/Stage.js\n **/","var Events = require(\"biojs-events\");\n\nmodule.exports = class CanvasCharCache {\n\n  constructor(g) {\n    this.g = g;\n    this.cache = {};\n    this.cacheHeight = 0;\n    this.cacheWidth = 0;\n  }\n\n  // returns a cached canvas\n  getFontTile(letter, width, height) {\n    // validate cache\n    if (width !== this.cacheWidth || height !== this.cacheHeight) {\n      this.cacheHeight = height;\n      this.cacheWidth = width;\n      this.cache = {};\n    }\n\n    if (this.cache[letter] === undefined) {\n      this.createTile(letter, width, height);\n    }\n\n    return this.cache[letter];\n  }\n\n  // creates a canvas with a single letter\n  // (for the fast font cache)\n  createTile(letter, width, height) {\n\n    var canvas = this.cache[letter] = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    this.ctx = canvas.getContext('2d');\n    this.ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n\n    this.ctx.textBaseline = 'middle';\n    this.ctx.textAlign = \"center\";\n\n    return this.ctx.fillText(letter,width / 2,height / 2,width);\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/canvas/CanvasCharCache.js\n **/","var cacheConstructor;\nvar _ = require(\"underscore\");\nvar Events = require(\"biojs-events\");\n\nvar cache =\n\n  {setMaxScrollHeight() {\n    return this.maxScrollHeight = this.g.zoomer.getMaxAlignmentHeight() - this.g.zoomer.get('alignmentHeight');\n  },\n\n  setMaxScrollWidth() {\n    return this.maxScrollWidth = this.g.zoomer.getMaxAlignmentWidth() - this.g.zoomer.getAlignmentWidth();\n  }\n  };\n\nmodule.exports = cacheConstructor = function(g,model) {\n  this.g = g;\n  this.model = model;\n  this.maxScrollWidth = 0;\n  this.maxScrollHeight = 0;\n  this.setMaxScrollHeight();\n  this.setMaxScrollWidth();\n\n  this.listenTo(this.g.zoomer, \"change:rowHeight\", this.setMaxScrollHeight);\n  this.listenTo(this.g.zoomer, \"change:columnWidth\", this.setMaxScrollWidth);\n  this.listenTo(this.g.zoomer, \"change:alignmentWidth\", this.setMaxScrollWidth);\n  this.listenTo(this.g.zoomer, \"change:alignmentHeight\", this.setMaxScrollHeight);\n  this.listenTo( this.model, \"add change reset\", (function() {\n    this.setMaxScrollHeight();\n    return this.setMaxScrollWidth();\n  }), this\n  );\n  return this;\n};\n\n_.extend(cacheConstructor.prototype, cache);\nEvents.mixin(cacheConstructor.prototype);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/canvas/CanvasCoordsCache.js\n **/","var SelectionClass;\nvar _ = require(\"underscore\");\n\nmodule.exports = SelectionClass = (function(g,ctx) {\n  this.g = g;\n  this.ctx = ctx;\n  return this;\n}\n);\n\n_.extend(SelectionClass.prototype, {\n\n  // TODO: should I be moved to the selection manager?\n  // returns an array with the currently selected residues\n  // e.g. [0,3] = pos 0 and 3 are selected\n  _getSelection: function(model) {\n    var maxLen = model.get(\"seq\").length;\n    var selection = [];\n    var sels = this.g.selcol.getSelForRow(model.get(\"id\"));\n    var rows = _.find(sels, function(el) { return el.get(\"type\") === \"row\"; });\n    if ((typeof rows !== \"undefined\" && rows !== null)) {\n      // full match\n      var end = maxLen - 1;\n      for (var n = 0; n <= end; n++) {\n        selection.push(n);\n      }\n    } else if (sels.length > 0) {\n      for (var i = 0, sel; i < sels.length; i++) {\n        sel = sels[i];\n        var start = sel.get(\"xStart\");\n        var end = sel.get(\"xEnd\");\n        for (var n = start; n <= end; n++) {\n          selection.push(n);\n        }\n      }\n    }\n\n    return selection;\n  },\n\n  // loops over all selection and calls the render method\n  _appendSelection: function(data) {\n    var seq = data.model.get(\"seq\");\n    var selection = this._getSelection(data.model);\n    // get the status of the upper and lower row\n    var [mPrevSel,mNextSel] = this._getPrevNextSelection(data.model);\n\n    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n\n    // avoid unnecessary loops\n    if (selection.length === 0) { return; }\n\n    var hiddenOffset = 0;\n    return (() => {\n      var result = [];\n      var end = seq.length - 1;\n      for (var n = 0; 0 < end ? n <= end : n >= end; 0 < end ? n++ : n--) {\n        result.push((() => {\n          if (data.hidden.indexOf(n) >= 0) {\n            return hiddenOffset++;\n          } else {\n            var k = n - hiddenOffset;\n            // only if its a new selection\n            if (selection.indexOf(n) >= 0 && (k === 0 || selection.indexOf(n - 1) < 0 )) {\n              return this._renderSelection({n:n,k:k,selection: selection,mPrevSel: mPrevSel,mNextSel:mNextSel, xZero: data.xZero, yZero: data.yZero, model: data.model});\n            }\n          }\n        })());\n      }\n      return result;\n    })();\n  },\n\n  // draws a single user selection\n  _renderSelection: function(data) {\n\n    var xZero = data.xZero;\n    var yZero = data.yZero;\n    var n = data.n;\n    var k = data.k;\n    var selection = data.selection;\n    // and checks the prev and next row for selection  -> no borders in a selection\n    var mPrevSel= data.mPrevSel;\n    var mNextSel = data.mNextSel;\n\n    // get the length of this selection\n    var selectionLength = 0;\n    var end = data.model.get(\"seq\").length - 1;\n    for (var i = n; n < end ? i <= end : i >= end; n < end ? i++ : i--) {\n      if (selection.indexOf(i) >= 0) {\n        selectionLength++;\n      } else {\n        break;\n      }\n    }\n\n    // TODO: ugly!\n    var boxWidth = this.g.zoomer.get(\"columnWidth\");\n    var boxHeight = this.g.zoomer.get(\"rowHeight\");\n    var totalWidth = (boxWidth * selectionLength) + 1;\n\n    var hidden = this.g.columns.get('hidden');\n\n    this.ctx.beginPath();\n    var beforeWidth = this.ctx.lineWidth;\n    this.ctx.lineWidth = 3;\n    var beforeStyle = this.ctx.strokeStyle;\n    this.ctx.strokeStyle = \"#FF0000\";\n\n    xZero += k * boxWidth;\n\n    // split up the selection into single cells\n    var xPart = 0;\n    var end1 = selectionLength - 1;\n    for (var i = 0; 0 < end1 ? i <= end1 : i >= end1; 0 < end1 ? i++ : i--) {\n      var xPos = n + i;\n      if (hidden.indexOf(xPos) >= 0) {\n        continue;\n      }\n      // upper line\n      if (!((typeof mPrevSel !== \"undefined\" && mPrevSel !== null) && mPrevSel.indexOf(xPos) >= 0)) {\n        this.ctx.moveTo(xZero + xPart, yZero);\n        this.ctx.lineTo(xPart + boxWidth + xZero, yZero);\n      }\n      // lower line\n      if (!((typeof mNextSel !== \"undefined\" && mNextSel !== null) && mNextSel.indexOf(xPos) >= 0)) {\n        this.ctx.moveTo(xPart + xZero, boxHeight + yZero);\n        this.ctx.lineTo(xPart + boxWidth + xZero, boxHeight + yZero);\n      }\n\n      xPart += boxWidth;\n    }\n\n    // left\n    this.ctx.moveTo(xZero,yZero);\n    this.ctx.lineTo(xZero, boxHeight + yZero);\n\n    // right\n    this.ctx.moveTo(xZero + totalWidth,yZero);\n    this.ctx.lineTo(xZero + totalWidth, boxHeight + yZero);\n\n    this.ctx.stroke();\n    this.ctx.strokeStyle = beforeStyle;\n    return this.ctx.lineWidth = beforeWidth;\n  },\n\n  // looks at the selection of the prev and next el\n  // TODO: this is very naive, as there might be gaps above or below\n  _getPrevNextSelection: function(model) {\n\n    var modelPrev = model.collection.prev(model);\n    var modelNext = model.collection.next(model);\n    if ((typeof modelPrev !== \"undefined\" && modelPrev !== null)) { var mPrevSel = this._getSelection(modelPrev); }\n    if ((typeof modelNext !== \"undefined\" && modelNext !== null)) { var mNextSel = this._getSelection(modelNext); }\n    return [mPrevSel,mNextSel];\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/canvas/CanvasSelection.js\n **/","var boneView = require(\"backbone-childs\");\nvar mouse = require(\"mouse-pos\");\nvar _ = require(\"underscore\");\nvar jbone = require(\"jbone\");\nvar CharCache = require(\"./CanvasCharCache\");\nvar SelectionClass = require(\"./CanvasSelection\");\nvar CanvasSeqDrawer = require(\"./CanvasSeqDrawer\");\nvar CanvasCoordsCache = require(\"./CanvasCoordsCache\");\n\nmodule.exports = boneView.extend({\n\n  tagName: \"canvas\",\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft change:_alignmentScrollTop\", function(model,value, options) {\n      if ((!(((typeof options !== \"undefined\" && options !== null) ? options.origin : undefined) != null)) || options.origin !== \"canvasseq\") {\n        return this.render();\n      }\n    });\n\n    this.listenTo(this.g.columns,\"change:hidden\", this.render);\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth change:alignmentHeight\", this.render);\n    this.listenTo(this.g.colorscheme, \"change\", this.render);\n    this.listenTo(this.g.selcol, \"reset add\", this.render);\n    this.listenTo(this.model, \"reset add\", this.render);\n\n    // el props\n    this.el.style.display = \"inline-block\";\n    this.el.style.overflowX = \"hidden\";\n    this.el.style.overflowY = \"hidden\";\n    this.el.className = \"biojs_msa_seqblock\";\n\n    this.ctx = this.el.getContext('2d');\n    this.cache = new CharCache(this.g);\n    this.coordsCache = new CanvasCoordsCache(this.g, this.model);\n\n    // clear the char cache\n    this.listenTo(this.g.zoomer, \"change:residueFont\", function() {\n      this.cache = new CharCache(this.g);\n      return this.render();\n    });\n\n    // init selection\n    this.sel = new SelectionClass(this.g,this.ctx);\n\n    this._setColor();\n\n    // throttle the expensive draw function\n    this.throttleTime = 0;\n    this.throttleCounts = 0;\n    if ((document.documentElement.style.webkitAppearance != null)) {\n      // webkit browser - no throttling needed\n      this.throttledDraw = function() {\n        var start = +new Date();\n        this.draw();\n        this.throttleTime += +new Date() - start;\n        this.throttleCounts++;\n        if (this.throttleCounts > 15) {\n          var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n          console.log(\"avgDrawTime/WebKit\", tTime);\n          // remove perf analyser\n          return this.throttledDraw = this.draw;\n        }\n      };\n    } else {\n      // slow browsers like Gecko\n      this.throttledDraw = _.throttle(this.throttledDraw, 30);\n    }\n\n    return this.manageEvents();\n  },\n\n\n  // measures the time of a redraw and thus set the throttle limit\n  throttledDraw: function() {\n    // +new is the fastest: http://jsperf.com/new-date-vs-date-now-vs-performance-now/6\n    var start = +new Date();\n    this.draw();\n    this.throttleTime += +new Date() - start;\n    this.throttleCounts++;\n\n    // remove itself after analysis\n    if (this.throttleCounts > 15) {\n      var tTime = Math.ceil(this.throttleTime / this.throttleCounts);\n      console.log(\"avgDrawTime\", tTime);\n      tTime *=  1.2; // add safety time\n      tTime = Math.max(20, tTime); // limit for ultra fast computers\n      return this.throttledDraw = _.throttle(this.draw, tTime);\n    }\n  },\n\n  manageEvents: function() {\n    var events = {};\n    events.mousedown = \"_onmousedown\";\n    events.touchstart = \"_ontouchstart\";\n\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.dblclick = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n\n    events.mousewheel = \"_onmousewheel\";\n    events.DOMMouseScroll = \"_onmousewheel\";\n    this.delegateEvents(events);\n\n    // listen for changes\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n    return this.dragStart = [];\n  },\n\n  _setColor: function() {\n    return this.color = this.g.colorscheme.getSelectedScheme();\n  },\n\n  draw: function() {\n    // fastest way to clear the canvas\n    // http://jsperf.com/canvas-clear-speed/25\n    this.el.width = this.el.width;\n\n    // draw all the stuff\n    if ((this.seqDrawer != null)  && this.model.length > 0) {\n      // char based\n      this.seqDrawer.drawLetters();\n      // row based\n      this.seqDrawer.drawRows(this.sel._appendSelection, this.sel);\n      return this.seqDrawer.drawRows(this.drawFeatures, this);\n    }\n  },\n\n  drawFeatures: function(data) {\n    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n    var rectHeight = this.g.zoomer.get(\"rowHeight\");\n    if (data.model.attributes.height > 1) {\n      var ctx = this.ctx;\n      data.model.attributes.features.each(function(feature) {\n        ctx.fillStyle = feature.attributes.fillColor || \"red\";\n        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n        var y = (feature.attributes.row + 1) * rectHeight;\n        return ctx.fillRect(feature.attributes.xStart * rectWidth + data.xZero,y + data.yZero,rectWidth * len,rectHeight);\n      });\n\n      // draw text\n      ctx.fillStyle = \"black\";\n      ctx.font = this.g.zoomer.get(\"residueFont\") + \"px mono\";\n      ctx.textBaseline = 'middle';\n      ctx.textAlign = \"center\";\n\n      return data.model.attributes.features.each(function(feature) {\n        var len = feature.attributes.xEnd - feature.attributes.xStart + 1;\n        var y = (feature.attributes.row + 1) * rectHeight;\n        return ctx.fillText( feature.attributes.text, data.xZero + feature.attributes.xStart *\n        rectWidth + (len / 2) * rectWidth, data.yZero + rectHeight * 0.5 + y\n        );\n      });\n    }\n  },\n\n  render: function() {\n\n    this.el.setAttribute('height', this.g.zoomer.get(\"alignmentHeight\") + \"px\");\n    this.el.setAttribute('width', this.g.zoomer.getAlignmentWidth() + \"px\");\n\n    this.g.zoomer._checkScrolling( this._checkScrolling([this.g.zoomer.get('_alignmentScrollLeft'),\n    this.g.zoomer.get('_alignmentScrollTop')] ),{header: \"canvasseq\"});\n\n    this._setColor();\n\n    this.seqDrawer = new CanvasSeqDrawer( this.g,this.ctx,this.model,\n      {width: this.el.width,\n      height: this.el.height,\n      color: this.color,\n      cache: this.cache\n    });\n\n    this.throttledDraw();\n    return this;\n  },\n\n  _onmousemove: function(e, reversed) {\n    if (this.dragStart.length === 0) { return; }\n\n    var dragEnd = mouse.abs(e);\n    // relative to first click\n    var relEnd = [dragEnd[0] - this.dragStart[0], dragEnd[1] - this.dragStart[1]];\n    // relative to initial scroll status\n\n    // scale events\n    var scaleFactor = this.g.zoomer.get(\"canvasEventScale\");\n    if (reversed) {\n      scaleFactor = 3;\n    }\n    for (var i = 0; i <= 1; i++) {\n      relEnd[i] = relEnd[i] * scaleFactor;\n    }\n\n    // calculate new scrolling vals\n    var relDist = [this.dragStartScroll[0] - relEnd[0], this.dragStartScroll[1] - relEnd[1]];\n\n    // round values\n    for (var i = 0; i <= 1; i++) {\n      relDist[i] = Math.round(relDist[i]);\n    }\n\n    // update scrollbar\n    var scrollCorrected = this._checkScrolling( relDist);\n    this.g.zoomer._checkScrolling(scrollCorrected, {origin: \"canvasseq\"});\n\n    // reset start if use scrolls out of bounds\n    for (var i = 0; i <= 1; i++) {\n      if (scrollCorrected[i] !== relDist[i]) {\n        if (scrollCorrected[i] === 0) {\n          // reset of left, top\n          this.dragStart[i] = dragEnd[i];\n          this.dragStartScroll[i] = 0;\n        } else {\n          // recalibrate on right, bottom\n          this.dragStart[i] = dragEnd[i] - scrollCorrected[i];\n        }\n      }\n    }\n\n    this.throttledDraw();\n\n    // abort selection events of the browser (mouse only)\n    if ((e.preventDefault != null)) {\n      e.preventDefault();\n      return e.stopPropagation();\n    }\n  },\n\n  // converts touches into old mouse event\n  _ontouchmove: function(e) {\n    this._onmousemove(e.changedTouches[0], true);\n    e.preventDefault();\n    return e.stopPropagation();\n  },\n\n  // start the dragging mode\n  _onmousedown: function(e) {\n    this.dragStart = mouse.abs(e);\n    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n    jbone(document.body).on('mousemove.overmove', (e) => this._onmousemove(e));\n    jbone(document.body).on('mouseup.overup', () => this._cleanup());\n    //jbone(document.body).on 'mouseout.overout', (e) => @_onmousewinout(e)\n    return e.preventDefault();\n  },\n\n  // starts the touch mode\n  _ontouchstart: function(e) {\n    this.dragStart = mouse.abs(e.changedTouches[0]);\n    this.dragStartScroll = [this.g.zoomer.get('_alignmentScrollLeft'), this.g.zoomer.get('_alignmentScrollTop')];\n    jbone(document.body).on('touchmove.overtmove', (e) => this._ontouchmove(e));\n    return jbone(document.body).on( 'touchend.overtend touchleave.overtleave touchcancel.overtcanel', (e) => this._touchCleanup(e)\n    );\n  },\n\n  // checks whether mouse moved out of the window\n  // -> terminate dragging\n  _onmousewinout: function(e) {\n    if (e.toElement === document.body.parentNode) {\n      return this._cleanup();\n    }\n  },\n\n  // terminates dragging\n  _cleanup: function() {\n    this.dragStart = [];\n    // remove all listeners\n    jbone(document.body).off('.overmove');\n    jbone(document.body).off('.overup');\n    return jbone(document.body).off('.overout');\n  },\n\n  // terminates touching\n  _touchCleanup: function(e) {\n    if (e.changedTouches.length > 0) {\n      // maybe we can send a final event\n      this._onmousemove(e.changedTouches[0], true);\n    }\n\n    this.dragStart = [];\n    // remove all listeners\n    jbone(document.body).off('.overtmove');\n    jbone(document.body).off('.overtend');\n    jbone(document.body).off('.overtleave');\n    return jbone(document.body).off('.overtcancel');\n  },\n\n  // might be incompatible with some browsers\n  _onmousewheel: function(e) {\n    var delta = mouse.wheelDelta(e);\n    this.g.zoomer.set('_alignmentScrollLeft', this.g.zoomer.get('_alignmentScrollLeft') + delta[0]);\n    this.g.zoomer.set('_alignmentScrollTop', this.g.zoomer.get('_alignmentScrollTop') + delta[1]);\n    return e.preventDefault();\n  },\n\n  _onclick: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:click\", res);\n      } else {\n        this.g.trigger(\"residue:click\", res);\n      }\n    }\n    return this.throttledDraw();\n  },\n\n  _onmousein: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:mousein\", res);\n      } else {\n        this.g.trigger(\"residue:mousein\", res);\n      }\n    }\n    return this.throttledDraw();\n  },\n\n  _onmouseout: function(e) {\n    var res = this._getClickPos(e);\n    if ((typeof res !== \"undefined\" && res !== null)) {\n      if ((res.feature != null)) {\n        this.g.trigger(\"feature:mouseout\", res);\n      } else {\n        this.g.trigger(\"residue:mouseout\", res);\n      }\n    }\n\n    return this.throttledDraw();\n  },\n\n  _getClickPos: function(e) {\n    var coords = mouse.rel(e);\n\n    coords[0] += this.g.zoomer.get(\"_alignmentScrollLeft\");\n    var x = Math.floor(coords[0] / this.g.zoomer.get(\"columnWidth\") );\n    var [y,rowNumber] = this.seqDrawer._getSeqForYClick(coords[1]);\n\n    // add hidden columns\n    x += this.g.columns.calcHiddenColumns(x);\n    // add hidden seqs\n    y += this.model.calcHiddenSeqs(y);\n\n    x = Math.max(0,x);\n    y = Math.max(0,y);\n\n    var seqId = this.model.at(y).get(\"id\");\n\n    if (rowNumber > 0) {\n      // click on a feature\n      var features = this.model.at(y).get(\"features\").getFeatureOnRow(rowNumber - 1, x);\n      if (!(features.length === 0)) {\n        var feature = features[0];\n        console.log(features[0].attributes);\n        return {seqId:seqId, feature: feature, rowPos: x, evt:e};\n      }\n    } else {\n      // click on a seq\n      return {seqId:seqId, rowPos: x, evt:e};\n    }\n  },\n\n  // checks whether the scrolling coordinates are valid\n  // @returns: [xScroll,yScroll] valid coordinates\n  _checkScrolling: function(scrollObj) {\n\n    // 0: maxLeft, 1: maxTop\n    var max = [this.coordsCache.maxScrollWidth, this.coordsCache.maxScrollHeight];\n\n    for (var i = 0; i <= 1; i++) {\n      if (scrollObj[i] > max[i]) {\n        scrollObj[i] = max[i];\n      }\n\n      if (scrollObj[i] < 0) {\n        scrollObj[i] = 0;\n      }\n    }\n\n    return scrollObj;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/canvas/CanvasSeqBlock.js\n **/","var construc;\nvar _ = require(\"underscore\");\n\nvar drawer =\n\n  {drawLetters: function() {\n\n    var rectHeight = this.rectHeight;\n\n    // rects\n    this.ctx.globalAlpha = this.g.colorscheme.get(\"opacity\");\n    this.drawSeqs(function(data) { return this.drawSeq(data, this._drawRect); });\n    this.ctx.globalAlpha = 1;\n\n    // letters\n    return this.drawSeqs(function(data) { return this.drawSeq(data, this._drawLetter); });\n  },\n\n  drawSeqs: function(callback, target) {\n    var hidden = this.g.columns.get(\"hidden\");\n\n    target = target || this;\n\n    var [start, y] = this.getStartSeq();\n\n    for (var i = start; i < this.model.length; i++) {\n      var seq = this.model.at(i);\n      if (seq.get('hidden')) {\n        continue;\n      }\n      callback.call(target, {model: seq, yPos: y, y: i, hidden: hidden});\n\n      var seqHeight = (seq.attributes.height || 1) * this.rectHeight;\n      y = y + seqHeight;\n\n      // out of viewport - stop\n      if (y > this.height) {\n          break;\n      }\n    }\n  },\n\n  // calls the callback for every drawable row\n  drawRows: function(callback, target) {\n    return this.drawSeqs(function(data) { return this.drawRow(data, callback, target); });\n  },\n\n  // draws a single row\n  drawRow: function(data, callback, target) {\n    var rectWidth = this.g.zoomer.get(\"columnWidth\");\n    var start = Math.max(0, Math.abs(Math.ceil( - this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n    var x = - Math.abs( - this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\n    var xZero = x - start * rectWidth;\n    var yZero = data.yPos;\n    return callback.call(target, {model: data.model, xZero: xZero, yZero: yZero, hidden: data.hidden});\n  },\n\n  // returns first sequence in the viewport\n  // y is the position to start drawing\n  getStartSeq: function() {\n    var start = (Math.max(0, Math.floor( this.g.zoomer.get('_alignmentScrollTop') / this.rectHeight))) + 1;\n    var counter = 0;\n    var i = 0;\n    while (counter < start && i < this.model.length) {\n      counter += this.model.at(i).attributes.height || 1;\n      i++;\n    }\n    var y = Math.max(0, this.g.zoomer.get('_alignmentScrollTop') - counter * this.rectHeight + (this.model.at(i - 1)\n    .attributes.height  || 1 ) * this.rectHeight);\n    return [i - 1, -y];\n  },\n\n  // returns [the clicked seq for a viewport, row number]\n  _getSeqForYClick: function(click) {\n    var [start, yDiff] = this.getStartSeq();\n    var yRel = yDiff % this.rectHeight;\n    var clickedRows = (Math.max(0, Math.floor( (click - yRel ) / this.rectHeight))) + 1;\n    var counter = 0;\n    var i = start;\n    while (counter < clickedRows && i < this.model.length) {\n      counter += this.model.at(i).attributes.height || 1;\n      i++;\n    }\n    var rowNumber = Math.max(0, Math.floor(click / this.rectHeight) - counter + (this.model.at(i - 1).get(\"height\") || 1));\n    return [i - 1, rowNumber];\n  },\n\n  // TODO: very expensive method\n  drawSeq: function(data, callback) {\n    var seq = data.model.get(\"seq\");\n    var y = data.yPos;\n    var rectWidth = this.rectWidth;\n    var rectHeight = this.rectHeight;\n\n    // skip unneeded blocks at the beginning\n    var start = Math.max(0, Math.abs(Math.ceil( - this.g.zoomer.get('_alignmentScrollLeft') / rectWidth)));\n    var x = - Math.abs( - this.g.zoomer.get('_alignmentScrollLeft') % rectWidth);\n\n    var res = {rectWidth: rectWidth, rectHeight: rectHeight, yPos: y, y: data.y};\n    var elWidth = this.width;\n\n    for (var j = start; j <  seq.length; j++) {\n      var c = seq[j];\n      c = c.toUpperCase();\n\n      // call the custom function\n      res.x = j;\n      res.c = c;\n      res.xPos = x;\n\n      // local call is faster than apply\n      // http://jsperf.com/function-calls-direct-vs-apply-vs-call-vs-bind/6\n      if (data.hidden.indexOf(j) < 0) {\n        callback(this, res);\n      } else {\n        continue;\n      }\n\n      // move to the right\n      x = x + rectWidth;\n\n      // out of viewport - stop\n      if (x > elWidth) {\n        break;\n      }\n    }\n  },\n\n  _drawRect: function(that, data) {\n    var color = that.color.getColor( data.c,\n      {pos:data.x,\n      y: data.y\n    });\n    if ((typeof color !== \"undefined\" && color !== null)) {\n      that.ctx.fillStyle = color;\n      return that.ctx.fillRect(data.xPos,data.yPos,data.rectWidth,data.rectHeight);\n    }\n  },\n\n  // REALLY expensive call on FF\n  // Performance:\n  // chrome: 2000ms drawLetter - 1000ms drawRect\n  // FF: 1700ms drawLetter - 300ms drawRect\n  _drawLetter: function(that,data) {\n    return that.ctx.drawImage(that.cache.getFontTile(data.c, data.rectWidth, data.rectHeight), data.xPos, data.yPos,data.rectWidth,data.rectHeight);\n  }\n  };\n\n\nmodule.exports = construc = function(g,ctx,model,opts) {\n  this.g = g;\n  this.ctx = ctx;\n  this.model = model;\n  this.width = opts.width;\n  this.height = opts.height;\n  this.color = opts.color;\n  this.cache = opts.cache;\n  this.rectHeight = this.g.zoomer.get(\"rowHeight\");\n  this.rectWidth = this.g.zoomer.get(\"columnWidth\");\n  return this;\n};\n\n_.extend(construc.prototype, drawer);\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/canvas/CanvasSeqDrawer.js\n **/","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\n\nvar ConservationView = view.extend({\n\n  className: \"biojs_msa_conserv\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n    // we need to wait until stats gives us the ok\n    //@listenTo @model, \"reset\",@render\n    this.listenTo(this.g.stats,\"reset\", this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    var conserv = this.g.stats.scale(this.g.stats.conservation());\n\n    dom.removeAllChilds(this.el);\n\n    var nMax = this.model.getMaxLength();\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n    var maxHeight = 20;\n    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\n    var s = svg.base({height: maxHeight, width: width});\n    s.style.display = \"inline-block\";\n    s.style.cursor = \"pointer\";\n\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var x = 0;\n    var n = 0;\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        n += stepSize;\n        continue;\n      }\n      width = cellWidth * stepSize;\n      var avgHeight = 0;\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        avgHeight += conserv[n];\n      }\n      var height = maxHeight *  (avgHeight / stepSize);\n\n      var rect =  svg.rect({x:x,y: maxHeight - height,width:width - cellWidth / 4,height:height,style:\n        \"stroke:red;stroke-width:1;\"\n      });rect.rowPos = n;\n      s.appendChild(rect);\n      x += width;\n      n += stepSize;\n    }\n\n    this.el.appendChild(s);\n    return this;\n  },\n\n  //TODO: make more general with HeaderView\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    // simulate hidden columns\n    return (() => {\n      var result = [];\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        result.push(this.g.trigger(\"bar:click\", {rowPos: rowPos + i, evt:evt}));\n      }\n      return result;\n    })();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"bar:mousein\", {rowPos: rowPos, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"bar:mouseout\", {rowPos: rowPos, evt:evt});\n  }\n});\n\nmodule.exports = ConservationView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/ConservationView.js\n **/","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\n\n// TODO: merge this with the conservation view\nvar ConservationView = view.extend({\n\n  className: \"biojs_msa_gapview\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    this.listenTo(this.g.columns, \"change:scaling\", this.render);\n    // we need to wait until stats gives us the ok\n    this.listenTo(this.model, \"reset\",this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    var gaps = this.g.stats.gaps();\n\n    dom.removeAllChilds(this.el);\n\n    var nMax = this.model.getMaxLength();\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n    var maxHeight = 20;\n    var width = cellWidth * (nMax - this.g.columns.get('hidden').length);\n\n    var s = svg.base({height: maxHeight, width: width});\n    s.style.display = \"inline-block\";\n    s.style.cursor = \"pointer\";\n\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n    var x = 0;\n    var n = 0;\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        n += stepSize;\n        continue;\n      }\n      width = cellWidth * stepSize;\n      var avgHeight = 0;\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        avgHeight += gaps[n];\n      }\n      var height = maxHeight *  (avgHeight / stepSize);\n\n      var rect =  svg.rect({x:x,y: maxHeight - height,width:width - cellWidth / 4,height:height,style:\n        \"stroke:red;stroke-width:1;\"\n      });rect.rowPos = n;\n      s.appendChild(rect);\n      x += width;\n      n += stepSize;\n    }\n\n    this.el.appendChild(s);\n    return this;\n  },\n\n  //TODO: make more general with HeaderView\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    // simulate hidden columns\n    return (() => {\n      var result = [];\n      var end = stepSize - 1;\n      for (var i = 0; 0 < end ? i <= end : i >= end; 0 < end ? i++ : i--) {\n        result.push(this.g.trigger(\"gap:click\", {rowPos: rowPos + i, evt:evt}));\n      }\n      return result;\n    })();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"gap:mousein\", {rowPos: rowPos, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    return this.g.trigger(\"gap:mouseout\", {rowPos: rowPos, evt:evt});\n  }\n});\n\nmodule.exports = ConservationView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/GapView.js\n **/","var boneView = require(\"backbone-childs\");\nvar LabelHeader = require(\"./LabelHeader\");\nvar RightLabelHeader = require(\"./RightHeaderBlock\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n    return this.listenTo(this.g.vis,\"change:labels change:metacell change:leftHeader\", () => {\n      this.draw();\n      return this.render();\n    });\n  },\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"leftHeader\") && (this.g.vis.get(\"labels\") || this.g.vis.get(\"metacell\"))) {\n      var lHeader = new LabelHeader({model: this.model, g: this.g});\n      lHeader.ordering = -50;\n      this.addView(\"lHeader\", lHeader);\n    }\n\n    var rHeader = new RightLabelHeader({model: this.model, g: this.g});\n    rHeader.ordering = 0;\n    return this.addView(\"rHeader\", rHeader);\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    return this.el.className = \"biojs_msa_header\";\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/HeaderBlock.js\n **/","var LabelHeader;\nvar k = require(\"koala-js\");\nvar view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\nmodule.exports = LabelHeader = view.extend({\n\n  className: \"biojs_msa_headers\",\n\n  initialize: function(data) {\n    this.g = data.g;\n\n    this.listenTo(this.g.vis, \"change:metacell change:labels\", this.render);\n    return this.listenTo(this.g.zoomer, \"change:labelWidth change:metaWidth\", this.render);\n  },\n\n  render: function() {\n\n    dom.removeAllChilds(this.el);\n\n    var width = 0;\n    width += this.g.zoomer.getLeftBlockWidth();\n    this.el.style.width = width + \"px\";\n\n    if (this.g.vis.get(\"labels\")) {\n      this.el.appendChild(this.labelDOM());\n    }\n\n    if (this.g.vis.get(\"metacell\")) {\n      this.el.appendChild(this.metaDOM());\n    }\n\n    this.el.style.display = \"inline-block\";\n    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n    return this;\n  },\n\n  labelDOM: function() {\n    var labelHeader = k.mk(\"div\");\n    labelHeader.style.width = this.g.zoomer.getLabelWidth();\n    labelHeader.style.display = \"inline-block\";\n\n    if (this.g.vis.get(\"labelCheckbox\")) {\n      labelHeader.appendChild(this.addEl(\".\", 10));\n    }\n\n    if (this.g.vis.get(\"labelId\")) {\n      labelHeader.appendChild(this.addEl(\"ID\", this.g.zoomer.get(\"labelIdLength\")));\n    }\n\n    if (this.g.vis.get(\"labelPartition\")) {\n      labelHeader.appendChild(this.addEl(\"part\", 15));\n    }\n\n    if (this.g.vis.get(\"labelName\")) {\n      var name = this.addEl(\"Label\");\n      //name.style.marginLeft = \"50px\"\n      labelHeader.appendChild(name);\n    }\n\n    return labelHeader;\n  },\n\n  addEl: function(content, width) {\n    var id = document.createElement(\"span\");\n    id.textContent = content;\n    if ((typeof width !== \"undefined\" && width !== null)) {\n      id.style.width = width + \"px\";\n    }\n    id.style.display = \"inline-block\";\n    return id;\n  },\n\n  metaDOM: function() {\n    var metaHeader = k.mk(\"div\");\n    metaHeader.style.width = this.g.zoomer.getMetaWidth();\n    metaHeader.style.display = \"inline-block\";\n\n    if (this.g.vis.get(\"metaGaps\")) {\n      metaHeader.appendChild(this.addEl(\"Gaps\", this.g.zoomer.get('metaGapWidth')));\n    }\n    if (this.g.vis.get(\"metaIdentity\")) {\n      metaHeader.appendChild(this.addEl(\"Ident\", this.g.zoomer.get('metaIdentWidth')));\n    }\n    // if @.g.vis.get \"metaLinks\"\n    //   metaHeader.appendChild @addEl(\"Links\")\n\n    return metaHeader;\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/LabelHeader.js\n **/","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\nvar svg = require(\"../../utils/svg\");\nvar jbone = require(\"jbone\");\n\nvar HeaderView = view.extend({\n\n  className: \"biojs_msa_marker\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:stepSize change:labelWidth change:columnWidth change:markerStepSize change:markerFontsize\", this.render);\n    this.listenTo(this.g.vis,\"change:labels change:metacell\", this.render);\n    return this.manageEvents();\n  },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.fontSize = this.g.zoomer.get(\"markerFontsize\");\n\n    var container = document.createElement(\"span\");\n    var n = 0;\n    var cellWidth = this.g.zoomer.get(\"columnWidth\");\n\n    var nMax = this.model.getMaxLength();\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    var hidden = this.g.columns.get(\"hidden\");\n\n    while (n < nMax) {\n      if (hidden.indexOf(n) >= 0) {\n        this.markerHidden(span,n, stepSize);\n        n += stepSize;\n        continue;\n      }\n      var span = document.createElement(\"span\");\n      span.style.width = (cellWidth * stepSize) + \"px\";\n      span.style.display = \"inline-block\";\n      // TODO: this doesn't work for a larger stepSize\n      if ((n + 1) % this.g.zoomer.get('markerStepSize') === 0) {\n        span.textContent = (n + 1);\n      } else {\n        span.textContent = \".\";\n      }\n      span.rowPos = n;\n\n      n += stepSize;\n      container.appendChild(span);\n    }\n\n    this.el.appendChild(container);\n    return this;\n  },\n\n  markerHidden: function(span,n,stepSize) {\n    var hidden = this.g.columns.get(\"hidden\").slice(0);\n\n    var min = Math.max(0, n - stepSize);\n    var prevHidden = true;\n    for (var j = min; min < n ? j <= n : j >= n; min < n ? j++ : j--) {\n      prevHidden &= hidden.indexOf(j) >= 0;\n    }\n\n    // filter duplicates\n    if (prevHidden) { return; }\n\n    var nMax = this.model.getMaxLength();\n\n    var length = 0;\n    var index = -1;\n    // accumlate multiple rows\n    for (var n = n; n < nMax ? n <= nMax : n >= nMax; n < nMax ? n++ : n--) {\n      if (!(index >= 0)) { index = hidden.indexOf(n); }// sets the first index\n      if (hidden.indexOf(n) >= 0) {\n        length++;\n      } else {\n        break;\n      }\n    }\n\n    var s = svg.base({height: 10, width: 10});\n    s.style.position = \"relative\";\n    var triangle = svg.polygon({points: \"0,0 5,5 10,0\", style:\n      \"fill:lime;stroke:purple;stroke-width:1\"\n    });jbone(triangle).on(\"click\", (evt) => {\n      hidden.splice(index, length);\n      return this.g.columns.set(\"hidden\", hidden);\n    });\n\n    s.appendChild(triangle);\n    span.appendChild(s);\n    return s;\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    return this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n  },\n\n  _onclick: function(evt) {\n    var rowPos = evt.target.rowPos;\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:click\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  },\n\n  _onmousein: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:mousein\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var rowPos = this.g.zoomer.get(\"stepSize\" * evt.rowPos);\n    var stepSize = this.g.zoomer.get(\"stepSize\");\n    return this.g.trigger(\"column:mouseout\", {rowPos: rowPos,stepSize: stepSize, evt:evt});\n  }\n});\n\nmodule.exports = HeaderView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/MarkerView.js\n **/","var MarkerView = require(\"./MarkerView\");\nvar ConservationView = require(\"./ConservationView\");\nvar boneView = require(\"backbone-childs\");\nvar _ = require('underscore');\nvar SeqLogoWrapper = require(\"./SeqLogoWrapper\");\nvar GapView = require(\"./GapView\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.blockEvents = false;\n\n    this.listenTo(this.g.vis,\"change:header\", function() {\n      this.draw();\n      return this.render();\n    });\n    this.listenTo(this.g.vis,\"change\", this._setSpacer);\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth\", this._setWidth);\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollLeft\", this._adjustScrollingLeft);\n\n    // TODO: duplicate rendering\n    this.listenTo(this.g.columns, \"change:hidden\", function() {\n      this.draw();\n      return this.render();\n    });\n\n    this.draw();\n\n    return this.g.vis.once('change:loaded', this._adjustScrollingLeft, this);\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  draw: function() {\n    this.removeViews();\n\n    if (this.g.vis.get(\"conserv\")) {\n      var conserv = new ConservationView({model: this.model, g: this.g});\n      conserv.ordering = -20;\n      this.addView(\"conserv\",conserv);\n    }\n\n    if (this.g.vis.get(\"markers\")) {\n      var marker = new MarkerView({model: this.model, g: this.g});\n      marker.ordering = -10;\n      this.addView(\"marker\",marker);\n    }\n\n    if (this.g.vis.get(\"seqlogo\")) {\n      var seqlogo = new SeqLogoWrapper({model: this.model, g: this.g});\n      seqlogo.ordering = -30;\n      this.addView(\"seqlogo\",seqlogo);\n    }\n\n    if (this.g.vis.get(\"gapHeader\")) {\n      var gapview = new GapView({model: this.model, g: this.g});\n      gapview.ordering = -25;\n      return this.addView(\"gapview\",gapview);\n    }\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    this._setSpacer();\n\n    this.el.className = \"biojs_msa_rheader\";\n    this.el.style.overflowX = \"auto\";\n    this.el.style.display = \"inline-block\";\n    //@el.style.height = @g.zoomer.get(\"markerHeight\") + \"px\"\n    this._setWidth();\n    this._adjustScrollingLeft();\n    return this;\n  },\n\n  // scrollLeft triggers a reflow of the whole area (even only get)\n  _sendScrollEvent: function() {\n    if (!this.blockEvents) {\n      this.g.zoomer.set(\"_alignmentScrollLeft\", this.el.scrollLeft, {origin: \"header\"});\n    }\n    return this.blockEvents = false;\n  },\n\n  _adjustScrollingLeft: function(model,value,options) {\n    if ((!(((typeof options !== \"undefined\" && options !== null) ? options.origin : undefined) != null)) || options.origin !== \"header\") {\n      var scrollLeft = this.g.zoomer.get(\"_alignmentScrollLeft\");\n      this.blockEvents = true;\n      return this.el.scrollLeft = scrollLeft;\n    }\n  },\n\n  _setSpacer: function() {\n    // spacer / padding element\n    return this.el.style.marginLeft = this._getLabelWidth() + \"px\";\n  },\n\n  _getLabelWidth: function() {\n    var paddingLeft = 0;\n    if (!this.g.vis.get(\"leftHeader\")) {\n      paddingLeft += this.g.zoomer.getLeftBlockWidth();\n    }\n    return paddingLeft;\n  },\n\n  _setWidth: function() {\n    return this.el.style.width = this.g.zoomer.getAlignmentWidth() + \"px\";\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/RightHeaderBlock.js\n **/","var SeqLogoView = require(\"biojs-vis-seqlogo/light\");\nvar view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\n// this is a bridge between the MSA and the seqlogo viewer\nmodule.exports = view.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.zoomer,\"change:alignmentWidth\", this.render);\n    this.listenTo(this.g.colorscheme, \"change\", function() {\n      var colors = this.g.colorscheme.getSelectedScheme();\n      this.seqlogo.changeColors(colors);\n      return this.render();\n    });\n\n    this.listenTo(this.g.zoomer,\"change:columnWidth\", function() {\n      this.seqlogo.column_width = this.g.zoomer.get('columnWidth');\n      return this.render();\n    });\n\n    //@listenTo @g.zoomer,\"change:columnWidth change:rowHeight\", ->\n\n    this.listenTo(this.g.stats, \"reset\", function() {\n      this.draw();\n      return this.render();\n    });\n\n    return this.draw();\n  },\n\n\n  draw: function() {\n    dom.removeAllChilds(this.el);\n\n    console.log(\"redraw seqlogo\");\n    var arr = this.g.stats.conservResidue({scaled: true});\n    arr = _.map(arr, function(el) {\n      return _.pick(el, function(e,k) {\n        return k !== \"-\";\n      });\n    });\n    var data =\n      {alphabet: \"aa\",\n      heightArr: arr\n      };\n\n    var colors = this.g.colorscheme.getSelectedScheme();\n    // TODO: seqlogo might have problems with true dynamic schemes\n    return this.seqlogo = new SeqLogoView({model: this.model, g: this.g, data: data, yaxis:false ,scroller: false,xaxis: false, height: 100, column_width: this.g.zoomer.get('columnWidth'),positionMarker: false, zoom: 1, el: this.el,colors: colors});\n  },\n\n  render: function() {\n    return this.seqlogo.render();\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/header/SeqLogoWrapper.js\n **/","var LabelRowView = require(\"./LabelRowView\");\nvar boneView = require(\"backbone-childs\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n    this.listenTo(this.g.zoomer, \"change:_alignmentScrollTop\", this._adjustScrollingTop);\n    this.g.vis.once('change:loaded', this._adjustScrollingTop , this);\n\n    this.listenTo(this.g.zoomer,\"change:alignmentHeight\", this._setHeight);\n    this.listenTo(this.model,\"change:reference\", this.draw);\n\n    return this.listenTo(this.model,\"reset add remove\", () => {\n      this.draw();\n      return this.render();\n    });\n  },\n\n  draw: function() {\n    this.removeViews();\n    console.log(\"redraw columns\" , this.model.length);\n    for (var i = 0; i < this.model.length; i++) {\n        if (this.model.at(i).get('hidden')) { continue; }\n        var view = new LabelRowView({model: this.model.at(i), g: this.g});\n        view.ordering = i;\n        this.addView(\"row_\" + i, view)\n    }\n  },\n\n  events:\n    {\"scroll\": \"_sendScrollEvent\"},\n\n  // broadcast the scrolling event (by the scrollbar)\n  _sendScrollEvent: function() {\n    return this.g.zoomer.set(\"_alignmentScrollTop\", this.el.scrollTop, {origin: \"label\"});\n  },\n\n  // sets the scrolling property (from another event e.g. dragging)\n  _adjustScrollingTop() {\n    return this.el.scrollTop =  this.g.zoomer.get(\"_alignmentScrollTop\");\n  },\n\n  render: function() {\n    this.renderSubviews();\n    this.el.className = \"biojs_msa_labelblock\";\n    this.el.style.display = \"inline-block\";\n    this.el.style.verticalAlign = \"top\";\n    this.el.style.overflowY = \"auto\";\n    this.el.style.overflowX = \"hidden\";\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize')}px`;\n    this.el.style.lineHeight = `${this.g.zoomer.get(\"labelLineHeight\")}`;\n    this._setHeight();\n    return this;\n  },\n\n\n  _setHeight: function() {\n    return this.el.style.height = this.g.zoomer.get(\"alignmentHeight\") + \"px\";\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/labels/LabelBlock.js\n **/","var boneView = require(\"backbone-childs\");\nvar LabelView = require(\"./LabelView\");\nvar MetaView = require(\"./MetaView\");\n\nmodule.exports = boneView.extend({\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.draw();\n\n    this.listenTo(this.g.vis,\"change:labels\", this.drawR);\n    this.listenTo(this.g.vis,\"change:metacell\", this.drawR);\n    this.listenTo(this.g.zoomer, \"change:rowHeight\", function() {\n      return this.el.style.height = this.g.zoomer.get(\"rowHeight\") + \"px\";\n    });\n\n    return this.listenTo(this.g.selcol,\"change reset add\", this.setSelection);\n  },\n\n  draw: function() {\n    this.removeViews();\n    if (this.g.vis.get(\"labels\")) {\n      this.addView(\"labels\", new LabelView({model: this.model, g:this.g}));\n    }\n    if (this.g.vis.get(\"metacell\")) {\n      var meta = new MetaView({model: this.model, g:this.g});\n      return this.addView(\"metacell\", meta);\n    }\n  },\n\n  drawR: function() {\n    this.draw();\n    return this.render();\n  },\n\n  render: function() {\n    this.renderSubviews();\n\n    this.el.setAttribute(\"class\", \"biojs_msa_labelrow\");\n    this.el.style.height = this.g.zoomer.get(\"rowHeight\") * (this.model.attributes.height || 1) + \"px\";\n\n    this.setSelection();\n    return this;\n  },\n\n  setSelection: function() {\n    var sel = this.g.selcol.getSelForRow(this.model.id);\n    if (sel.length > 0) {\n      return this.el.style.fontWeight = \"bold\";\n    } else {\n      return this.el.style.fontWeight = \"normal\";\n    }\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/labels/LabelRowView.js\n **/","var view = require(\"backbone-viewj\");\nvar dom = require(\"dom-helper\");\n\nvar LabelView = view.extend({\n\n  initialize: function(data) {\n    this.seq = data.seq;\n    this.g = data.g;\n\n    return this.manageEvents();\n  },\n\n  manageEvents: function() {\n    var events = {};\n    if (this.g.config.get(\"registerMouseClicks\")) {\n      events.click = \"_onclick\";\n    }\n    if (this.g.config.get(\"registerMouseHover\")) {\n      events.mousein = \"_onmousein\";\n      events.mouseout = \"_onmouseout\";\n    }\n    this.delegateEvents(events);\n    this.listenTo(this.g.config, \"change:registerMouseHover\", this.manageEvents);\n    this.listenTo(this.g.config, \"change:registerMouseClick\", this.manageEvents);\n    this.listenTo(this.g.vis, \"change:labelName change:labelId change:labelPartition change:labelCheckbox\", this.render);\n    this.listenTo( this.g.zoomer, \"change:labelIdLength change:labelNameLength change:labelPartLength change:labelCheckLength\", this.render\n    );\n    return this.listenTo( this.g.zoomer, \"change:labelFontSize change:labelLineHeight change:labelWidth change:rowHeight\", this.render\n    );\n  },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.width = `${this.g.zoomer.getLabelWidth()}px`;\n    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n    this.el.setAttribute(\"class\", \"biojs_msa_labels\");\n\n    if (this.g.vis.get(\"labelCheckbox\")) {\n      var checkBox = document.createElement(\"input\");\n      checkBox.setAttribute(\"type\", \"checkbox\");\n      checkBox.value = this.model.get('id');\n      checkBox.name = \"seq\";\n      checkBox.style.width= this.g.zoomer.get(\"labelCheckLength\") + \"px\";\n      this.el.appendChild(checkBox);\n    }\n\n    if (this.g.vis.get(\"labelId\")) {\n      var id = document.createElement(\"span\");\n      var val  = this.model.get(\"id\");\n      if (!isNaN(val)) {\n        val++;\n      }\n      id.textContent = val;\n      id.style.width = this.g.zoomer.get(\"labelIdLength\") + \"px\";\n      id.style.display = \"inline-block\";\n      this.el.appendChild(id);\n    }\n\n    if (this.g.vis.get(\"labelPartition\")) {\n      var part = document.createElement(\"span\");\n      part.style.width= this.g.zoomer.get(\"labelPartLength\") + \"px\";\n      part.textContent = this.model.get(\"partition\");\n      part.style.display = \"inline-block\";\n      this.el.appendChild(id);\n      this.el.appendChild(part);\n    }\n\n    if (this.g.vis.get(\"labelName\")) {\n      var name = document.createElement(\"span\");\n      name.textContent = this.model.get(\"name\");\n      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n        name.style.fontWeight = \"bold\";\n      }\n      name.style.width= this.g.zoomer.get(\"labelNameLength\") + \"px\";\n      this.el.appendChild(name);\n    }\n\n    this.el.style.overflow = scroll;\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize')}px`;\n    return this;\n  },\n\n  _onclick: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:click\", {seqId:seqId, evt:evt});\n  },\n\n  _onmousein: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:mouseout\", {seqId:seqId, evt:evt});\n  },\n\n  _onmouseout: function(evt) {\n    var seqId = this.model.get(\"id\");\n    return this.g.trigger(\"row:mouseout\", {seqId:seqId, evt:evt});\n  }\n});\n\nmodule.exports = LabelView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/labels/LabelView.js\n **/","var MetaView;\nvar view = require(\"backbone-viewj\");\nvar MenuBuilder = require(\"../../menu/menubuilder\");\nvar _ = require('underscore');\nvar dom = require(\"dom-helper\");\nvar st = require(\"msa-seqtools\");\n\nmodule.exports = MetaView = view.extend({\n\n  className: \"biojs_msa_metaview\",\n\n  initialize: function(data) {\n    this.g = data.g;\n    this.listenTo(this.g.vis, \"change:metacell\", this.render);\n    return this.listenTo(this.g.zoomer, \"change:metaWidth\", this.render);\n  },\n\n  events:\n    {click: \"_onclick\",\n    mousein: \"_onmousein\",\n    mouseout: \"_onmouseout\"\n    },\n\n  render: function() {\n    dom.removeAllChilds(this.el);\n\n    this.el.style.display = \"inline-block\";\n\n    var width = this.g.zoomer.getMetaWidth();\n    this.el.style.width = width - 10;\n    this.el.style.paddingRight = 5;\n    this.el.style.paddingLeft = 5;\n    // TODO: why do we need to decrease the font size?\n    // otherwise we see a scrollbar\n    this.el.style.fontSize = `${this.g.zoomer.get('labelFontsize') - 2}px`;\n\n    if (this.g.vis.get(\"metaGaps\")) {\n      // adds gaps\n      var seq = this.model.get('seq');\n      var gaps = _.reduce(seq, (function(memo, c) { return c === '-' ? ++memo : undefined; }),0);\n      // 2-place percentage , e.g. 42%\n      gaps = (gaps * 100 / seq.length).toFixed(0) + \"%\";\n\n      // append gap count\n      var gapSpan = document.createElement('span');\n      gapSpan.textContent = gaps;\n      gapSpan.style.display = \"inline-block\";\n      gapSpan.style.width = 35;\n      this.el.appendChild(gapSpan);\n    }\n\n\n    if (this.g.vis.get(\"metaIdentity\")) {\n      // identity\n      // TODO: there must be a better way to pass the id\n      var ident = this.g.stats.identity()[this.model.id];\n      var identSpan = document.createElement('span');\n\n      if (this.model.get(\"ref\") && this.g.config.get(\"hasRef\")) {\n        identSpan.textContent = \"ref.\";\n      } else if ((typeof ident !== \"undefined\" && ident !== null)) {\n        identSpan.textContent = ident.toFixed(2);\n      }\n\n      identSpan.style.display = \"inline-block\";\n      identSpan.style.width = 40;\n      this.el.appendChild(identSpan);\n    }\n\n    if (this.g.vis.get(\"metaLinks\")) {\n      // TODO: this menu builder is just an example how one could customize this\n      // view\n      if (this.model.attributes.ids) {\n        var links = st.buildLinks(this.model.attributes.ids);\n        if (_.keys(links).length > 0) {\n          var menu = new MenuBuilder({name: \"↗\"});\n          console.log(_.keys(links));\n          _.each(links, function(val, key) {\n            return menu.addNode(key,function(e) {\n              return window.open(val);\n            });\n          });\n\n          var linkEl = menu.buildDOM();\n          linkEl.style.cursor = \"pointer\";\n          return this.el.appendChild(linkEl);\n        }\n      }\n    }\n  },\n\n\n    //@el.style.height = \"#{@g.zoomer.get \"rowHeight\"}px\"\n\n  _onclick: function(evt) {\n    return this.g.trigger(\"meta:click\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmousein: function(evt) {\n    return this.g.trigger(\"meta:mousein\", {seqId: this.model.get(\"id\", {evt:evt})});\n  },\n\n  _onmouseout: function(evt) {\n    return this.g.trigger(\"meta:mouseout\", {seqId: this.model.get(\"id\", {evt:evt})});\n  }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/views/labels/MetaView.js\n **/","//     Backbone.js 1.1.2\n\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\nvar Events = require(\"backbone-events-standalone\");\nvar extend = require(\"backbone-extend-standalone\");\nvar _ = require(\"underscore\");\nvar Model = require(\"./model\");\n\n// Create local references to array methods we'll want to use later.\nvar array = [];\nvar slice = array.slice;\n\n// Backbone.Collection\n// -------------------\n\n// If models tend to represent a single row of data, a Backbone Collection is\n// more analogous to a table full of data ... or a small slice or page of that\n// table, or a collection of rows that belong together for a particular reason\n// -- all of the messages in this particular folder, all of the documents\n// belonging to this particular author, and so on. Collections maintain\n// indexes of their models, both in order, and for lookup by `id`.\n\n// Create a new **Collection**, perhaps to contain a specific type of `model`.\n// If a `comparator` is specified, the Collection will maintain\n// its models in sort order, as they're added and removed.\nvar Collection = function(models, options) {\n  options || (options = {});\n  if (options.model) this.model = options.model;\n  if (options.comparator !== void 0) this.comparator = options.comparator;\n  this._reset();\n  this.initialize.apply(this, arguments);\n  if (models) this.reset(models, _.extend({silent: true}, options));\n};\n\n// Default options for `Collection#set`.\nvar setOptions = {add: true, remove: true, merge: true};\nvar addOptions = {add: true, remove: false};\n\n// Define the Collection's inheritable methods.\n_.extend(Collection.prototype, Events, {\n\n  // The default model for a collection is just a **Backbone.Model**.\n  // This should be overridden in most cases.\n  model: Model,\n\n  // Initialize is an empty function by default. Override it with your own\n  // initialization logic.\n  initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models' attributes.\n  toJSON: function(options) {\n    return this.map(function(model){ return model.toJSON(options); });\n  },\n\n    // Proxy `Backbone.sync` by default.\n  sync: function() {\n    return Backbone.sync.apply(this, arguments);\n  },\n\n    // Add a model, or list of models to the set.\n  add: function(models, options) {\n    return this.set(models, _.extend({merge: false}, options, addOptions));\n  },\n\n    // Remove a model, or a list of models from the set.\n  remove: function(models, options) {\n    var singular = !_.isArray(models);\n    models = singular ? [models] : _.clone(models);\n    options || (options = {});\n    for (var i = 0, length = models.length; i < length; i++) {\n      var model = models[i] = this.get(models[i]);\n      if (!model) continue;\n      var id = this.modelId(model.attributes);\n      if (id != null) delete this._byId[id];\n      delete this._byId[model.cid];\n      var index = this.indexOf(model);\n      this.models.splice(index, 1);\n      this.length--;\n      if (!options.silent) {\n        options.index = index;\n        model.trigger('remove', model, this, options);\n      }\n      this._removeReference(model, options);\n    }\n    return singular ? models[0] : models;\n  },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n  set: function(models, options) {\n    options = _.defaults({}, options, setOptions);\n    if (options.parse) models = this.parse(models, options);\n    var singular = !_.isArray(models);\n    models = singular ? (models ? [models] : []) : models.slice();\n    var id, model, attrs, existing, sort;\n    var at = options.at;\n    var sortable = this.comparator && (at == null) && options.sort !== false;\n    var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n    var toAdd = [], toRemove = [], modelMap = {};\n    var add = options.add, merge = options.merge, remove = options.remove;\n    var order = !sortable && add && remove ? [] : false;\n\n    // Turn bare objects into model references, and prevent invalid models\n    // from being added.\n    for (var i = 0, length = models.length; i < length; i++) {\n      attrs = models[i];\n\n      // If a duplicate is found, prevent it from being added and\n      // optionally merge it into the existing model.\n      if (existing = this.get(attrs)) {\n        if (remove) modelMap[existing.cid] = true;\n        if (merge && attrs !== existing) {\n          attrs = this._isModel(attrs) ? attrs.attributes : attrs;\n          if (options.parse) attrs = existing.parse(attrs, options);\n          existing.set(attrs, options);\n          if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n        }\n        models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n      } else if (add) {\n        model = models[i] = this._prepareModel(attrs, options);\n        if (!model) continue;\n        toAdd.push(model);\n        this._addReference(model, options);\n      }\n\n      // Do not add multiple models with the same `id`.\n      model = existing || model;\n      if (!model) continue;\n      id = this.modelId(model.attributes);\n      if (order && (model.isNew() || !modelMap[id])) order.push(model);\n      modelMap[id] = true;\n    }\n\n    // Remove nonexistent models if appropriate.\n    if (remove) {\n      for (var i = 0, length = this.length; i < length; i++) {\n        if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n      }\n      if (toRemove.length) this.remove(toRemove, options);\n    }\n\n    // See if sorting is needed, update `length` and splice in new models.\n    if (toAdd.length || (order && order.length)) {\n      if (sortable) sort = true;\n      this.length += toAdd.length;\n      if (at != null) {\n        for (var i = 0, length = toAdd.length; i < length; i++) {\n          this.models.splice(at + i, 0, toAdd[i]);\n        }\n      } else {\n        if (order) this.models.length = 0;\n        var orderedModels = order || toAdd;\n        for (var i = 0, length = orderedModels.length; i < length; i++) {\n          this.models.push(orderedModels[i]);\n        }\n      }\n    }\n\n    // Silently sort the collection if appropriate.\n    if (sort) this.sort({silent: true});\n\n    // Unless silenced, it's time to fire all appropriate add/sort events.\n    if (!options.silent) {\n      var addOpts = at != null ? _.clone(options) : options;\n      for (var i = 0, length = toAdd.length; i < length; i++) {\n        if (at != null) addOpts.index = at + i;\n        (model = toAdd[i]).trigger('add', model, this, addOpts);\n      }\n      if (sort || (order && order.length)) this.trigger('sort', this, options);\n    }\n\n    // Return the added (or merged) model (or models).\n    return singular ? models[0] : models;\n  },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n  reset: function(models, options) {\n    options || (options = {});\n    for (var i = 0, length = this.models.length; i < length; i++) {\n      this._removeReference(this.models[i], options);\n    }\n    options.previousModels = this.models;\n    this._reset();\n    models = this.add(models, _.extend({silent: true}, options));\n    if (!options.silent) this.trigger('reset', this, options);\n    return models;\n  },\n\n    // Add a model to the end of the collection.\n  push: function(model, options) {\n    return this.add(model, _.extend({at: this.length}, options));\n  },\n\n    // Remove a model from the end of the collection.\n  pop: function(options) {\n    var model = this.at(this.length - 1);\n    this.remove(model, options);\n    return model;\n  },\n\n    // Add a model to the beginning of the collection.\n  unshift: function(model, options) {\n    return this.add(model, _.extend({at: 0}, options));\n  },\n\n    // Remove a model from the beginning of the collection.\n  shift: function(options) {\n    var model = this.at(0);\n    this.remove(model, options);\n    return model;\n  },\n\n    // Slice out a sub-array of models from the collection.\n  slice: function() {\n    return slice.apply(this.models, arguments);\n  },\n\n    // Get a model from the set by id.\n  get: function(obj) {\n    if (obj == null) return void 0;\n    var id = this.modelId(this._isModel(obj) ? obj.attributes : obj);\n    return this._byId[obj] || this._byId[id] || this._byId[obj.cid];\n  },\n\n    // Get the model at the given index.\n  at: function(index) {\n    if (index < 0) index += this.length;\n    return this.models[index];\n  },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n  where: function(attrs, first) {\n    if (_.isEmpty(attrs)) return first ? void 0 : [];\n    return this[first ? 'find' : 'filter'](function(model) {\n      for (var key in attrs) {\n        if (attrs[key] !== model.get(key)) return false;\n      }\n      return true;\n    });\n  },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n  findWhere: function(attrs) {\n    return this.where(attrs, true);\n  },\n\n    // Force the collection to re-sort itself. You don't need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n  sort: function(options) {\n    if (!this.comparator) throw new Error('Cannot sort a set without a comparator');\n    options || (options = {});\n\n    // Run sort based on type of `comparator`.\n    if (_.isString(this.comparator) || this.comparator.length === 1) {\n      this.models = this.sortBy(this.comparator, this);\n    } else {\n      this.models.sort(_.bind(this.comparator, this));\n    }\n\n    if (!options.silent) this.trigger('sort', this, options);\n    return this;\n  },\n\n    // Pluck an attribute from each model in the collection.\n  pluck: function(attr) {\n    return _.invoke(this.models, 'get', attr);\n  },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n  fetch: function(options) {\n    options = options ? _.clone(options) : {};\n    if (options.parse === void 0) options.parse = true;\n    var success = options.success;\n    var collection = this;\n    options.success = function(resp) {\n      var method = options.reset ? 'reset' : 'set';\n      collection[method](resp, options);\n      if (success) success(collection, resp, options);\n      collection.trigger('sync', collection, resp, options);\n    };\n    wrapError(this, options);\n    return this.sync('read', this, options);\n  },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n  create: function(model, options) {\n    options = options ? _.clone(options) : {};\n    if (!(model = this._prepareModel(model, options))) return false;\n    if (!options.wait) this.add(model, options);\n    var collection = this;\n    var success = options.success;\n    options.success = function(model, resp) {\n      if (options.wait) collection.add(model, options);\n      if (success) success(model, resp, options);\n    };\n    model.save(null, options);\n    return model;\n  },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n  parse: function(resp, options) {\n    return resp;\n  },\n\n    // Create a new collection with an identical list of models as this one.\n  clone: function() {\n    return new this.constructor(this.models, {\n      model: this.model,\n      comparator: this.comparator\n    });\n  },\n\n    // Define how to uniquely identify models in the collection.\n  modelId: function (attrs) {\n    return attrs[this.model.prototype.idAttribute || 'id'];\n  },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n  _reset: function() {\n    this.length = 0;\n    this.models = [];\n    this._byId  = {};\n  },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n  _prepareModel: function(attrs, options) {\n    if (this._isModel(attrs)) {\n      if (!attrs.collection) attrs.collection = this;\n      return attrs;\n    }\n    options = options ? _.clone(options) : {};\n    options.collection = this;\n    var model = new this.model(attrs, options);\n    if (!model.validationError) return model;\n    this.trigger('invalid', this, model.validationError, options);\n    return false;\n  },\n\n    // Method for checking whether an object should be considered a model for\n    // the purposes of adding to the collection.\n  _isModel: function (model) {\n    return model instanceof Model;\n  },\n\n    // Internal method to create a model's ties to a collection.\n  _addReference: function(model, options) {\n    this._byId[model.cid] = model;\n    var id = this.modelId(model.attributes);\n    if (id != null) this._byId[id] = model;\n    model.on('all', this._onModelEvent, this);\n  },\n\n    // Internal method to sever a model's ties to a collection.\n  _removeReference: function(model, options) {\n    if (this === model.collection) delete model.collection;\n    model.off('all', this._onModelEvent, this);\n  },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. \"add\" and \"remove\" events that originate\n    // in other collections are ignored.\n  _onModelEvent: function(event, model, collection, options) {\n    if ((event === 'add' || event === 'remove') && collection !== this) return;\n    if (event === 'destroy') this.remove(model, options);\n    if (event === 'change') {\n      var prevId = this.modelId(model.previousAttributes());\n      var id = this.modelId(model.attributes);\n      if (prevId !== id) {\n        if (prevId != null) delete this._byId[prevId];\n        if (id != null) this._byId[id] = model;\n      }\n    }\n    this.trigger.apply(this, arguments);\n  }\n\n});\n\n// Underscore methods that we want to implement on the Collection.\n// 90% of the core usefulness of Backbone Collections is actually implemented\n// right here:\nvar methods = ['forEach', 'each', 'map', 'collect', 'reduce', 'foldl',\n    'inject', 'reduceRight', 'foldr', 'find', 'detect', 'filter', 'select',\n    'reject', 'every', 'all', 'some', 'any', 'include', 'contains', 'invoke',\n    'max', 'min', 'toArray', 'size', 'first', 'head', 'take', 'initial', 'rest',\n    'tail', 'drop', 'last', 'without', 'difference', 'indexOf', 'shuffle',\n    'lastIndexOf', 'isEmpty', 'chain', 'sample', 'partition'];\n\n// Mix in each Underscore method as a proxy to `Collection#models`.\n_.each(methods, function(method) {\n  if (!_[method]) return;\n  Collection.prototype[method] = function() {\n    var args = slice.call(arguments);\n    args.unshift(this.models);\n    return _[method].apply(_, args);\n  };\n});\n\n// Underscore methods that take a property name as an argument.\nvar attributeMethods = ['groupBy', 'countBy', 'sortBy', 'indexBy'];\n\n// Use attributes instead of properties.\n_.each(attributeMethods, function(method) {\n  if (!_[method]) return;\n  Collection.prototype[method] = function(value, context) {\n    var iterator = _.isFunction(value) ? value : function(model) {\n      return model.get(value);\n    };\n    return _[method](this.models, iterator, context);\n  };\n});\n\n// setup inheritance\nCollection.extend = extend;\nmodule.exports = Collection;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/collection.js\n ** module id = 87\n ** module chunks = 0\n **/","/**\n * Standalone extraction of Backbone.Events, no external dependency required.\n * Degrades nicely when Backone/underscore are already available in the current\n * global context.\n *\n * Note that docs suggest to use underscore's `_.extend()` method to add Events\n * support to some given object. A `mixin()` method has been added to the Events\n * prototype to avoid using underscore for that sole purpose:\n *\n *     var myEventEmitter = BackboneEvents.mixin({});\n *\n * Or for a function constructor:\n *\n *     function MyConstructor(){}\n *     MyConstructor.prototype.foo = function(){}\n *     BackboneEvents.mixin(MyConstructor.prototype);\n *\n * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * (c) 2013 Nicolas Perriault\n */\n/* global exports:true, define, module */\n(function() {\n  var root = this,\n      nativeForEach = Array.prototype.forEach,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      slice = Array.prototype.slice,\n      idCounter = 0;\n\n  // Returns a partial implementation matching the minimal API subset required\n  // by Backbone.Events\n  function miniscore() {\n    return {\n      keys: Object.keys || function (obj) {\n        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n          throw new TypeError(\"keys() called on a non-object\");\n        }\n        var key, keys = [];\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys[keys.length] = key;\n          }\n        }\n        return keys;\n      },\n\n      uniqueId: function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n      },\n\n      has: function(obj, key) {\n        return hasOwnProperty.call(obj, key);\n      },\n\n      each: function(obj, iterator, context) {\n        if (obj == null) return;\n        if (nativeForEach && obj.forEach === nativeForEach) {\n          obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            iterator.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (this.has(obj, key)) {\n              iterator.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      },\n\n      once: function(func) {\n        var ran = false, memo;\n        return function() {\n          if (ran) return memo;\n          ran = true;\n          memo = func.apply(this, arguments);\n          func = null;\n          return memo;\n        };\n      }\n    };\n  }\n\n  var _ = miniscore(), Events;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Mixin utility\n  Events.mixin = function(proto) {\n    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                   'listenToOnce', 'bind', 'unbind'];\n    _.each(exports, function(name) {\n      proto[name] = this[name];\n    }, this);\n    return proto;\n  };\n\n  // Export Events as BackboneEvents depending on current context\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = Events;\n    }\n    exports.BackboneEvents = Events;\n  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n    define(function() {\n      return Events;\n    });\n  } else {\n    root.BackboneEvents = Events;\n  }\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-thin/~/backbone-events-standalone/backbone-events-standalone.js\n ** module id = 88\n ** module chunks = 0\n **/","/**\n * Standalone extraction of Backbone.Events, no external dependency required.\n * Degrades nicely when Backone/underscore are already available in the current\n * global context.\n *\n * Note that docs suggest to use underscore's `_.extend()` method to add Events\n * support to some given object. A `mixin()` method has been added to the Events\n * prototype to avoid using underscore for that sole purpose:\n *\n *     var myEventEmitter = BackboneEvents.mixin({});\n *\n * Or for a function constructor:\n *\n *     function MyConstructor(){}\n *     MyConstructor.prototype.foo = function(){}\n *     BackboneEvents.mixin(MyConstructor.prototype);\n *\n * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * (c) 2013 Nicolas Perriault\n */\n/* global exports:true, define, module */\n(function() {\n  var root = this,\n      nativeForEach = Array.prototype.forEach,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      slice = Array.prototype.slice,\n      idCounter = 0;\n\n  // Returns a partial implementation matching the minimal API subset required\n  // by Backbone.Events\n  function miniscore() {\n    return {\n      keys: Object.keys || function (obj) {\n        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n          throw new TypeError(\"keys() called on a non-object\");\n        }\n        var key, keys = [];\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys[keys.length] = key;\n          }\n        }\n        return keys;\n      },\n\n      uniqueId: function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n      },\n\n      has: function(obj, key) {\n        return hasOwnProperty.call(obj, key);\n      },\n\n      each: function(obj, iterator, context) {\n        if (obj == null) return;\n        if (nativeForEach && obj.forEach === nativeForEach) {\n          obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            iterator.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (this.has(obj, key)) {\n              iterator.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      },\n\n      once: function(func) {\n        var ran = false, memo;\n        return function() {\n          if (ran) return memo;\n          ran = true;\n          memo = func.apply(this, arguments);\n          func = null;\n          return memo;\n        };\n      }\n    };\n  }\n\n  var _ = miniscore(), Events;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Mixin utility\n  Events.mixin = function(proto) {\n    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                   'listenToOnce', 'bind', 'unbind'];\n    _.each(exports, function(name) {\n      proto[name] = this[name];\n    }, this);\n    return proto;\n  };\n\n  // Export Events as BackboneEvents depending on current context\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = Events;\n    }\n    exports.BackboneEvents = Events;\n  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n    define(function() {\n      return Events;\n    });\n  } else {\n    root.BackboneEvents = Events;\n  }\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-viewj/~/backbone-events-standalone/backbone-events-standalone.js\n ** module id = 89\n ** module chunks = 0\n **/","module.exports = require('./backbone-events-standalone');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-viewj/~/backbone-events-standalone/index.js\n ** module id = 90\n ** module chunks = 0\n **/","(function (definition) {\n  if (typeof exports === \"object\") {\n    module.exports = definition();\n  }\n  else if (typeof define === 'function' && define.amd) {\n    define(definition);\n  }\n  else {\n    window.BackboneExtend = definition();\n  }\n})(function () {\n  \"use strict\";\n  \n  // mini-underscore\n  var _ = {\n    has: function (obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key);\n    },\n  \n    extend: function(obj) {\n      for (var i=1; i<arguments.length; ++i) {\n        var source = arguments[i];\n        if (source) {\n          for (var prop in source) {\n            obj[prop] = source[prop];\n          }\n        }\n      }\n      return obj;\n    }\n  };\n\n  /// Following code is pasted from Backbone.js ///\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (protoProps && _.has(protoProps, 'constructor')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate();\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Expose the extend function\n  return extend;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/backbone-viewj/~/backbone-extend-standalone/backbone-extend-standalone.js\n ** module id = 91\n ** module chunks = 0\n **/","/**\n * Standalone extraction of Backbone.Events, no external dependency required.\n * Degrades nicely when Backone/underscore are already available in the current\n * global context.\n *\n * Note that docs suggest to use underscore's `_.extend()` method to add Events\n * support to some given object. A `mixin()` method has been added to the Events\n * prototype to avoid using underscore for that sole purpose:\n *\n *     var myEventEmitter = BackboneEvents.mixin({});\n *\n * Or for a function constructor:\n *\n *     function MyConstructor(){}\n *     MyConstructor.prototype.foo = function(){}\n *     BackboneEvents.mixin(MyConstructor.prototype);\n *\n * (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n * (c) 2013 Nicolas Perriault\n */\n/* global exports:true, define, module */\n(function() {\n  var root = this,\n      nativeForEach = Array.prototype.forEach,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      slice = Array.prototype.slice,\n      idCounter = 0;\n\n  // Returns a partial implementation matching the minimal API subset required\n  // by Backbone.Events\n  function miniscore() {\n    return {\n      keys: Object.keys || function (obj) {\n        if (typeof obj !== \"object\" && typeof obj !== \"function\" || obj === null) {\n          throw new TypeError(\"keys() called on a non-object\");\n        }\n        var key, keys = [];\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            keys[keys.length] = key;\n          }\n        }\n        return keys;\n      },\n\n      uniqueId: function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n      },\n\n      has: function(obj, key) {\n        return hasOwnProperty.call(obj, key);\n      },\n\n      each: function(obj, iterator, context) {\n        if (obj == null) return;\n        if (nativeForEach && obj.forEach === nativeForEach) {\n          obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n          for (var i = 0, l = obj.length; i < l; i++) {\n            iterator.call(context, obj[i], i, obj);\n          }\n        } else {\n          for (var key in obj) {\n            if (this.has(obj, key)) {\n              iterator.call(context, obj[key], key, obj);\n            }\n          }\n        }\n      },\n\n      once: function(func) {\n        var ran = false, memo;\n        return function() {\n          if (ran) return memo;\n          ran = true;\n          memo = func.apply(this, arguments);\n          func = null;\n          return memo;\n        };\n      }\n    };\n  }\n\n  var _ = miniscore(), Events;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on('expand', function(){ alert('expanded'); });\n  //     object.trigger('expand');\n  //\n  Events = {\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = {};\n        return this;\n      }\n\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, 'trigger', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeners = this._listeners;\n      if (!listeners) return this;\n      var deleteListener = !name && !callback;\n      if (typeof name === 'object') callback = this;\n      if (obj) (listeners = {})[obj._listenerId] = obj;\n      for (var id in listeners) {\n        listeners[id].off(name, callback, this);\n        if (deleteListener) delete this._listeners[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === 'object') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args);\n    }\n  };\n\n  var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it's\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeners = this._listeners || (this._listeners = {});\n      var id = obj._listenerId || (obj._listenerId = _.uniqueId('l'));\n      listeners[id] = obj;\n      if (typeof name === 'object') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Mixin utility\n  Events.mixin = function(proto) {\n    var exports = ['on', 'once', 'off', 'trigger', 'stopListening', 'listenTo',\n                   'listenToOnce', 'bind', 'unbind'];\n    _.each(exports, function(name) {\n      proto[name] = this[name];\n    }, this);\n    return proto;\n  };\n\n  // Export Events as BackboneEvents depending on current context\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = Events;\n    }\n    exports.BackboneEvents = Events;\n  }else if (typeof define === \"function\"  && typeof define.amd == \"object\") {\n    define(function() {\n      return Events;\n    });\n  } else {\n    root.BackboneEvents = Events;\n  }\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-events/~/backbone-events-standalone/backbone-events-standalone.js\n ** module id = 92\n ** module chunks = 0\n **/","module.exports = require('./backbone-events-standalone');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-events/~/backbone-events-standalone/index.js\n ** module id = 93\n ** module chunks = 0\n **/","var GenericReader;\n\nvar xhr = require('request');\nvar vow = require('vow');\n\nmodule.exports = GenericReader = (function() {\n  function GenericReader() {}\n\n  // returns a promise if callback is undefined\n  GenericReader.read = function(url, callback) {\n    var onret;\n    onret = (function(_this) {\n      return function(err, response, text) {\n        return GenericReader._onRetrieval(err, text, callback, _this);\n      };\n    })(this);\n\n    if(typeof callback === \"undefined\"){\n      var prom = vow.defer();\n      callback = function(err, res){\n        if(err){\n          prom.reject(err);\n        }else{\n          prom.resolve(res);\n        }\n      };\n      xhr(url, onret);\n      return prom.promise();\n    }else{\n      return xhr(url, onret);\n    }\n  };\n\n  GenericReader._onRetrieval = function(err, text, callback, _this) {\n    var rText;\n    if(typeof err !== \"undefined\"){\n      rText = _this.parse(text);\n    }\n    return callback.call(_this, err, rText);\n  };\n\n  // provide a convenient shortcut to inherit\n  GenericReader.extend = function(obj, statics){\n    return extend(GenericReader, obj, statics); \n  };\n  // Mixin utility\n  GenericReader.mixin = function(proto) {\n    var exports = ['read'];\n    if(typeof proto !== \"object\"){\n      proto = proto.prototype;\n    }\n    exports.forEach(function(name) {\n      proto[name] = GenericReader[name];\n    }, this);\n    return proto;\n  };\n\n  return GenericReader;\n\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/lib/index.js\n ** module id = 94\n ** module chunks = 0\n **/","/**\n * @module vow\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @version 0.4.10\n * @license\n * Dual licensed under the MIT and GPL licenses:\n *   * http://www.opensource.org/licenses/mit-license.php\n *   * http://www.gnu.org/licenses/gpl.html\n */\n\n(function(global) {\n\nvar undef,\n    nextTick = (function() {\n        var fns = [],\n            enqueueFn = function(fn) {\n                return fns.push(fn) === 1;\n            },\n            callFns = function() {\n                var fnsToCall = fns, i = 0, len = fns.length;\n                fns = [];\n                while(i < len) {\n                    fnsToCall[i++]();\n                }\n            };\n\n        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n            return function(fn) {\n                enqueueFn(fn) && setImmediate(callFns);\n            };\n        }\n\n        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n            return function(fn) {\n                enqueueFn(fn) && process.nextTick(callFns);\n            };\n        }\n\n        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n        if(MutationObserver) {\n            var num = 1,\n                node = document.createTextNode('');\n\n            new MutationObserver(callFns).observe(node, { characterData : true });\n\n            return function(fn) {\n                enqueueFn(fn) && (node.data = (num *= -1));\n            };\n        }\n\n        if(global.postMessage) {\n            var isPostMessageAsync = true;\n            if(global.attachEvent) {\n                var checkAsync = function() {\n                        isPostMessageAsync = false;\n                    };\n                global.attachEvent('onmessage', checkAsync);\n                global.postMessage('__checkAsync', '*');\n                global.detachEvent('onmessage', checkAsync);\n            }\n\n            if(isPostMessageAsync) {\n                var msg = '__promise' + +new Date,\n                    onMessage = function(e) {\n                        if(e.data === msg) {\n                            e.stopPropagation && e.stopPropagation();\n                            callFns();\n                        }\n                    };\n\n                global.addEventListener?\n                    global.addEventListener('message', onMessage, true) :\n                    global.attachEvent('onmessage', onMessage);\n\n                return function(fn) {\n                    enqueueFn(fn) && global.postMessage(msg, '*');\n                };\n            }\n        }\n\n        var doc = global.document;\n        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n            var createScript = function() {\n                    var script = doc.createElement('script');\n                    script.onreadystatechange = function() {\n                        script.parentNode.removeChild(script);\n                        script = script.onreadystatechange = null;\n                        callFns();\n                };\n                (doc.documentElement || doc.body).appendChild(script);\n            };\n\n            return function(fn) {\n                enqueueFn(fn) && createScript();\n            };\n        }\n\n        return function(fn) { // old browsers\n            enqueueFn(fn) && setTimeout(callFns, 0);\n        };\n    })(),\n    throwException = function(e) {\n        nextTick(function() {\n            throw e;\n        });\n    },\n    isFunction = function(obj) {\n        return typeof obj === 'function';\n    },\n    isObject = function(obj) {\n        return obj !== null && typeof obj === 'object';\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    getArrayKeys = function(arr) {\n        var res = [],\n            i = 0, len = arr.length;\n        while(i < len) {\n            res.push(i++);\n        }\n        return res;\n    },\n    getObjectKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            obj.hasOwnProperty(i) && res.push(i);\n        }\n        return res;\n    },\n    defineCustomErrorType = function(name) {\n        var res = function(message) {\n            this.name = name;\n            this.message = message;\n        };\n\n        res.prototype = new Error();\n\n        return res;\n    },\n    wrapOnFulfilled = function(onFulfilled, idx) {\n        return function(val) {\n            onFulfilled.call(this, val, idx);\n        };\n    };\n\n/**\n * @class Deferred\n * @exports vow:Deferred\n * @description\n * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n */\n\n/**\n * @constructor\n * @description\n * You can use `vow.defer()` instead of using this constructor.\n *\n * `new vow.Deferred()` gives the same result as `vow.defer()`.\n */\nvar Deferred = function() {\n    this._promise = new Promise();\n};\n\nDeferred.prototype = /** @lends Deferred.prototype */{\n    /**\n     * Returns the corresponding promise.\n     *\n     * @returns {vow:Promise}\n     */\n    promise : function() {\n        return this._promise;\n    },\n\n    /**\n     * Resolves the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.then(function(value) {\n     *     // value is \"'success'\" here\n     * });\n     *\n     * defer.resolve('success');\n     * ```\n     */\n    resolve : function(value) {\n        this._promise.isResolved() || this._promise._resolve(value);\n    },\n\n    /**\n     * Rejects the corresponding promise with the given `reason`.\n     *\n     * @param {*} reason\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.fail(function(reason) {\n     *     // reason is \"'something is wrong'\" here\n     * });\n     *\n     * defer.reject('something is wrong');\n     * ```\n     */\n    reject : function(reason) {\n        if(this._promise.isResolved()) {\n            return;\n        }\n\n        if(vow.isPromise(reason)) {\n            reason = reason.then(function(val) {\n                var defer = vow.defer();\n                defer.reject(val);\n                return defer.promise();\n            });\n            this._promise._resolve(reason);\n        }\n        else {\n            this._promise._reject(reason);\n        }\n    },\n\n    /**\n     * Notifies the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.progress(function(value) {\n     *     // value is \"'20%'\", \"'40%'\" here\n     * });\n     *\n     * defer.notify('20%');\n     * defer.notify('40%');\n     * ```\n     */\n    notify : function(value) {\n        this._promise.isResolved() || this._promise._notify(value);\n    }\n};\n\nvar PROMISE_STATUS = {\n    PENDING   : 0,\n    RESOLVED  : 1,\n    FULFILLED : 2,\n    REJECTED  : 3\n};\n\n/**\n * @class Promise\n * @exports vow:Promise\n * @description\n * The `Promise` class is used when you want to give to the caller something to subscribe to,\n * but not the ability to resolve or reject the deferred.\n */\n\n/**\n * @constructor\n * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n * @description\n * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n * In other case you should use `vow.defer()` and `defer.promise()` methods.\n * @example\n * ```js\n * function fetchJSON(url) {\n *     return new vow.Promise(function(resolve, reject, notify) {\n *         var xhr = new XMLHttpRequest();\n *         xhr.open('GET', url);\n *         xhr.responseType = 'json';\n *         xhr.send();\n *         xhr.onload = function() {\n *             if(xhr.response) {\n *                 resolve(xhr.response);\n *             }\n *             else {\n *                 reject(new TypeError());\n *             }\n *         };\n *     });\n * }\n * ```\n */\nvar Promise = function(resolver) {\n    this._value = undef;\n    this._status = PROMISE_STATUS.PENDING;\n\n    this._fulfilledCallbacks = [];\n    this._rejectedCallbacks = [];\n    this._progressCallbacks = [];\n\n    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n        var _this = this,\n            resolverFnLen = resolver.length;\n\n        resolver(\n            function(val) {\n                _this.isResolved() || _this._resolve(val);\n            },\n            resolverFnLen > 1?\n                function(reason) {\n                    _this.isResolved() || _this._reject(reason);\n                } :\n                undef,\n            resolverFnLen > 2?\n                function(val) {\n                    _this.isResolved() || _this._notify(val);\n                } :\n                undef);\n    }\n};\n\nPromise.prototype = /** @lends Promise.prototype */ {\n    /**\n     * Returns the value of the fulfilled promise or the reason in case of rejection.\n     *\n     * @returns {*}\n     */\n    valueOf : function() {\n        return this._value;\n    },\n\n    /**\n     * Returns `true` if the promise is resolved.\n     *\n     * @returns {Boolean}\n     */\n    isResolved : function() {\n        return this._status !== PROMISE_STATUS.PENDING;\n    },\n\n    /**\n     * Returns `true` if the promise is fulfilled.\n     *\n     * @returns {Boolean}\n     */\n    isFulfilled : function() {\n        return this._status === PROMISE_STATUS.FULFILLED;\n    },\n\n    /**\n     * Returns `true` if the promise is rejected.\n     *\n     * @returns {Boolean}\n     */\n    isRejected : function() {\n        return this._status === PROMISE_STATUS.REJECTED;\n    },\n\n    /**\n     * Adds reactions to the promise.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n     */\n    then : function(onFulfilled, onRejected, onProgress, ctx) {\n        var defer = new Deferred();\n        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n        return defer.promise();\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n     *\n     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    'catch' : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n     *\n     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds a resolving reaction (for both fulfillment and rejection).\n     *\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(onResolved, ctx) {\n        var _this = this,\n            cb = function() {\n                return onResolved.call(this, _this);\n            };\n\n        return this.then(cb, cb, ctx);\n    },\n\n    /**\n     * Adds a progress reaction.\n     *\n     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(onProgress, ctx) {\n        return this.then(undef, undef, onProgress, ctx);\n    },\n\n    /**\n     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n     *     // arg1 is \"1\", arg2 is \"'two'\" here\n     * });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve('two');\n     * ```\n     */\n    spread : function(onFulfilled, onRejected, ctx) {\n        return this.then(\n            function(val) {\n                return onFulfilled.apply(this, val);\n            },\n            onRejected,\n            ctx);\n    },\n\n    /**\n     * Like `then`, but terminates a chain of promises.\n     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer();\n     * defer.reject(Error('Internal error'));\n     * defer.promise().done(); // exception to be thrown\n     * ```\n     */\n    done : function(onFulfilled, onRejected, onProgress, ctx) {\n        this\n            .then(onFulfilled, onRejected, onProgress, ctx)\n            .fail(throwException);\n    },\n\n    /**\n     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n     * or immediately rejected if the promise is rejected.\n     *\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(delay) {\n        var timer,\n            promise = this.then(function(val) {\n                var defer = new Deferred();\n                timer = setTimeout(\n                    function() {\n                        defer.resolve(val);\n                    },\n                    delay);\n\n                return defer.promise();\n            });\n\n        promise.always(function() {\n            clearTimeout(timer);\n        });\n\n        return promise;\n    },\n\n    /**\n     * Returns a new promise that will be rejected in `timeout` milliseconds\n     * if the promise is not resolved beforehand.\n     *\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promiseWithTimeout1 = defer.promise().timeout(50),\n     *     promiseWithTimeout2 = defer.promise().timeout(200);\n     *\n     * setTimeout(\n     *     function() {\n     *         defer.resolve('ok');\n     *     },\n     *     100);\n     *\n     * promiseWithTimeout1.fail(function(reason) {\n     *     // promiseWithTimeout to be rejected in 50ms\n     * });\n     *\n     * promiseWithTimeout2.then(function(value) {\n     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n     * });\n     * ```\n     */\n    timeout : function(timeout) {\n        var defer = new Deferred(),\n            timer = setTimeout(\n                function() {\n                    defer.reject(new vow.TimedOutError('timed out'));\n                },\n                timeout);\n\n        this.then(\n            function(val) {\n                defer.resolve(val);\n            },\n            function(reason) {\n                defer.reject(reason);\n            });\n\n        defer.promise().always(function() {\n            clearTimeout(timer);\n        });\n\n        return defer.promise();\n    },\n\n    _vow : true,\n\n    _resolve : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        if(val === this) {\n            this._reject(TypeError('Can\\'t resolve promise with itself'));\n            return;\n        }\n\n        this._status = PROMISE_STATUS.RESOLVED;\n\n        if(val && !!val._vow) { // shortpath for vow.Promise\n            val.isFulfilled()?\n                this._fulfill(val.valueOf()) :\n                val.isRejected()?\n                    this._reject(val.valueOf()) :\n                    val.then(\n                        this._fulfill,\n                        this._reject,\n                        this._notify,\n                        this);\n            return;\n        }\n\n        if(isObject(val) || isFunction(val)) {\n            var then;\n            try {\n                then = val.then;\n            }\n            catch(e) {\n                this._reject(e);\n                return;\n            }\n\n            if(isFunction(then)) {\n                var _this = this,\n                    isResolved = false;\n\n                try {\n                    then.call(\n                        val,\n                        function(val) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._resolve(val);\n                        },\n                        function(err) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._reject(err);\n                        },\n                        function(val) {\n                            _this._notify(val);\n                        });\n                }\n                catch(e) {\n                    isResolved || this._reject(e);\n                }\n\n                return;\n            }\n        }\n\n        this._fulfill(val);\n    },\n\n    _fulfill : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.FULFILLED;\n        this._value = val;\n\n        this._callCallbacks(this._fulfilledCallbacks, val);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _reject : function(reason) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.REJECTED;\n        this._value = reason;\n\n        this._callCallbacks(this._rejectedCallbacks, reason);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _notify : function(val) {\n        this._callCallbacks(this._progressCallbacks, val);\n    },\n\n    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n        if(onRejected && !isFunction(onRejected)) {\n            ctx = onRejected;\n            onRejected = undef;\n        }\n        else if(onProgress && !isFunction(onProgress)) {\n            ctx = onProgress;\n            onProgress = undef;\n        }\n\n        var cb;\n\n        if(!this.isRejected()) {\n            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n            this.isFulfilled()?\n                this._callCallbacks([cb], this._value) :\n                this._fulfilledCallbacks.push(cb);\n        }\n\n        if(!this.isFulfilled()) {\n            cb = { defer : defer, fn : onRejected, ctx : ctx };\n            this.isRejected()?\n                this._callCallbacks([cb], this._value) :\n                this._rejectedCallbacks.push(cb);\n        }\n\n        if(this._status <= PROMISE_STATUS.RESOLVED) {\n            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n        }\n    },\n\n    _callCallbacks : function(callbacks, arg) {\n        var len = callbacks.length;\n        if(!len) {\n            return;\n        }\n\n        var isResolved = this.isResolved(),\n            isFulfilled = this.isFulfilled();\n\n        nextTick(function() {\n            var i = 0, cb, defer, fn;\n            while(i < len) {\n                cb = callbacks[i++];\n                defer = cb.defer;\n                fn = cb.fn;\n\n                if(fn) {\n                    var ctx = cb.ctx,\n                        res;\n                    try {\n                        res = ctx? fn.call(ctx, arg) : fn(arg);\n                    }\n                    catch(e) {\n                        defer.reject(e);\n                        continue;\n                    }\n\n                    isResolved?\n                        defer.resolve(res) :\n                        defer.notify(res);\n                }\n                else {\n                    isResolved?\n                        isFulfilled?\n                            defer.resolve(arg) :\n                            defer.reject(arg) :\n                        defer.notify(arg);\n                }\n            }\n        });\n    }\n};\n\n/** @lends Promise */\nvar staticMethods = {\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return vow.cast(value);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     */\n    all : function(iterable) {\n        return vow.all(iterable);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    race : function(iterable) {\n        return vow.anyResolved(iterable);\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        return vow.resolve(value);\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        return vow.reject(reason);\n    }\n};\n\nfor(var prop in staticMethods) {\n    staticMethods.hasOwnProperty(prop) &&\n        (Promise[prop] = staticMethods[prop]);\n}\n\nvar vow = /** @exports vow */ {\n    Deferred : Deferred,\n\n    Promise : Promise,\n\n    /**\n     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n     * It's equivalent to `new vow.Deferred()`.\n     *\n     * @returns {vow:Deferred}\n     */\n    defer : function() {\n        return new Deferred();\n    },\n\n    /**\n     * Static equivalent to `promise.then`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.fail`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(value, onRejected, ctx) {\n        return vow.when(value, undef, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.always`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(value, onResolved, ctx) {\n        return vow.when(value).always(onResolved, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.progress`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(value, onProgress, ctx) {\n        return vow.when(value).progress(onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.spread`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    spread : function(value, onFulfilled, onRejected, ctx) {\n        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.done`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     */\n    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Checks whether the given `value` is a promise-like object\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     *\n     * @example\n     * ```js\n     * vow.isPromise('something'); // returns false\n     * vow.isPromise(vow.defer().promise()); // returns true\n     * vow.isPromise({ then : function() { }); // returns true\n     * ```\n     */\n    isPromise : function(value) {\n        return isObject(value) && isFunction(value.then);\n    },\n\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return value && !!value._vow?\n            value :\n            vow.resolve(value);\n    },\n\n    /**\n     * Static equivalent to `promise.valueOf`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {*}\n     */\n    valueOf : function(value) {\n        return value && isFunction(value.valueOf)? value.valueOf() : value;\n    },\n\n    /**\n     * Static equivalent to `promise.isFulfilled`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isFulfilled : function(value) {\n        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n    },\n\n    /**\n     * Static equivalent to `promise.isRejected`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isRejected : function(value) {\n        return value && isFunction(value.isRejected)? value.isRejected() : false;\n    },\n\n    /**\n     * Static equivalent to `promise.isResolved`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isResolved : function(value) {\n        return value && isFunction(value.isResolved)? value.isResolved() : true;\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        var res = vow.defer();\n        res.resolve(value);\n        return res.promise();\n    },\n\n    /**\n     * Returns a promise that has already been fulfilled with the given `value`.\n     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    fulfill : function(value) {\n        var defer = vow.defer(),\n            promise = defer.promise();\n\n        defer.resolve(value);\n\n        return promise.isFulfilled()?\n            promise :\n            promise.then(null, function(reason) {\n                return reason;\n            });\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        var defer = vow.defer();\n        defer.reject(reason);\n        return defer.promise();\n    },\n\n    /**\n     * Invokes the given function `fn` with arguments `args`\n     *\n     * @param {Function} fn\n     * @param {...*} [args]\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var promise1 = vow.invoke(function(value) {\n     *         return value;\n     *     }, 'ok'),\n     *     promise2 = vow.invoke(function() {\n     *         throw Error();\n     *     });\n     *\n     * promise1.isFulfilled(); // true\n     * promise1.valueOf(); // 'ok'\n     * promise2.isRejected(); // true\n     * promise2.valueOf(); // instance of Error\n     * ```\n     */\n    invoke : function(fn, args) {\n        var len = Math.max(arguments.length - 1, 0),\n            callArgs;\n        if(len) { // optimization for V8\n            callArgs = Array(len);\n            var i = 0;\n            while(i < len) {\n                callArgs[i++] = arguments[i];\n            }\n        }\n\n        try {\n            return vow.resolve(callArgs?\n                fn.apply(global, callArgs) :\n                fn.call(global));\n        }\n        catch(e) {\n            return vow.reject(e);\n        }\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * with array:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise(), 3])\n     *     .then(function(value) {\n     *          // value is \"[1, 2, 3]\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     *\n     * @example\n     * with object:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n     *     .then(function(value) {\n     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     */\n    all : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            len = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!len) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var i = len;\n        vow._forEach(\n            iterable,\n            function(value, idx) {\n                res[keys[idx]] = value;\n                if(!--i) {\n                    defer.resolve(res);\n                }\n            },\n            defer.reject,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n     *     promise1.isRejected(); // returns true\n     *     promise1.valueOf(); // returns \"'error'\"\n     *     promise2.isFulfilled(); // returns true\n     *     promise2.valueOf(); // returns \"'ok'\"\n     * });\n     *\n     * defer1.reject('error');\n     * defer2.resolve('ok');\n     * ```\n     */\n    allResolved : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            i = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!i) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var onResolved = function() {\n                --i || defer.resolve(iterable);\n            };\n\n        vow._forEach(\n            iterable,\n            onResolved,\n            onResolved,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    allPatiently : function(iterable) {\n        return vow.allResolved(iterable).then(function() {\n            var isPromisesArray = isArray(iterable),\n                keys = isPromisesArray?\n                    getArrayKeys(iterable) :\n                    getObjectKeys(iterable),\n                rejectedPromises, fulfilledPromises,\n                len = keys.length, i = 0, key, promise;\n\n            if(!len) {\n                return isPromisesArray? [] : {};\n            }\n\n            while(i < len) {\n                key = keys[i++];\n                promise = iterable[key];\n                if(vow.isRejected(promise)) {\n                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n                    isPromisesArray?\n                        rejectedPromises.push(promise.valueOf()) :\n                        rejectedPromises[key] = promise.valueOf();\n                }\n                else if(!rejectedPromises) {\n                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n                }\n            }\n\n            if(rejectedPromises) {\n                throw rejectedPromises;\n            }\n\n            return fulfilledPromises;\n        });\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    any : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        var i = 0, reason;\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            function(e) {\n                i || (reason = e);\n                ++i === len && defer.reject(reason);\n            },\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    anyResolved : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            defer.reject,\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Static equivalent to `promise.delay`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(value, delay) {\n        return vow.resolve(value).delay(delay);\n    },\n\n    /**\n     * Static equivalent to `promise.timeout`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     */\n    timeout : function(value, timeout) {\n        return vow.resolve(value).timeout(timeout);\n    },\n\n    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n        var len = keys? keys.length : promises.length,\n            i = 0;\n\n        while(i < len) {\n            vow.when(\n                promises[keys? keys[i] : i],\n                wrapOnFulfilled(onFulfilled, i),\n                onRejected,\n                onProgress,\n                ctx);\n            ++i;\n        }\n    },\n\n    TimedOutError : defineCustomErrorType('TimedOut')\n};\n\nvar defineAsGlobal = true;\nif(typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = vow;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object' && isFunction(modules.define)) {\n    modules.define('vow', function(provide) {\n        provide(vow);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = vow;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.vow = vow);\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/vow/lib/vow.js\n ** module id = 95\n ** module chunks = 0\n **/","\"use strict\";\nvar window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require(\"parse-headers\")\n\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            loadFunc()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n    \n    var failureResponse = {\n                body: undefined,\n                headers: {},\n                statusCode: 0,\n                method: method,\n                url: uri,\n                rawRequest: xhr\n            }\n    \n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"unknown\") )\n        }\n        evt.statusCode = 0\n        callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        clearTimeout(timeoutTimer)\n        \n        var status = (xhr.status === 1223 ? 204 : xhr.status)\n        var response = failureResponse\n        var err = null\n        \n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        callback(err, response, response.body)\n        \n    }\n    \n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    if(typeof callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var key\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            xhr.abort(\"timeout\");\n        }, options.timeout+2 );\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n\n}\n\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/index.js\n ** module id = 96\n ** module chunks = 0\n **/","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/global/window.js\n ** module id = 97\n ** module chunks = 0\n **/","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/once/once.js\n ** module id = 98\n ** module chunks = 0\n **/","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js\n ** module id = 99\n ** module chunks = 0\n **/","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js\n ** module id = 100\n ** module chunks = 0\n **/","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js\n ** module id = 101\n ** module chunks = 0\n **/","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-clustal/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js\n ** module id = 102\n ** module chunks = 0\n **/","var GenericReader;\n\nvar xhr = require('request');\nvar vow = require('vow');\n\nmodule.exports = GenericReader = (function() {\n  function GenericReader() {}\n\n  // returns a promise if callback is undefined\n  GenericReader.read = function(url, callback) {\n    var onret;\n    onret = (function(_this) {\n      return function(err, response, text) {\n        return GenericReader._onRetrieval(err, text, callback, _this);\n      };\n    })(this);\n\n    if(typeof callback === \"undefined\"){\n      var prom = vow.defer();\n      callback = function(err, res){\n        if(err){\n          prom.reject(err);\n        }else{\n          prom.resolve(res);\n        }\n      };\n      xhr(url, onret);\n      return prom.promise();\n    }else{\n      return xhr(url, onret);\n    }\n  };\n\n  GenericReader._onRetrieval = function(err, text, callback, _this) {\n    var rText;\n    if(typeof err !== \"undefined\"){\n      rText = _this.parse(text);\n    }\n    return callback.call(_this, err, rText);\n  };\n\n  // provide a convenient shortcut to inherit\n  GenericReader.extend = function(obj, statics){\n    return extend(GenericReader, obj, statics); \n  };\n  // Mixin utility\n  GenericReader.mixin = function(proto) {\n    var exports = ['read'];\n    if(typeof proto !== \"object\"){\n      proto = proto.prototype;\n    }\n    exports.forEach(function(name) {\n      proto[name] = GenericReader[name];\n    }, this);\n    return proto;\n  };\n\n  return GenericReader;\n\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/lib/index.js\n ** module id = 103\n ** module chunks = 0\n **/","/**\n * @module vow\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @version 0.4.10\n * @license\n * Dual licensed under the MIT and GPL licenses:\n *   * http://www.opensource.org/licenses/mit-license.php\n *   * http://www.gnu.org/licenses/gpl.html\n */\n\n(function(global) {\n\nvar undef,\n    nextTick = (function() {\n        var fns = [],\n            enqueueFn = function(fn) {\n                return fns.push(fn) === 1;\n            },\n            callFns = function() {\n                var fnsToCall = fns, i = 0, len = fns.length;\n                fns = [];\n                while(i < len) {\n                    fnsToCall[i++]();\n                }\n            };\n\n        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n            return function(fn) {\n                enqueueFn(fn) && setImmediate(callFns);\n            };\n        }\n\n        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n            return function(fn) {\n                enqueueFn(fn) && process.nextTick(callFns);\n            };\n        }\n\n        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n        if(MutationObserver) {\n            var num = 1,\n                node = document.createTextNode('');\n\n            new MutationObserver(callFns).observe(node, { characterData : true });\n\n            return function(fn) {\n                enqueueFn(fn) && (node.data = (num *= -1));\n            };\n        }\n\n        if(global.postMessage) {\n            var isPostMessageAsync = true;\n            if(global.attachEvent) {\n                var checkAsync = function() {\n                        isPostMessageAsync = false;\n                    };\n                global.attachEvent('onmessage', checkAsync);\n                global.postMessage('__checkAsync', '*');\n                global.detachEvent('onmessage', checkAsync);\n            }\n\n            if(isPostMessageAsync) {\n                var msg = '__promise' + +new Date,\n                    onMessage = function(e) {\n                        if(e.data === msg) {\n                            e.stopPropagation && e.stopPropagation();\n                            callFns();\n                        }\n                    };\n\n                global.addEventListener?\n                    global.addEventListener('message', onMessage, true) :\n                    global.attachEvent('onmessage', onMessage);\n\n                return function(fn) {\n                    enqueueFn(fn) && global.postMessage(msg, '*');\n                };\n            }\n        }\n\n        var doc = global.document;\n        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n            var createScript = function() {\n                    var script = doc.createElement('script');\n                    script.onreadystatechange = function() {\n                        script.parentNode.removeChild(script);\n                        script = script.onreadystatechange = null;\n                        callFns();\n                };\n                (doc.documentElement || doc.body).appendChild(script);\n            };\n\n            return function(fn) {\n                enqueueFn(fn) && createScript();\n            };\n        }\n\n        return function(fn) { // old browsers\n            enqueueFn(fn) && setTimeout(callFns, 0);\n        };\n    })(),\n    throwException = function(e) {\n        nextTick(function() {\n            throw e;\n        });\n    },\n    isFunction = function(obj) {\n        return typeof obj === 'function';\n    },\n    isObject = function(obj) {\n        return obj !== null && typeof obj === 'object';\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    getArrayKeys = function(arr) {\n        var res = [],\n            i = 0, len = arr.length;\n        while(i < len) {\n            res.push(i++);\n        }\n        return res;\n    },\n    getObjectKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            obj.hasOwnProperty(i) && res.push(i);\n        }\n        return res;\n    },\n    defineCustomErrorType = function(name) {\n        var res = function(message) {\n            this.name = name;\n            this.message = message;\n        };\n\n        res.prototype = new Error();\n\n        return res;\n    },\n    wrapOnFulfilled = function(onFulfilled, idx) {\n        return function(val) {\n            onFulfilled.call(this, val, idx);\n        };\n    };\n\n/**\n * @class Deferred\n * @exports vow:Deferred\n * @description\n * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n */\n\n/**\n * @constructor\n * @description\n * You can use `vow.defer()` instead of using this constructor.\n *\n * `new vow.Deferred()` gives the same result as `vow.defer()`.\n */\nvar Deferred = function() {\n    this._promise = new Promise();\n};\n\nDeferred.prototype = /** @lends Deferred.prototype */{\n    /**\n     * Returns the corresponding promise.\n     *\n     * @returns {vow:Promise}\n     */\n    promise : function() {\n        return this._promise;\n    },\n\n    /**\n     * Resolves the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.then(function(value) {\n     *     // value is \"'success'\" here\n     * });\n     *\n     * defer.resolve('success');\n     * ```\n     */\n    resolve : function(value) {\n        this._promise.isResolved() || this._promise._resolve(value);\n    },\n\n    /**\n     * Rejects the corresponding promise with the given `reason`.\n     *\n     * @param {*} reason\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.fail(function(reason) {\n     *     // reason is \"'something is wrong'\" here\n     * });\n     *\n     * defer.reject('something is wrong');\n     * ```\n     */\n    reject : function(reason) {\n        if(this._promise.isResolved()) {\n            return;\n        }\n\n        if(vow.isPromise(reason)) {\n            reason = reason.then(function(val) {\n                var defer = vow.defer();\n                defer.reject(val);\n                return defer.promise();\n            });\n            this._promise._resolve(reason);\n        }\n        else {\n            this._promise._reject(reason);\n        }\n    },\n\n    /**\n     * Notifies the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.progress(function(value) {\n     *     // value is \"'20%'\", \"'40%'\" here\n     * });\n     *\n     * defer.notify('20%');\n     * defer.notify('40%');\n     * ```\n     */\n    notify : function(value) {\n        this._promise.isResolved() || this._promise._notify(value);\n    }\n};\n\nvar PROMISE_STATUS = {\n    PENDING   : 0,\n    RESOLVED  : 1,\n    FULFILLED : 2,\n    REJECTED  : 3\n};\n\n/**\n * @class Promise\n * @exports vow:Promise\n * @description\n * The `Promise` class is used when you want to give to the caller something to subscribe to,\n * but not the ability to resolve or reject the deferred.\n */\n\n/**\n * @constructor\n * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n * @description\n * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n * In other case you should use `vow.defer()` and `defer.promise()` methods.\n * @example\n * ```js\n * function fetchJSON(url) {\n *     return new vow.Promise(function(resolve, reject, notify) {\n *         var xhr = new XMLHttpRequest();\n *         xhr.open('GET', url);\n *         xhr.responseType = 'json';\n *         xhr.send();\n *         xhr.onload = function() {\n *             if(xhr.response) {\n *                 resolve(xhr.response);\n *             }\n *             else {\n *                 reject(new TypeError());\n *             }\n *         };\n *     });\n * }\n * ```\n */\nvar Promise = function(resolver) {\n    this._value = undef;\n    this._status = PROMISE_STATUS.PENDING;\n\n    this._fulfilledCallbacks = [];\n    this._rejectedCallbacks = [];\n    this._progressCallbacks = [];\n\n    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n        var _this = this,\n            resolverFnLen = resolver.length;\n\n        resolver(\n            function(val) {\n                _this.isResolved() || _this._resolve(val);\n            },\n            resolverFnLen > 1?\n                function(reason) {\n                    _this.isResolved() || _this._reject(reason);\n                } :\n                undef,\n            resolverFnLen > 2?\n                function(val) {\n                    _this.isResolved() || _this._notify(val);\n                } :\n                undef);\n    }\n};\n\nPromise.prototype = /** @lends Promise.prototype */ {\n    /**\n     * Returns the value of the fulfilled promise or the reason in case of rejection.\n     *\n     * @returns {*}\n     */\n    valueOf : function() {\n        return this._value;\n    },\n\n    /**\n     * Returns `true` if the promise is resolved.\n     *\n     * @returns {Boolean}\n     */\n    isResolved : function() {\n        return this._status !== PROMISE_STATUS.PENDING;\n    },\n\n    /**\n     * Returns `true` if the promise is fulfilled.\n     *\n     * @returns {Boolean}\n     */\n    isFulfilled : function() {\n        return this._status === PROMISE_STATUS.FULFILLED;\n    },\n\n    /**\n     * Returns `true` if the promise is rejected.\n     *\n     * @returns {Boolean}\n     */\n    isRejected : function() {\n        return this._status === PROMISE_STATUS.REJECTED;\n    },\n\n    /**\n     * Adds reactions to the promise.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n     */\n    then : function(onFulfilled, onRejected, onProgress, ctx) {\n        var defer = new Deferred();\n        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n        return defer.promise();\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n     *\n     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    'catch' : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n     *\n     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds a resolving reaction (for both fulfillment and rejection).\n     *\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(onResolved, ctx) {\n        var _this = this,\n            cb = function() {\n                return onResolved.call(this, _this);\n            };\n\n        return this.then(cb, cb, ctx);\n    },\n\n    /**\n     * Adds a progress reaction.\n     *\n     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(onProgress, ctx) {\n        return this.then(undef, undef, onProgress, ctx);\n    },\n\n    /**\n     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n     *     // arg1 is \"1\", arg2 is \"'two'\" here\n     * });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve('two');\n     * ```\n     */\n    spread : function(onFulfilled, onRejected, ctx) {\n        return this.then(\n            function(val) {\n                return onFulfilled.apply(this, val);\n            },\n            onRejected,\n            ctx);\n    },\n\n    /**\n     * Like `then`, but terminates a chain of promises.\n     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer();\n     * defer.reject(Error('Internal error'));\n     * defer.promise().done(); // exception to be thrown\n     * ```\n     */\n    done : function(onFulfilled, onRejected, onProgress, ctx) {\n        this\n            .then(onFulfilled, onRejected, onProgress, ctx)\n            .fail(throwException);\n    },\n\n    /**\n     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n     * or immediately rejected if the promise is rejected.\n     *\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(delay) {\n        var timer,\n            promise = this.then(function(val) {\n                var defer = new Deferred();\n                timer = setTimeout(\n                    function() {\n                        defer.resolve(val);\n                    },\n                    delay);\n\n                return defer.promise();\n            });\n\n        promise.always(function() {\n            clearTimeout(timer);\n        });\n\n        return promise;\n    },\n\n    /**\n     * Returns a new promise that will be rejected in `timeout` milliseconds\n     * if the promise is not resolved beforehand.\n     *\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promiseWithTimeout1 = defer.promise().timeout(50),\n     *     promiseWithTimeout2 = defer.promise().timeout(200);\n     *\n     * setTimeout(\n     *     function() {\n     *         defer.resolve('ok');\n     *     },\n     *     100);\n     *\n     * promiseWithTimeout1.fail(function(reason) {\n     *     // promiseWithTimeout to be rejected in 50ms\n     * });\n     *\n     * promiseWithTimeout2.then(function(value) {\n     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n     * });\n     * ```\n     */\n    timeout : function(timeout) {\n        var defer = new Deferred(),\n            timer = setTimeout(\n                function() {\n                    defer.reject(new vow.TimedOutError('timed out'));\n                },\n                timeout);\n\n        this.then(\n            function(val) {\n                defer.resolve(val);\n            },\n            function(reason) {\n                defer.reject(reason);\n            });\n\n        defer.promise().always(function() {\n            clearTimeout(timer);\n        });\n\n        return defer.promise();\n    },\n\n    _vow : true,\n\n    _resolve : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        if(val === this) {\n            this._reject(TypeError('Can\\'t resolve promise with itself'));\n            return;\n        }\n\n        this._status = PROMISE_STATUS.RESOLVED;\n\n        if(val && !!val._vow) { // shortpath for vow.Promise\n            val.isFulfilled()?\n                this._fulfill(val.valueOf()) :\n                val.isRejected()?\n                    this._reject(val.valueOf()) :\n                    val.then(\n                        this._fulfill,\n                        this._reject,\n                        this._notify,\n                        this);\n            return;\n        }\n\n        if(isObject(val) || isFunction(val)) {\n            var then;\n            try {\n                then = val.then;\n            }\n            catch(e) {\n                this._reject(e);\n                return;\n            }\n\n            if(isFunction(then)) {\n                var _this = this,\n                    isResolved = false;\n\n                try {\n                    then.call(\n                        val,\n                        function(val) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._resolve(val);\n                        },\n                        function(err) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._reject(err);\n                        },\n                        function(val) {\n                            _this._notify(val);\n                        });\n                }\n                catch(e) {\n                    isResolved || this._reject(e);\n                }\n\n                return;\n            }\n        }\n\n        this._fulfill(val);\n    },\n\n    _fulfill : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.FULFILLED;\n        this._value = val;\n\n        this._callCallbacks(this._fulfilledCallbacks, val);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _reject : function(reason) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.REJECTED;\n        this._value = reason;\n\n        this._callCallbacks(this._rejectedCallbacks, reason);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _notify : function(val) {\n        this._callCallbacks(this._progressCallbacks, val);\n    },\n\n    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n        if(onRejected && !isFunction(onRejected)) {\n            ctx = onRejected;\n            onRejected = undef;\n        }\n        else if(onProgress && !isFunction(onProgress)) {\n            ctx = onProgress;\n            onProgress = undef;\n        }\n\n        var cb;\n\n        if(!this.isRejected()) {\n            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n            this.isFulfilled()?\n                this._callCallbacks([cb], this._value) :\n                this._fulfilledCallbacks.push(cb);\n        }\n\n        if(!this.isFulfilled()) {\n            cb = { defer : defer, fn : onRejected, ctx : ctx };\n            this.isRejected()?\n                this._callCallbacks([cb], this._value) :\n                this._rejectedCallbacks.push(cb);\n        }\n\n        if(this._status <= PROMISE_STATUS.RESOLVED) {\n            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n        }\n    },\n\n    _callCallbacks : function(callbacks, arg) {\n        var len = callbacks.length;\n        if(!len) {\n            return;\n        }\n\n        var isResolved = this.isResolved(),\n            isFulfilled = this.isFulfilled();\n\n        nextTick(function() {\n            var i = 0, cb, defer, fn;\n            while(i < len) {\n                cb = callbacks[i++];\n                defer = cb.defer;\n                fn = cb.fn;\n\n                if(fn) {\n                    var ctx = cb.ctx,\n                        res;\n                    try {\n                        res = ctx? fn.call(ctx, arg) : fn(arg);\n                    }\n                    catch(e) {\n                        defer.reject(e);\n                        continue;\n                    }\n\n                    isResolved?\n                        defer.resolve(res) :\n                        defer.notify(res);\n                }\n                else {\n                    isResolved?\n                        isFulfilled?\n                            defer.resolve(arg) :\n                            defer.reject(arg) :\n                        defer.notify(arg);\n                }\n            }\n        });\n    }\n};\n\n/** @lends Promise */\nvar staticMethods = {\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return vow.cast(value);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     */\n    all : function(iterable) {\n        return vow.all(iterable);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    race : function(iterable) {\n        return vow.anyResolved(iterable);\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        return vow.resolve(value);\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        return vow.reject(reason);\n    }\n};\n\nfor(var prop in staticMethods) {\n    staticMethods.hasOwnProperty(prop) &&\n        (Promise[prop] = staticMethods[prop]);\n}\n\nvar vow = /** @exports vow */ {\n    Deferred : Deferred,\n\n    Promise : Promise,\n\n    /**\n     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n     * It's equivalent to `new vow.Deferred()`.\n     *\n     * @returns {vow:Deferred}\n     */\n    defer : function() {\n        return new Deferred();\n    },\n\n    /**\n     * Static equivalent to `promise.then`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.fail`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(value, onRejected, ctx) {\n        return vow.when(value, undef, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.always`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(value, onResolved, ctx) {\n        return vow.when(value).always(onResolved, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.progress`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(value, onProgress, ctx) {\n        return vow.when(value).progress(onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.spread`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    spread : function(value, onFulfilled, onRejected, ctx) {\n        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.done`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     */\n    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Checks whether the given `value` is a promise-like object\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     *\n     * @example\n     * ```js\n     * vow.isPromise('something'); // returns false\n     * vow.isPromise(vow.defer().promise()); // returns true\n     * vow.isPromise({ then : function() { }); // returns true\n     * ```\n     */\n    isPromise : function(value) {\n        return isObject(value) && isFunction(value.then);\n    },\n\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return value && !!value._vow?\n            value :\n            vow.resolve(value);\n    },\n\n    /**\n     * Static equivalent to `promise.valueOf`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {*}\n     */\n    valueOf : function(value) {\n        return value && isFunction(value.valueOf)? value.valueOf() : value;\n    },\n\n    /**\n     * Static equivalent to `promise.isFulfilled`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isFulfilled : function(value) {\n        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n    },\n\n    /**\n     * Static equivalent to `promise.isRejected`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isRejected : function(value) {\n        return value && isFunction(value.isRejected)? value.isRejected() : false;\n    },\n\n    /**\n     * Static equivalent to `promise.isResolved`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isResolved : function(value) {\n        return value && isFunction(value.isResolved)? value.isResolved() : true;\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        var res = vow.defer();\n        res.resolve(value);\n        return res.promise();\n    },\n\n    /**\n     * Returns a promise that has already been fulfilled with the given `value`.\n     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    fulfill : function(value) {\n        var defer = vow.defer(),\n            promise = defer.promise();\n\n        defer.resolve(value);\n\n        return promise.isFulfilled()?\n            promise :\n            promise.then(null, function(reason) {\n                return reason;\n            });\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        var defer = vow.defer();\n        defer.reject(reason);\n        return defer.promise();\n    },\n\n    /**\n     * Invokes the given function `fn` with arguments `args`\n     *\n     * @param {Function} fn\n     * @param {...*} [args]\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var promise1 = vow.invoke(function(value) {\n     *         return value;\n     *     }, 'ok'),\n     *     promise2 = vow.invoke(function() {\n     *         throw Error();\n     *     });\n     *\n     * promise1.isFulfilled(); // true\n     * promise1.valueOf(); // 'ok'\n     * promise2.isRejected(); // true\n     * promise2.valueOf(); // instance of Error\n     * ```\n     */\n    invoke : function(fn, args) {\n        var len = Math.max(arguments.length - 1, 0),\n            callArgs;\n        if(len) { // optimization for V8\n            callArgs = Array(len);\n            var i = 0;\n            while(i < len) {\n                callArgs[i++] = arguments[i];\n            }\n        }\n\n        try {\n            return vow.resolve(callArgs?\n                fn.apply(global, callArgs) :\n                fn.call(global));\n        }\n        catch(e) {\n            return vow.reject(e);\n        }\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * with array:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise(), 3])\n     *     .then(function(value) {\n     *          // value is \"[1, 2, 3]\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     *\n     * @example\n     * with object:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n     *     .then(function(value) {\n     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     */\n    all : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            len = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!len) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var i = len;\n        vow._forEach(\n            iterable,\n            function(value, idx) {\n                res[keys[idx]] = value;\n                if(!--i) {\n                    defer.resolve(res);\n                }\n            },\n            defer.reject,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n     *     promise1.isRejected(); // returns true\n     *     promise1.valueOf(); // returns \"'error'\"\n     *     promise2.isFulfilled(); // returns true\n     *     promise2.valueOf(); // returns \"'ok'\"\n     * });\n     *\n     * defer1.reject('error');\n     * defer2.resolve('ok');\n     * ```\n     */\n    allResolved : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            i = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!i) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var onResolved = function() {\n                --i || defer.resolve(iterable);\n            };\n\n        vow._forEach(\n            iterable,\n            onResolved,\n            onResolved,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    allPatiently : function(iterable) {\n        return vow.allResolved(iterable).then(function() {\n            var isPromisesArray = isArray(iterable),\n                keys = isPromisesArray?\n                    getArrayKeys(iterable) :\n                    getObjectKeys(iterable),\n                rejectedPromises, fulfilledPromises,\n                len = keys.length, i = 0, key, promise;\n\n            if(!len) {\n                return isPromisesArray? [] : {};\n            }\n\n            while(i < len) {\n                key = keys[i++];\n                promise = iterable[key];\n                if(vow.isRejected(promise)) {\n                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n                    isPromisesArray?\n                        rejectedPromises.push(promise.valueOf()) :\n                        rejectedPromises[key] = promise.valueOf();\n                }\n                else if(!rejectedPromises) {\n                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n                }\n            }\n\n            if(rejectedPromises) {\n                throw rejectedPromises;\n            }\n\n            return fulfilledPromises;\n        });\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    any : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        var i = 0, reason;\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            function(e) {\n                i || (reason = e);\n                ++i === len && defer.reject(reason);\n            },\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    anyResolved : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            defer.reject,\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Static equivalent to `promise.delay`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(value, delay) {\n        return vow.resolve(value).delay(delay);\n    },\n\n    /**\n     * Static equivalent to `promise.timeout`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     */\n    timeout : function(value, timeout) {\n        return vow.resolve(value).timeout(timeout);\n    },\n\n    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n        var len = keys? keys.length : promises.length,\n            i = 0;\n\n        while(i < len) {\n            vow.when(\n                promises[keys? keys[i] : i],\n                wrapOnFulfilled(onFulfilled, i),\n                onRejected,\n                onProgress,\n                ctx);\n            ++i;\n        }\n    },\n\n    TimedOutError : defineCustomErrorType('TimedOut')\n};\n\nvar defineAsGlobal = true;\nif(typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = vow;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object' && isFunction(modules.define)) {\n    modules.define('vow', function(provide) {\n        provide(vow);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = vow;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.vow = vow);\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/vow/lib/vow.js\n ** module id = 104\n ** module chunks = 0\n **/","\"use strict\";\nvar window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require(\"parse-headers\")\n\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            loadFunc()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n    \n    var failureResponse = {\n                body: undefined,\n                headers: {},\n                statusCode: 0,\n                method: method,\n                url: uri,\n                rawRequest: xhr\n            }\n    \n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"unknown\") )\n        }\n        evt.statusCode = 0\n        callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        clearTimeout(timeoutTimer)\n        \n        var status = (xhr.status === 1223 ? 204 : xhr.status)\n        var response = failureResponse\n        var err = null\n        \n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        callback(err, response, response.body)\n        \n    }\n    \n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    if(typeof callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var key\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            xhr.abort(\"timeout\");\n        }, options.timeout+2 );\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n\n}\n\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/index.js\n ** module id = 105\n ** module chunks = 0\n **/","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/global/window.js\n ** module id = 106\n ** module chunks = 0\n **/","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/once/once.js\n ** module id = 107\n ** module chunks = 0\n **/","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js\n ** module id = 108\n ** module chunks = 0\n **/","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js\n ** module id = 109\n ** module chunks = 0\n **/","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js\n ** module id = 110\n ** module chunks = 0\n **/","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-fasta/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js\n ** module id = 111\n ** module chunks = 0\n **/","var jalview = {};\nmodule.exports = jalview;\nvar utils = require(\"./utils\");\n\n// http://www.jalview.org/help/html/features/featuresFormat.html\njalview.readHeader = function(lines) {\n  var colors = {};\n  var i = 0;\n  var features = [];\n  var currentGroup;\n\n  for (; i < lines.length; i++) {\n    var line = lines[i];\n    if (line.indexOf(\"#\") >= 0) {\n      // no comments allowed -> stop\n      break;\n    }\n    var columns = line.split(/\\t/);\n    var firstCell = columns[0].trim();\n    if (firstCell === \"GFF\") {\n      // this symbolizes the end \n      break;\n    } else if (columns.length === 2) {\n      if (firstCell === \"startgroup\") {\n        currentGroup = columns[1].trim();\n      } else if (firstCell === \"endgroup\") {\n        currentGroup = \"\";\n        continue;\n      } else {\n        // parse color\n        colors[columns[0]] = jalview.parseColor(columns[1]);\n      }\n    } else if(columns.length >= 5){\n      var arr = jalview.parseLine(columns);\n      if (currentGroup) {\n        arr.attributes.Parent = currentGroup;\n      }\n      features.push(arr);\n    }\n  }\n\n  return {\n    offset: i,\n    colors: colors,\n    features: features\n  };\n};\n\njalview.parseColor = function(cell) {\n  if (cell.indexOf(\",\") >= 0) {\n    // rgb code\n    return utils.rgbToHex(cell.split(\",\").map(function(el) {\n      return parseInt(el);\n    }));\n  }\n  // color names with length == 6\n  // 'bisque,maroon,orange,orchid,purple,salmon,sienna,tomato,violet,yellow'\n  if (cell.length === 6 && parseInt(cell.charAt(0), 16) <= 16 && cell !== 'bisque') {\n    // hex code\n    return \"#\" + cell;\n  }\n  // color name\n  return cell;\n};\n\n\njalview.parseLine = function(columns) {\n  var obj = {\n    attributes: {}\n  };\n  obj.attributes.Name = columns[0].trim(); //desc\n  obj.seqname = columns[1].trim(); // id\n  obj.start = parseInt(columns[3]);\n  obj.end = parseInt(columns[4]);\n  obj.feature = columns[5].trim();\n  if (obj.seqname === \"ID_NOT_SPECIFIED\") {\n    obj.seqname = columns[2].trim(); // alternative id\n  }\n  return obj;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/lib/jalview.js\n ** module id = 112\n ** module chunks = 0\n **/","var GenericReader;\n\nvar xhr = require('request');\nvar vow = require('vow');\n\nmodule.exports = GenericReader = (function() {\n  function GenericReader() {}\n\n  // returns a promise if callback is undefined\n  GenericReader.read = function(url, callback) {\n    var onret;\n    onret = (function(_this) {\n      return function(err, response, text) {\n        return GenericReader._onRetrieval(err, text, callback, _this);\n      };\n    })(this);\n\n    if(typeof callback === \"undefined\"){\n      var prom = vow.defer();\n      callback = function(err, res){\n        if(err){\n          prom.reject(err);\n        }else{\n          prom.resolve(res);\n        }\n      };\n      xhr(url, onret);\n      return prom.promise();\n    }else{\n      return xhr(url, onret);\n    }\n  };\n\n  GenericReader._onRetrieval = function(err, text, callback, _this) {\n    var rText;\n    if(typeof err !== \"undefined\"){\n      rText = _this.parse(text);\n    }\n    return callback.call(_this, err, rText);\n  };\n\n  // provide a convenient shortcut to inherit\n  GenericReader.extend = function(obj, statics){\n    return extend(GenericReader, obj, statics); \n  };\n  // Mixin utility\n  GenericReader.mixin = function(proto) {\n    var exports = ['read'];\n    if(typeof proto !== \"object\"){\n      proto = proto.prototype;\n    }\n    exports.forEach(function(name) {\n      proto[name] = GenericReader[name];\n    }, this);\n    return proto;\n  };\n\n  return GenericReader;\n\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/lib/index.js\n ** module id = 113\n ** module chunks = 0\n **/","/**\n * @module vow\n * @author Filatov Dmitry <dfilatov@yandex-team.ru>\n * @version 0.4.10\n * @license\n * Dual licensed under the MIT and GPL licenses:\n *   * http://www.opensource.org/licenses/mit-license.php\n *   * http://www.gnu.org/licenses/gpl.html\n */\n\n(function(global) {\n\nvar undef,\n    nextTick = (function() {\n        var fns = [],\n            enqueueFn = function(fn) {\n                return fns.push(fn) === 1;\n            },\n            callFns = function() {\n                var fnsToCall = fns, i = 0, len = fns.length;\n                fns = [];\n                while(i < len) {\n                    fnsToCall[i++]();\n                }\n            };\n\n        if(typeof setImmediate === 'function') { // ie10, nodejs >= 0.10\n            return function(fn) {\n                enqueueFn(fn) && setImmediate(callFns);\n            };\n        }\n\n        if(typeof process === 'object' && process.nextTick) { // nodejs < 0.10\n            return function(fn) {\n                enqueueFn(fn) && process.nextTick(callFns);\n            };\n        }\n\n        var MutationObserver = global.MutationObserver || global.WebKitMutationObserver; // modern browsers\n        if(MutationObserver) {\n            var num = 1,\n                node = document.createTextNode('');\n\n            new MutationObserver(callFns).observe(node, { characterData : true });\n\n            return function(fn) {\n                enqueueFn(fn) && (node.data = (num *= -1));\n            };\n        }\n\n        if(global.postMessage) {\n            var isPostMessageAsync = true;\n            if(global.attachEvent) {\n                var checkAsync = function() {\n                        isPostMessageAsync = false;\n                    };\n                global.attachEvent('onmessage', checkAsync);\n                global.postMessage('__checkAsync', '*');\n                global.detachEvent('onmessage', checkAsync);\n            }\n\n            if(isPostMessageAsync) {\n                var msg = '__promise' + +new Date,\n                    onMessage = function(e) {\n                        if(e.data === msg) {\n                            e.stopPropagation && e.stopPropagation();\n                            callFns();\n                        }\n                    };\n\n                global.addEventListener?\n                    global.addEventListener('message', onMessage, true) :\n                    global.attachEvent('onmessage', onMessage);\n\n                return function(fn) {\n                    enqueueFn(fn) && global.postMessage(msg, '*');\n                };\n            }\n        }\n\n        var doc = global.document;\n        if('onreadystatechange' in doc.createElement('script')) { // ie6-ie8\n            var createScript = function() {\n                    var script = doc.createElement('script');\n                    script.onreadystatechange = function() {\n                        script.parentNode.removeChild(script);\n                        script = script.onreadystatechange = null;\n                        callFns();\n                };\n                (doc.documentElement || doc.body).appendChild(script);\n            };\n\n            return function(fn) {\n                enqueueFn(fn) && createScript();\n            };\n        }\n\n        return function(fn) { // old browsers\n            enqueueFn(fn) && setTimeout(callFns, 0);\n        };\n    })(),\n    throwException = function(e) {\n        nextTick(function() {\n            throw e;\n        });\n    },\n    isFunction = function(obj) {\n        return typeof obj === 'function';\n    },\n    isObject = function(obj) {\n        return obj !== null && typeof obj === 'object';\n    },\n    toStr = Object.prototype.toString,\n    isArray = Array.isArray || function(obj) {\n        return toStr.call(obj) === '[object Array]';\n    },\n    getArrayKeys = function(arr) {\n        var res = [],\n            i = 0, len = arr.length;\n        while(i < len) {\n            res.push(i++);\n        }\n        return res;\n    },\n    getObjectKeys = Object.keys || function(obj) {\n        var res = [];\n        for(var i in obj) {\n            obj.hasOwnProperty(i) && res.push(i);\n        }\n        return res;\n    },\n    defineCustomErrorType = function(name) {\n        var res = function(message) {\n            this.name = name;\n            this.message = message;\n        };\n\n        res.prototype = new Error();\n\n        return res;\n    },\n    wrapOnFulfilled = function(onFulfilled, idx) {\n        return function(val) {\n            onFulfilled.call(this, val, idx);\n        };\n    };\n\n/**\n * @class Deferred\n * @exports vow:Deferred\n * @description\n * The `Deferred` class is used to encapsulate newly-created promise object along with functions that resolve, reject or notify it.\n */\n\n/**\n * @constructor\n * @description\n * You can use `vow.defer()` instead of using this constructor.\n *\n * `new vow.Deferred()` gives the same result as `vow.defer()`.\n */\nvar Deferred = function() {\n    this._promise = new Promise();\n};\n\nDeferred.prototype = /** @lends Deferred.prototype */{\n    /**\n     * Returns the corresponding promise.\n     *\n     * @returns {vow:Promise}\n     */\n    promise : function() {\n        return this._promise;\n    },\n\n    /**\n     * Resolves the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.then(function(value) {\n     *     // value is \"'success'\" here\n     * });\n     *\n     * defer.resolve('success');\n     * ```\n     */\n    resolve : function(value) {\n        this._promise.isResolved() || this._promise._resolve(value);\n    },\n\n    /**\n     * Rejects the corresponding promise with the given `reason`.\n     *\n     * @param {*} reason\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.fail(function(reason) {\n     *     // reason is \"'something is wrong'\" here\n     * });\n     *\n     * defer.reject('something is wrong');\n     * ```\n     */\n    reject : function(reason) {\n        if(this._promise.isResolved()) {\n            return;\n        }\n\n        if(vow.isPromise(reason)) {\n            reason = reason.then(function(val) {\n                var defer = vow.defer();\n                defer.reject(val);\n                return defer.promise();\n            });\n            this._promise._resolve(reason);\n        }\n        else {\n            this._promise._reject(reason);\n        }\n    },\n\n    /**\n     * Notifies the corresponding promise with the given `value`.\n     *\n     * @param {*} value\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promise = defer.promise();\n     *\n     * promise.progress(function(value) {\n     *     // value is \"'20%'\", \"'40%'\" here\n     * });\n     *\n     * defer.notify('20%');\n     * defer.notify('40%');\n     * ```\n     */\n    notify : function(value) {\n        this._promise.isResolved() || this._promise._notify(value);\n    }\n};\n\nvar PROMISE_STATUS = {\n    PENDING   : 0,\n    RESOLVED  : 1,\n    FULFILLED : 2,\n    REJECTED  : 3\n};\n\n/**\n * @class Promise\n * @exports vow:Promise\n * @description\n * The `Promise` class is used when you want to give to the caller something to subscribe to,\n * but not the ability to resolve or reject the deferred.\n */\n\n/**\n * @constructor\n * @param {Function} resolver See https://github.com/domenic/promises-unwrapping/blob/master/README.md#the-promise-constructor for details.\n * @description\n * You should use this constructor directly only if you are going to use `vow` as DOM Promises implementation.\n * In other case you should use `vow.defer()` and `defer.promise()` methods.\n * @example\n * ```js\n * function fetchJSON(url) {\n *     return new vow.Promise(function(resolve, reject, notify) {\n *         var xhr = new XMLHttpRequest();\n *         xhr.open('GET', url);\n *         xhr.responseType = 'json';\n *         xhr.send();\n *         xhr.onload = function() {\n *             if(xhr.response) {\n *                 resolve(xhr.response);\n *             }\n *             else {\n *                 reject(new TypeError());\n *             }\n *         };\n *     });\n * }\n * ```\n */\nvar Promise = function(resolver) {\n    this._value = undef;\n    this._status = PROMISE_STATUS.PENDING;\n\n    this._fulfilledCallbacks = [];\n    this._rejectedCallbacks = [];\n    this._progressCallbacks = [];\n\n    if(resolver) { // NOTE: see https://github.com/domenic/promises-unwrapping/blob/master/README.md\n        var _this = this,\n            resolverFnLen = resolver.length;\n\n        resolver(\n            function(val) {\n                _this.isResolved() || _this._resolve(val);\n            },\n            resolverFnLen > 1?\n                function(reason) {\n                    _this.isResolved() || _this._reject(reason);\n                } :\n                undef,\n            resolverFnLen > 2?\n                function(val) {\n                    _this.isResolved() || _this._notify(val);\n                } :\n                undef);\n    }\n};\n\nPromise.prototype = /** @lends Promise.prototype */ {\n    /**\n     * Returns the value of the fulfilled promise or the reason in case of rejection.\n     *\n     * @returns {*}\n     */\n    valueOf : function() {\n        return this._value;\n    },\n\n    /**\n     * Returns `true` if the promise is resolved.\n     *\n     * @returns {Boolean}\n     */\n    isResolved : function() {\n        return this._status !== PROMISE_STATUS.PENDING;\n    },\n\n    /**\n     * Returns `true` if the promise is fulfilled.\n     *\n     * @returns {Boolean}\n     */\n    isFulfilled : function() {\n        return this._status === PROMISE_STATUS.FULFILLED;\n    },\n\n    /**\n     * Returns `true` if the promise is rejected.\n     *\n     * @returns {Boolean}\n     */\n    isRejected : function() {\n        return this._status === PROMISE_STATUS.REJECTED;\n    },\n\n    /**\n     * Adds reactions to the promise.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise} A new promise, see https://github.com/promises-aplus/promises-spec for details\n     */\n    then : function(onFulfilled, onRejected, onProgress, ctx) {\n        var defer = new Deferred();\n        this._addCallbacks(defer, onFulfilled, onRejected, onProgress, ctx);\n        return defer.promise();\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(undefined, onRejected)`.\n     *\n     * @param {Function} onRejected Callback that will be called with a provided 'reason' as argument after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    'catch' : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds only a rejection reaction. This method is a shorthand for `promise.then(null, onRejected)`. It's also an alias for `catch`.\n     *\n     * @param {Function} onRejected Callback to be called with the value after promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(onRejected, ctx) {\n        return this.then(undef, onRejected, ctx);\n    },\n\n    /**\n     * Adds a resolving reaction (for both fulfillment and rejection).\n     *\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(onResolved, ctx) {\n        var _this = this,\n            cb = function() {\n                return onResolved.call(this, _this);\n            };\n\n        return this.then(cb, cb, ctx);\n    },\n\n    /**\n     * Adds a progress reaction.\n     *\n     * @param {Function} onProgress Callback that will be called with a provided value when the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(onProgress, ctx) {\n        return this.then(undef, undef, onProgress, ctx);\n    },\n\n    /**\n     * Like `promise.then`, but \"spreads\" the array into a variadic value handler.\n     * It is useful with the `vow.all` and the `vow.allResolved` methods.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise()]).spread(function(arg1, arg2) {\n     *     // arg1 is \"1\", arg2 is \"'two'\" here\n     * });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve('two');\n     * ```\n     */\n    spread : function(onFulfilled, onRejected, ctx) {\n        return this.then(\n            function(val) {\n                return onFulfilled.apply(this, val);\n            },\n            onRejected,\n            ctx);\n    },\n\n    /**\n     * Like `then`, but terminates a chain of promises.\n     * If the promise has been rejected, this method throws it's \"reason\" as an exception in a future turn of the event loop.\n     *\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer();\n     * defer.reject(Error('Internal error'));\n     * defer.promise().done(); // exception to be thrown\n     * ```\n     */\n    done : function(onFulfilled, onRejected, onProgress, ctx) {\n        this\n            .then(onFulfilled, onRejected, onProgress, ctx)\n            .fail(throwException);\n    },\n\n    /**\n     * Returns a new promise that will be fulfilled in `delay` milliseconds if the promise is fulfilled,\n     * or immediately rejected if the promise is rejected.\n     *\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(delay) {\n        var timer,\n            promise = this.then(function(val) {\n                var defer = new Deferred();\n                timer = setTimeout(\n                    function() {\n                        defer.resolve(val);\n                    },\n                    delay);\n\n                return defer.promise();\n            });\n\n        promise.always(function() {\n            clearTimeout(timer);\n        });\n\n        return promise;\n    },\n\n    /**\n     * Returns a new promise that will be rejected in `timeout` milliseconds\n     * if the promise is not resolved beforehand.\n     *\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer = vow.defer(),\n     *     promiseWithTimeout1 = defer.promise().timeout(50),\n     *     promiseWithTimeout2 = defer.promise().timeout(200);\n     *\n     * setTimeout(\n     *     function() {\n     *         defer.resolve('ok');\n     *     },\n     *     100);\n     *\n     * promiseWithTimeout1.fail(function(reason) {\n     *     // promiseWithTimeout to be rejected in 50ms\n     * });\n     *\n     * promiseWithTimeout2.then(function(value) {\n     *     // promiseWithTimeout to be fulfilled with \"'ok'\" value\n     * });\n     * ```\n     */\n    timeout : function(timeout) {\n        var defer = new Deferred(),\n            timer = setTimeout(\n                function() {\n                    defer.reject(new vow.TimedOutError('timed out'));\n                },\n                timeout);\n\n        this.then(\n            function(val) {\n                defer.resolve(val);\n            },\n            function(reason) {\n                defer.reject(reason);\n            });\n\n        defer.promise().always(function() {\n            clearTimeout(timer);\n        });\n\n        return defer.promise();\n    },\n\n    _vow : true,\n\n    _resolve : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        if(val === this) {\n            this._reject(TypeError('Can\\'t resolve promise with itself'));\n            return;\n        }\n\n        this._status = PROMISE_STATUS.RESOLVED;\n\n        if(val && !!val._vow) { // shortpath for vow.Promise\n            val.isFulfilled()?\n                this._fulfill(val.valueOf()) :\n                val.isRejected()?\n                    this._reject(val.valueOf()) :\n                    val.then(\n                        this._fulfill,\n                        this._reject,\n                        this._notify,\n                        this);\n            return;\n        }\n\n        if(isObject(val) || isFunction(val)) {\n            var then;\n            try {\n                then = val.then;\n            }\n            catch(e) {\n                this._reject(e);\n                return;\n            }\n\n            if(isFunction(then)) {\n                var _this = this,\n                    isResolved = false;\n\n                try {\n                    then.call(\n                        val,\n                        function(val) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._resolve(val);\n                        },\n                        function(err) {\n                            if(isResolved) {\n                                return;\n                            }\n\n                            isResolved = true;\n                            _this._reject(err);\n                        },\n                        function(val) {\n                            _this._notify(val);\n                        });\n                }\n                catch(e) {\n                    isResolved || this._reject(e);\n                }\n\n                return;\n            }\n        }\n\n        this._fulfill(val);\n    },\n\n    _fulfill : function(val) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.FULFILLED;\n        this._value = val;\n\n        this._callCallbacks(this._fulfilledCallbacks, val);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _reject : function(reason) {\n        if(this._status > PROMISE_STATUS.RESOLVED) {\n            return;\n        }\n\n        this._status = PROMISE_STATUS.REJECTED;\n        this._value = reason;\n\n        this._callCallbacks(this._rejectedCallbacks, reason);\n        this._fulfilledCallbacks = this._rejectedCallbacks = this._progressCallbacks = undef;\n    },\n\n    _notify : function(val) {\n        this._callCallbacks(this._progressCallbacks, val);\n    },\n\n    _addCallbacks : function(defer, onFulfilled, onRejected, onProgress, ctx) {\n        if(onRejected && !isFunction(onRejected)) {\n            ctx = onRejected;\n            onRejected = undef;\n        }\n        else if(onProgress && !isFunction(onProgress)) {\n            ctx = onProgress;\n            onProgress = undef;\n        }\n\n        var cb;\n\n        if(!this.isRejected()) {\n            cb = { defer : defer, fn : isFunction(onFulfilled)? onFulfilled : undef, ctx : ctx };\n            this.isFulfilled()?\n                this._callCallbacks([cb], this._value) :\n                this._fulfilledCallbacks.push(cb);\n        }\n\n        if(!this.isFulfilled()) {\n            cb = { defer : defer, fn : onRejected, ctx : ctx };\n            this.isRejected()?\n                this._callCallbacks([cb], this._value) :\n                this._rejectedCallbacks.push(cb);\n        }\n\n        if(this._status <= PROMISE_STATUS.RESOLVED) {\n            this._progressCallbacks.push({ defer : defer, fn : onProgress, ctx : ctx });\n        }\n    },\n\n    _callCallbacks : function(callbacks, arg) {\n        var len = callbacks.length;\n        if(!len) {\n            return;\n        }\n\n        var isResolved = this.isResolved(),\n            isFulfilled = this.isFulfilled();\n\n        nextTick(function() {\n            var i = 0, cb, defer, fn;\n            while(i < len) {\n                cb = callbacks[i++];\n                defer = cb.defer;\n                fn = cb.fn;\n\n                if(fn) {\n                    var ctx = cb.ctx,\n                        res;\n                    try {\n                        res = ctx? fn.call(ctx, arg) : fn(arg);\n                    }\n                    catch(e) {\n                        defer.reject(e);\n                        continue;\n                    }\n\n                    isResolved?\n                        defer.resolve(res) :\n                        defer.notify(res);\n                }\n                else {\n                    isResolved?\n                        isFulfilled?\n                            defer.resolve(arg) :\n                            defer.reject(arg) :\n                        defer.notify(arg);\n                }\n            }\n        });\n    }\n};\n\n/** @lends Promise */\nvar staticMethods = {\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return vow.cast(value);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     */\n    all : function(iterable) {\n        return vow.all(iterable);\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, then the returned promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    race : function(iterable) {\n        return vow.anyResolved(iterable);\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        return vow.resolve(value);\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        return vow.reject(reason);\n    }\n};\n\nfor(var prop in staticMethods) {\n    staticMethods.hasOwnProperty(prop) &&\n        (Promise[prop] = staticMethods[prop]);\n}\n\nvar vow = /** @exports vow */ {\n    Deferred : Deferred,\n\n    Promise : Promise,\n\n    /**\n     * Creates a new deferred. This method is a factory method for `vow:Deferred` class.\n     * It's equivalent to `new vow.Deferred()`.\n     *\n     * @returns {vow:Deferred}\n     */\n    defer : function() {\n        return new Deferred();\n    },\n\n    /**\n     * Static equivalent to `promise.then`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    when : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        return vow.cast(value).then(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.fail`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onRejected Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    fail : function(value, onRejected, ctx) {\n        return vow.when(value, undef, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.always`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onResolved Callback that will be invoked with the promise as an argument, after the promise has been resolved.\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    always : function(value, onResolved, ctx) {\n        return vow.when(value).always(onResolved, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.progress`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} onProgress Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callback execution\n     * @returns {vow:Promise}\n     */\n    progress : function(value, onProgress, ctx) {\n        return vow.when(value).progress(onProgress, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.spread`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Object} [ctx] Context of the callbacks execution\n     * @returns {vow:Promise}\n     */\n    spread : function(value, onFulfilled, onRejected, ctx) {\n        return vow.when(value).spread(onFulfilled, onRejected, ctx);\n    },\n\n    /**\n     * Static equivalent to `promise.done`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Function} [onFulfilled] Callback that will be invoked with a provided value after the promise has been fulfilled\n     * @param {Function} [onRejected] Callback that will be invoked with a provided reason after the promise has been rejected\n     * @param {Function} [onProgress] Callback that will be invoked with a provided value after the promise has been notified\n     * @param {Object} [ctx] Context of the callbacks execution\n     */\n    done : function(value, onFulfilled, onRejected, onProgress, ctx) {\n        vow.when(value).done(onFulfilled, onRejected, onProgress, ctx);\n    },\n\n    /**\n     * Checks whether the given `value` is a promise-like object\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     *\n     * @example\n     * ```js\n     * vow.isPromise('something'); // returns false\n     * vow.isPromise(vow.defer().promise()); // returns true\n     * vow.isPromise({ then : function() { }); // returns true\n     * ```\n     */\n    isPromise : function(value) {\n        return isObject(value) && isFunction(value.then);\n    },\n\n    /**\n     * Coerces the given `value` to a promise, or returns the `value` if it's already a promise.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    cast : function(value) {\n        return value && !!value._vow?\n            value :\n            vow.resolve(value);\n    },\n\n    /**\n     * Static equivalent to `promise.valueOf`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {*}\n     */\n    valueOf : function(value) {\n        return value && isFunction(value.valueOf)? value.valueOf() : value;\n    },\n\n    /**\n     * Static equivalent to `promise.isFulfilled`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isFulfilled : function(value) {\n        return value && isFunction(value.isFulfilled)? value.isFulfilled() : true;\n    },\n\n    /**\n     * Static equivalent to `promise.isRejected`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isRejected : function(value) {\n        return value && isFunction(value.isRejected)? value.isRejected() : false;\n    },\n\n    /**\n     * Static equivalent to `promise.isResolved`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @returns {Boolean}\n     */\n    isResolved : function(value) {\n        return value && isFunction(value.isResolved)? value.isResolved() : true;\n    },\n\n    /**\n     * Returns a promise that has already been resolved with the given `value`.\n     * If `value` is a promise, the returned promise will have `value`'s state.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    resolve : function(value) {\n        var res = vow.defer();\n        res.resolve(value);\n        return res.promise();\n    },\n\n    /**\n     * Returns a promise that has already been fulfilled with the given `value`.\n     * If `value` is a promise, the returned promise will be fulfilled with the fulfill/rejection value of `value`.\n     *\n     * @param {*} value\n     * @returns {vow:Promise}\n     */\n    fulfill : function(value) {\n        var defer = vow.defer(),\n            promise = defer.promise();\n\n        defer.resolve(value);\n\n        return promise.isFulfilled()?\n            promise :\n            promise.then(null, function(reason) {\n                return reason;\n            });\n    },\n\n    /**\n     * Returns a promise that has already been rejected with the given `reason`.\n     * If `reason` is a promise, the returned promise will be rejected with the fulfill/rejection value of `reason`.\n     *\n     * @param {*} reason\n     * @returns {vow:Promise}\n     */\n    reject : function(reason) {\n        var defer = vow.defer();\n        defer.reject(reason);\n        return defer.promise();\n    },\n\n    /**\n     * Invokes the given function `fn` with arguments `args`\n     *\n     * @param {Function} fn\n     * @param {...*} [args]\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var promise1 = vow.invoke(function(value) {\n     *         return value;\n     *     }, 'ok'),\n     *     promise2 = vow.invoke(function() {\n     *         throw Error();\n     *     });\n     *\n     * promise1.isFulfilled(); // true\n     * promise1.valueOf(); // 'ok'\n     * promise2.isRejected(); // true\n     * promise2.valueOf(); // instance of Error\n     * ```\n     */\n    invoke : function(fn, args) {\n        var len = Math.max(arguments.length - 1, 0),\n            callArgs;\n        if(len) { // optimization for V8\n            callArgs = Array(len);\n            var i = 0;\n            while(i < len) {\n                callArgs[i++] = arguments[i];\n            }\n        }\n\n        try {\n            return vow.resolve(callArgs?\n                fn.apply(global, callArgs) :\n                fn.call(global));\n        }\n        catch(e) {\n            return vow.reject(e);\n        }\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * with array:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all([defer1.promise(), defer2.promise(), 3])\n     *     .then(function(value) {\n     *          // value is \"[1, 2, 3]\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     *\n     * @example\n     * with object:\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.all({ p1 : defer1.promise(), p2 : defer2.promise(), p3 : 3 })\n     *     .then(function(value) {\n     *          // value is \"{ p1 : 1, p2 : 2, p3 : 3 }\" here\n     *     });\n     *\n     * defer1.resolve(1);\n     * defer2.resolve(2);\n     * ```\n     */\n    all : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            len = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!len) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var i = len;\n        vow._forEach(\n            iterable,\n            function(value, idx) {\n                res[keys[idx]] = value;\n                if(!--i) {\n                    defer.resolve(res);\n                }\n            },\n            defer.reject,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only after all the items in `iterable` are resolved.\n     *\n     * @param {Array|Object} iterable\n     * @returns {vow:Promise}\n     *\n     * @example\n     * ```js\n     * var defer1 = vow.defer(),\n     *     defer2 = vow.defer();\n     *\n     * vow.allResolved([defer1.promise(), defer2.promise()]).spread(function(promise1, promise2) {\n     *     promise1.isRejected(); // returns true\n     *     promise1.valueOf(); // returns \"'error'\"\n     *     promise2.isFulfilled(); // returns true\n     *     promise2.valueOf(); // returns \"'ok'\"\n     * });\n     *\n     * defer1.reject('error');\n     * defer2.resolve('ok');\n     * ```\n     */\n    allResolved : function(iterable) {\n        var defer = new Deferred(),\n            isPromisesArray = isArray(iterable),\n            keys = isPromisesArray?\n                getArrayKeys(iterable) :\n                getObjectKeys(iterable),\n            i = keys.length,\n            res = isPromisesArray? [] : {};\n\n        if(!i) {\n            defer.resolve(res);\n            return defer.promise();\n        }\n\n        var onResolved = function() {\n                --i || defer.resolve(iterable);\n            };\n\n        vow._forEach(\n            iterable,\n            onResolved,\n            onResolved,\n            defer.notify,\n            defer,\n            keys);\n\n        return defer.promise();\n    },\n\n    allPatiently : function(iterable) {\n        return vow.allResolved(iterable).then(function() {\n            var isPromisesArray = isArray(iterable),\n                keys = isPromisesArray?\n                    getArrayKeys(iterable) :\n                    getObjectKeys(iterable),\n                rejectedPromises, fulfilledPromises,\n                len = keys.length, i = 0, key, promise;\n\n            if(!len) {\n                return isPromisesArray? [] : {};\n            }\n\n            while(i < len) {\n                key = keys[i++];\n                promise = iterable[key];\n                if(vow.isRejected(promise)) {\n                    rejectedPromises || (rejectedPromises = isPromisesArray? [] : {});\n                    isPromisesArray?\n                        rejectedPromises.push(promise.valueOf()) :\n                        rejectedPromises[key] = promise.valueOf();\n                }\n                else if(!rejectedPromises) {\n                    (fulfilledPromises || (fulfilledPromises = isPromisesArray? [] : {}))[key] = vow.valueOf(promise);\n                }\n            }\n\n            if(rejectedPromises) {\n                throw rejectedPromises;\n            }\n\n            return fulfilledPromises;\n        });\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled if any of the items in `iterable` is fulfilled.\n     * If all of the `iterable` items get rejected, the promise will be rejected (with the reason of the first rejected item).\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    any : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        var i = 0, reason;\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            function(e) {\n                i || (reason = e);\n                ++i === len && defer.reject(reason);\n            },\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Returns a promise, that will be fulfilled only when any of the items in `iterable` is fulfilled.\n     * If any of the `iterable` items gets rejected, the promise will be rejected.\n     *\n     * @param {Array} iterable\n     * @returns {vow:Promise}\n     */\n    anyResolved : function(iterable) {\n        var defer = new Deferred(),\n            len = iterable.length;\n\n        if(!len) {\n            defer.reject(Error());\n            return defer.promise();\n        }\n\n        vow._forEach(\n            iterable,\n            defer.resolve,\n            defer.reject,\n            defer.notify,\n            defer);\n\n        return defer.promise();\n    },\n\n    /**\n     * Static equivalent to `promise.delay`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} delay\n     * @returns {vow:Promise}\n     */\n    delay : function(value, delay) {\n        return vow.resolve(value).delay(delay);\n    },\n\n    /**\n     * Static equivalent to `promise.timeout`.\n     * If `value` is not a promise, then `value` is treated as a fulfilled promise.\n     *\n     * @param {*} value\n     * @param {Number} timeout\n     * @returns {vow:Promise}\n     */\n    timeout : function(value, timeout) {\n        return vow.resolve(value).timeout(timeout);\n    },\n\n    _forEach : function(promises, onFulfilled, onRejected, onProgress, ctx, keys) {\n        var len = keys? keys.length : promises.length,\n            i = 0;\n\n        while(i < len) {\n            vow.when(\n                promises[keys? keys[i] : i],\n                wrapOnFulfilled(onFulfilled, i),\n                onRejected,\n                onProgress,\n                ctx);\n            ++i;\n        }\n    },\n\n    TimedOutError : defineCustomErrorType('TimedOut')\n};\n\nvar defineAsGlobal = true;\nif(typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = vow;\n    defineAsGlobal = false;\n}\n\nif(typeof modules === 'object' && isFunction(modules.define)) {\n    modules.define('vow', function(provide) {\n        provide(vow);\n    });\n    defineAsGlobal = false;\n}\n\nif(typeof define === 'function') {\n    define(function(require, exports, module) {\n        module.exports = vow;\n    });\n    defineAsGlobal = false;\n}\n\ndefineAsGlobal && (global.vow = vow);\n\n})(this);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/vow/lib/vow.js\n ** module id = 114\n ** module chunks = 0\n **/","\"use strict\";\nvar window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require(\"parse-headers\")\n\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            loadFunc()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = undefined\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === \"text\" || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n    \n    var failureResponse = {\n                body: undefined,\n                headers: {},\n                statusCode: 0,\n                method: method,\n                url: uri,\n                rawRequest: xhr\n            }\n    \n    function errorFunc(evt) {\n        clearTimeout(timeoutTimer)\n        if(!(evt instanceof Error)){\n            evt = new Error(\"\" + (evt || \"unknown\") )\n        }\n        evt.statusCode = 0\n        callback(evt, failureResponse)\n    }\n\n    // will load the data & process the response in a special response object\n    function loadFunc() {\n        clearTimeout(timeoutTimer)\n        \n        var status = (xhr.status === 1223 ? 204 : xhr.status)\n        var response = failureResponse\n        var err = null\n        \n        if (status !== 0){\n            response = {\n                body: getBody(),\n                statusCode: status,\n                method: method,\n                headers: {},\n                url: uri,\n                rawRequest: xhr\n            }\n            if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n                response.headers = parseHeaders(xhr.getAllResponseHeaders())\n            }\n        } else {\n            err = new Error(\"Internal XMLHttpRequest Error\")\n        }\n        callback(err, response, response.body)\n        \n    }\n    \n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    if(typeof callback === \"undefined\"){\n        throw new Error(\"callback argument missing\")\n    }\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var key\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var timeoutTimer\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\") //Don't override existing accept header declared by user\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = loadFunc\n    xhr.onerror = errorFunc\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    xhr.ontimeout = errorFunc\n    xhr.open(method, uri, !sync, options.username, options.password)\n    //has to be after open\n    if(!sync) {\n        xhr.withCredentials = !!options.withCredentials\n    }\n    // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n    if (!sync && options.timeout > 0 ) {\n        timeoutTimer = setTimeout(function(){\n            xhr.abort(\"timeout\");\n        }, options.timeout+2 );\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n\n}\n\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/index.js\n ** module id = 115\n ** module chunks = 0\n **/","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/global/window.js\n ** module id = 116\n ** module chunks = 0\n **/","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/once/once.js\n ** module id = 117\n ** module chunks = 0\n **/","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/index.js\n ** module id = 118\n ** module chunks = 0\n **/","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/for-each/~/is-function/index.js\n ** module id = 119\n ** module chunks = 0\n **/","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/~/trim/index.js\n ** module id = 120\n ** module chunks = 0\n **/","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-io-gff/~/biojs-io-parser/~/xhr/~/parse-headers/parse-headers.js\n ** module id = 121\n ** module chunks = 0\n **/","module.exports.seq = require(\"./seq\");\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-model/src/index.js\n ** module id = 122\n ** module chunks = 0\n **/","module.exports = function(seq, name, id) {\n    this.seq = seq;\n    this.name = name;\n    this.id = id;\n    this.meta = {};\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-model/src/seq.js\n ** module id = 123\n ** module chunks = 0\n **/","// this is a light-weight build without the scrolling module\nmodule.exports = require(\"./src/index.js\");\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/light.js\n ** module id = 124\n ** module chunks = 0\n **/","module.exports = {\n    render_x_axis_label: function () {\n      var label = \"Model Position\";\n      if (this.display_ali_map) {\n        label = \"Alignment Column\";\n      }\n      this.called_on.find('.logo_xaxis').remove();\n      this.called_on.prepend('<div class=\"logo_xaxis\" class=\"centered\" style=\"margin-left:40px\"><p class=\"xaxis_text\" style=\"width:10em;margin:1em auto\">' + label + '</p></div>');\n\n    },\n    render_y_axis_label: function () {\n      //attach a canvas for the y-axis\n      this.dom_element.parent().before('<canvas class=\"logo_yaxis\" height=\"'+this.options.height+'\" width=\"55\"></canvas>');\n      var canvas = this.called_on.find('.logo_yaxis'),\n      top_pix_height = 0,\n      bottom_pix_height = 0,\n      top_height = Math.abs(this.data.max_height),\n      bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n      context = null,\n      axis_label = \"Information Content (bits)\";\n\n      context = canvas[0].getContext('2d');\n      //draw min/max tick marks\n      context.beginPath();\n      context.moveTo(55, 1);\n      context.lineTo(40, 1);\n\n      context.moveTo(55, this.info_content_height);\n      context.lineTo(40, this.info_content_height);\n\n\n      context.moveTo(55, (this.info_content_height / 2));\n      context.lineTo(40, (this.info_content_height / 2));\n      context.lineWidth = 1;\n      context.strokeStyle = \"#666666\";\n      context.stroke();\n\n      //draw the label text\n      context.fillStyle = \"#666666\";\n      context.textAlign = \"right\";\n      context.font = \"bold 10px Arial\";\n\n      // draw the max label\n      context.textBaseline = \"top\";\n      context.fillText(parseFloat(this.data.max_height).toFixed(1), 38, 0);\n      context.textBaseline = \"middle\";\n\n      // draw the midpoint labels\n      context.fillText(parseFloat(this.data.max_height / 2).toFixed(1), 38, (this.info_content_height / 2));\n      // draw the min label\n      context.fillText('0', 38, this.info_content_height);\n\n      // draw the axis label\n      if (this.data.height_calc === 'score') {\n        axis_label = \"Score (bits)\";\n      }\n\n      context.save();\n      context.translate(5, this.height / 2 - 20);\n      context.rotate(-Math.PI / 2);\n      context.textAlign = \"center\";\n      context.font = \"normal 12px Arial\";\n      context.fillText(axis_label, 1, 0);\n      context.restore();\n\n      // draw the insert row labels\n      context.fillText('occupancy', 55, this.info_content_height + 7);\n      if (this.show_inserts) {\n        context.fillText('ins. prob.', 50, 280);\n        context.fillText('ins. len.', 46, 296);\n      }\n    }\n}; \n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/axis.js\n ** module id = 125\n ** module chunks = 0\n **/","var canv_support = null;\n\nmodule.exports = function canvasSupport() {\n  if (!canv_support) {\n    var elem = document.createElement('canvas');\n    canv_support = !!(elem.getContext && elem.getContext('2d'));\n  }\n  return canv_support;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/canvasSupport.js\n ** module id = 126\n ** module chunks = 0\n **/","module.exports = {\n  'A': '#FF9966',\n  'C': '#009999',\n  'D': '#FF0000',\n  'E': '#CC0033',\n  'F': '#00FF00',\n  'G': '#f2f20c',\n  'H': '#660033',\n  'I': '#CC9933',\n  'K': '#663300',\n  'L': '#FF9933',\n  'M': '#CC99CC',\n  'N': '#336666',\n  'P': '#0099FF',\n  'Q': '#6666CC',\n  'R': '#990000',\n  'S': '#0000FF',\n  'T': '#00FFFF',\n  'V': '#FFCC33',\n  'W': '#66CC66',\n  'Y': '#006600'\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/colors/aa.js\n ** module id = 127\n ** module chunks = 0\n **/","module.exports = {\n    'A': '#cbf751',\n    'C': '#5ec0cc',\n    'G': '#ffdf59',\n    'T': '#b51f16',\n    'U': '#b51f16'\n  };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/colors/dna.js\n ** module id = 128\n ** module chunks = 0\n **/","var $ = require(\"jbone\");\n\nmodule.exports = function($el,logo, logo_graphic){\n\n  $el.find('.logo_settings_switch, .logo_settings .close').on('click', function (e) {\n    e.preventDefault();\n    $('.logo_settings').toggle();\n  });\n\n  $el.find('.logo_reset').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'target': logo.default_zoom});\n  });\n\n  $el.find('.logo_change').on('click', function (e) {\n    e.preventDefault();\n  });\n\n  $el.find('.logo_zoomin').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'distance': 0.1, 'direction': '+'});\n  });\n\n  $el.find('.logo_zoomout').on('click', function (e) {\n    e.preventDefault();\n    logo.changeZoom({'distance': 0.1, 'direction': '-'});\n  });\n\n  $el.find('.logo_scale').on('change', function (e) {\n    logo.toggleScale(this.value);\n  });\n\n  $el.find('.logo_color').on('change', function (e) {\n    logo.toggleColorscheme(this.value);\n  });\n\n  $el.find('.logo_ali_map').on('change', function (e) {\n    logo.toggleAliMap(this.value);\n  });\n\n  $el.find('.logo_position').on('change', function () {\n    if (!this.value.match(/^\\d+$/m)) {\n      return;\n    }\n    logo.scrollToColumn(this.value, 1);\n  });\n\n  logo_graphic.on('dblclick', function (e) {\n    // need to get coordinates of mouse click\n    console.log(\"dblclick\", logo);\n\n    offset = logo.logo_graphic.offset(),\n    x = parseInt((e.pageX - offset.left), 10),\n\n    // get mouse position in the window\n    window_position = e.pageX - $el.parent().offset().left,\n\n    // get column number\n    col = logo.columnFromCoordinates(x),\n\n    console.log(\"col\", col);\n\n    // choose new zoom level and zoom in.\n    current = logo.zoom;\n\n    if (current < 1) {\n      logo.changeZoom({'target': 1, offset: window_position, column: col});\n    } else {\n      logo.changeZoom({'target': 0.3, offset: window_position, column: col});\n    }\n\n    return;\n  });\n\n  $(document).on($el.attr('id') + \".scrolledTo\", function (e, left, top, zoom) {\n    logo.render({target: left});\n  });\n\n  $(document).on('keydown', function (e) {\n    if (!e.ctrlKey) {\n      if (e.which === 61 || e.which === 107) {\n        zoom += 0.1;\n        logo.changeZoom({'distance': 0.1, 'direction': '+'});\n      }\n      if (e.which === 109 || e.which === 0) {\n        zoom = zoom - 0.1;\n        logo.changeZoom({'distance': 0.1, 'direction': '-'});\n      }\n    }\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/eventListener.js\n ** module id = 129\n ** module chunks = 0\n **/","_ = require(\"underscore\");\n\n//var ConsensusColors = require(\"./consensusColors.js\");\nvar canvasSupport = require(\"./canvasSupport.js\");\nvar render = require(\"./render/render.js\");\nvar Letter = require(\"./model/letter.js\");\nvar view = require(\"backbone-viewj\");\nvar axis = require(\"./axis\");\nvar eventListener = require(\"./eventListener.js\");\nvar settings = require(\"./info/settings.js\");\n\nvar jbone = require(\"jbone\");\n\nmodule.exports = view.extend({\n\n  options: {\n    xaxis: true,\n    yaxis: true,\n    height: 300,\n    column_width: 34,\n    debug: true,\n    scale_height_enabled: true,\n    scaled_max: true,\n    zoom_buttons: true,\n    colorscheme: 'default',\n    data: undefined,\n    start: 1,\n    end: undefined,\n    zoom: 0.4,\n    colors: undefined,\n    divider: false,\n    show_probs: false,\n    divider_step: 5,\n    show_divider: false,\n    border: false,\n    settings: false,\n    scroller: true,\n    positionMarker: true\n  },\n\n  loadDefault: function(options){\n    this.data = options.data;\n\n    // never show the alignment coordinates by default as that would get\n    // really confusing.\n    this.display_ali_map = 0;\n\n    this.alphabet = options.data.alphabet || 'dna';\n\n    this.start = options.start;\n    //this.end = options.end || this.data.heightArr.length;\n    this.zoom = parseFloat(options.zoom) || 0.4;\n    this.default_zoom = this.zoom;\n\n    this.column_width = options.column_width;\n    this.height = options.height;\n    this.canvas_width = 5000;\n    this.scale_height_enabled = options.scale_height_enabled;\n\n    // this needs to be set to null here so that we can initialise it after\n    // the render function has fired and the width determined.\n    this.scrollme = null;\n\n    this.previous_target = 0;\n    // keeps track of which canvas elements have been drawn and which ones haven't.\n    this.rendered = [];\n    this.previous_zoom = 0;\n\n    if(this.data.max_height == undefined){\n      this.data.max_height = this.calcMaxHeight(this.data.heightArr); \n    }\n\n    // only show insert when we actually have the data\n    if(!this.data.insert_probs || !this.data.delete_probs){\n      this.options.show_probs = false;\n    }\n\n    if (options.scaled_max) {\n      this.data.max_height = options.data.max_height_obs || this.data.max_height || 2;\n    } else {\n      this.data.max_height = options.data.max_height_theory || this.data.max_height || 2;\n    }\n\n    if(options.colors){\n      this.changeColors(options.colors);\n    }else{\n      if (this.alphabet === 'aa') {\n        this.aa_colors = require(\"./colors/aa.js\");\n        this.changeColors(this.aa_colors);\n      }else{\n        this.dna_colors = require(\"./colors/dna.js\");\n        this.changeColors(this.dna_colors);\n      }\n    }\n  },\n  initialize: function(options) {\n    if (!canvasSupport()) {\n      this.el.textContent = \"Your browser doesn't support canvas.\";\n      return;\n    }\n    if(options.data == undefined){\n      this.el.textContent = \"No data added.\";\n    }\n\n    // load default settings\n    _.extend(this.options,options);\n    var opt = this.options;\n    this.loadDefault(opt);\n\n    if(!this.options.show_probs){\n      this.info_content_height = this.height;\n    }else{\n      // turn off the insert rows if the hmm used the observed or weighted processing flags.\n      if (this.data.processing && /^observed|weighted/.test(this.data.processing)) {\n        this.show_inserts = 0;\n        this.info_content_height = this.height - 14;\n      } else {\n        this.show_inserts = 1;\n        this.info_content_height = this.height - 44;\n      }\n    }\n    this.$el = jbone(this.el);\n\n    this.initDivs();\n\n    if(this.options.settings){\n      var form = settings(this,opt);\n      this.$el.append(form);\n    }\n\n    eventListener(this.$el,this, this.logo_graphic);\n    /*\n       if (opt.columnInfo) {\n       var columnInfo = require(\"./info/column_info.js\");\n       columnInfo(this);\n       }\n       */\n\n  },\n  initDivs: function(){\n    var logo_graphic = mk(\"div\");\n    logo_graphic.className = \"logo_graphic\";\n    this.logo_graphic = jbone(logo_graphic);\n\n    var container = mk(\"div\");\n    container.className = \"logo_container\";\n    container.style.height = this.height;\n    this.container = jbone(container);\n\n    this.container.append(logo_graphic);\n\n    // add some internal divs for scrolling etc.\n    this.$el.append(container);\n\n    if(this.options.divider){\n      var divider = mk(\"div\");\n      divider.className = \"logo_divider\";\n      this.$el.append(divider);\n    }\n\n    this.dom_element = jbone(logo_graphic);\n    this.called_on = this.$el;\n\n    if(this.options.xaxis){\n      axis.render_x_axis_label.call(this);\n    }\n    if(this.options.yaxis){\n      axis.render_y_axis_label.call(this);\n    }else{\n      this.container[0].style.marginLeft = \"0px\";\n    }\n\n  },\n\n  render: function(){\n    render.call(this); \n    return this;\n  },\n\n  changeColors: function(colors){\n    this.colors = colors;\n    var bUseColorObject = (colors != undefined && colors.type != undefined);\n    if(bUseColorObject){\n      this.colorscheme = \"dynamic\";\n    }\n    this.buildAlphabet();\n  },\n\n  buildAlphabet: function(){\n    /*\n       if (this.alphabet === 'aa') {\n       var probs_arr = this.data.probs_arr;\n       if (probs_arr) {\n       var cc = new ConsensusColors();\n       this.cmap = cc.color_map(probs_arr);\n       }\n       }\n       */\n\n    //build the letter canvases\n    this.letters = {};\n    var colors = this.colors;\n    if(this.colorscheme == \"dynamic\"){\n      var tColors = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split('');\n      colors = {};\n      tColors.forEach(function(e){\n        colors[e] = \"\";\n      });\n    }\n    for (var letter in colors) {\n      if (colors.hasOwnProperty(letter)) {\n        var loptions = {color: colors[letter]};\n        this.letters[letter] = new Letter(letter, loptions);\n      }\n    }\n  },\n\n  toggleColorscheme: function (scheme) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (scheme) {\n      if (scheme === 'default') {\n        this.colorscheme = 'default';\n      } else {\n        this.colorscheme = 'consensus';\n      }\n    } else {\n      if (this.colorscheme === 'default') {\n        this.colorscheme = 'consensus';\n      } else {\n        this.colorscheme = 'default';\n      }\n    }\n\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n\n  toggleScale: function (scale) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (scale) {\n      if (scale === 'obs') {\n        this.data.max_height = this.data.max_height_obs;\n      } else {\n        this.data.max_height = this.data.max_height_theory;\n      }\n    } else {\n      // toggle the max height\n      if (this.data.max_height === this.data.max_height_obs) {\n        this.data.max_height = this.data.max_height_theory;\n      } else {\n        this.data.max_height = this.data.max_height_obs;\n      }\n    }\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n    //update the y-axis\n    if(this.logoYAxis){\n      this.logoYAxis.remove();\n      //this.called_on.find('.logo_yaxis').remove();\n    }\n    axis.render_y_axis_label.call(this);\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n  toggleAliMap: function (coords) {\n    // work out the current column we are on so we can return there\n    var col_total = this.currentColumn();\n\n    if (coords) {\n      if (coords === 'model') {\n        this.display_ali_map = 0;\n      } else {\n        this.display_ali_map = 1;\n      }\n    } else {\n      // toggle the max height\n      if (this.display_ali_map === 1) {\n        this.display_ali_map = 0;\n      } else {\n        this.display_ali_map = 1;\n      }\n    }\n    axis.render_x_axis_label(this);\n\n    // reset the rendered counter so that each section will re-render\n    // with the new heights\n    this.rendered = [];\n\n    // re-flow and re-render the content\n    this.scrollme.reflow();\n    //scroll off by one to force a render of the canvas.\n    this.scrollToColumn(col_total + 1);\n    //scroll back to the location we started at.\n    this.scrollToColumn(col_total);\n  },\n\n  currentColumn: function () {\n    var before_left = this.scrollme.scroller.getValues().left,\n    col_width = (this.column_width * this.zoom),\n    col_count = before_left / col_width,\n    half_visible_columns = (this.container.width() / col_width) / 2,\n    col_total = Math.ceil(col_count + half_visible_columns);\n    return col_total;\n  },\n\n  changeZoom: function (options) {\n    var zoom_level = 0.3,\n    expected_width = null;\n    if (options.target) {\n      zoom_level = options.target;\n    } else if (options.distance) {\n      zoom_level = (parseFloat(this.zoom) - parseFloat(options.distance)).toFixed(1);\n      if (options.direction === '+') {\n        zoom_level = (parseFloat(this.zoom) + parseFloat(options.distance)).toFixed(1);\n      }\n    }\n\n    if (zoom_level > 1) {\n      zoom_level = 1;\n    } else if (zoom_level < 0.1) {\n      zoom_level = 0.1;\n    }\n\n    // see if we need to zoom or not\n    expected_width = (this.logo_graphic.width() * zoom_level) / this.zoom;\n    if (expected_width > this.container.width()) {\n      // if a center is not specified, then use the current center of the view\n      if (!options.column) {\n        //work out my current position\n        var col_total = this.currentColumn();\n\n        this.zoom = zoom_level;\n        this.render({zoom: this.zoom});\n        this.scrollme.reflow();\n\n        //scroll to previous position\n        this.scrollToColumn(col_total);\n      } else { // center around the mouse click position.\n        this.zoom = zoom_level;\n        this.render({zoom: this.zoom});\n        this.scrollme.reflow();\n\n        var coords = this.coordinatesFromColumn(options.column);\n        this.scrollme.scroller.scrollTo(coords - options.offset);\n      }\n    }\n    return this.zoom;\n\n  },\n\n  columnFromCoordinates: function (x) {\n    var column = Math.ceil(x / (this.column_width * this.zoom));\n    return column;\n  },\n\n  coordinatesFromColumn: function (col) {\n    var new_column = col - 1,\n    x = (new_column  * (this.column_width * this.zoom)) + ((this.column_width * this.zoom) / 2);\n    return x;\n  },\n\n  scrollToColumn: function (num, animate) {\n    var half_view = (this.logo_container.width() / 2),\n    new_left = this.coordinatesFromColumn(num);\n    this.scrollme.scroller.scrollTo(new_left - half_view, 0, animate);\n  },\n  calcMaxHeight: function(columns){\n    // loops over all columns and return the max height seen \n    return columns.reduce(function(m,c){\n      var col = 0;\n      for(var k in c){\n        col += c[k];\n      }\n      return col > m ? col : m;\n    },0);\n  }\n\n\n});\n\nvar mk = function(name){\n  return document.createElement(name);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/index.js\n ** module id = 130\n ** module chunks = 0\n **/","var $ = require(\"jbone\");\n\nmodule.exports = function(logo,options){\n  var form = $('<form class=\"logo_form\"><fieldset><label for=\"position\">Column number</label>' +\n               '<input type=\"text\" name=\"position\" class=\"logo_position\"></input>' +\n               '<button class=\"button logo_change\">Go</button></fieldset>' +\n               '</form>');\n\n  var settings = $('<div class=\"logo_settings\"></div>');\n  settings.append('<span class=\"close\">x</span>');\n\n\n\n  /* we don't want to toggle if the max height_obs is greater than max theoretical\n   * as letters will fall off the top.\n   */\n  if (logo.scale_height_enabled && (logo.data.max_height_obs < logo.data.max_height_theory)) {\n    var obs_checked = '',\n    theory_checked = '',\n    theory_help = '',\n    obs_help = '';\n\n    if (logo.data.max_height_obs === logo.data.max_height) {\n      obs_checked = 'checked';\n    } else {\n      theory_checked = 'checked';\n    }\n  }\n\n\n\n  var scale_controls = '<fieldset><legend>Scale</legend>' +\n    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"obs\" ' + obs_checked +\n    '/>Maximum Observed ' + obs_help +\n    '</label></br>' +\n    '<label><input type=\"radio\" name=\"scale\" class=\"logo_scale\" value=\"theory\" ' + theory_checked +\n    '/>Maximum Theoretical ' + theory_help +\n    '</label>' +\n    '</fieldset>';\n\n  settings.append(scale_controls);\n\n  if (logo.data.height_calc !== 'score' && logo.data.alphabet === 'aa' && logo.data.probs_arr) {\n\n    var def_color = null,\n    con_color = null,\n    def_help = '',\n    con_help = '';\n\n    if (logo.colorscheme === 'default') {\n      def_color = 'checked';\n    } else {\n      con_color = 'checked';\n    };\n\n    if (options.help) {\n      def_help = '<a class=\"help\" href=\"/help#colors_default\" title=\"Each letter receives its own color.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n      con_help = '<a class=\"help\" href=\"/help#colors_consensus\" title=\"Letters are colored as in Clustalx and Jalview, with colors depending on composition of the column.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n    }\n\n    var color_controls = '<fieldset><legend>Color Scheme</legend>' +\n      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"default\" ' + def_color +\n      '/>Default ' + def_help +\n      '</label></br>' +\n      '<label><input type=\"radio\" name=\"color\" class=\"logo_color\" value=\"consensus\" ' + con_color +\n      '/>Consensus Colors ' + con_help +\n      '</label>' +\n      '</fieldset>';\n    settings.append(color_controls);\n  }\n\n\n  if (logo.data.ali_map) {\n    var mod_checked = null,\n    ali_checked = null,\n    mod_help = '',\n    ali_help = '';\n\n    if (logo.display_ali_map === 0) {\n      mod_checked = 'checked';\n    } else {\n      ali_checked = 'checked';\n    }\n\n    if (options.help) {\n      mod_help = '<a class=\"help\" href=\"/help#coords_model\" title=\"The coordinates along the top of the plot show the model position.\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n      ali_help = '<a class=\"help\" href=\"/help#coords_ali\" title=\"The coordinates along the top of the plot show the column in the alignment associated with the model\">' +\n        '<span aria-hidden=\"true\" data-icon=\"?\"></span><span class=\"reader-text\">help</span></a>';\n    }\n\n    var ali_controls = '<fieldset><legend>Coordinates</legend>' +\n      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"model\" ' + mod_checked +\n      '/>Model ' + mod_help +\n      '</label></br>' +\n      '<label><input type=\"radio\" name=\"coords\" class=\"logo_ali_map\" value=\"alignment\" ' + ali_checked +\n      '/>Alignment ' + ali_help +\n      '</label>' +\n      '</fieldset>';\n    settings.append(ali_controls);\n  }\n\n\n  var controls = $('<div class=\"logo_controls\"></div>');\n  if (logo.zoom_enabled) {\n    controls.append('<button class=\"logo_zoomout button\">-</button>' +\n                    '<button class=\"logo_zoomin button\">+</button>');\n  }\n\n  if (settings.children().length > 0) {\n    controls.append('<button class=\"logo_settings_switch button\">Settings</button>');\n    controls.append(settings);\n  }\n\n  form.append(controls);\n\n  return form;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/info/settings.js\n ** module id = 131\n ** module chunks = 0\n **/","module.exports = function Letter(letter, options) {\n  options = options || {};\n  this.value = letter;\n  this.width = parseInt(options.width, 10) || 100;\n\n  //W is 30% wider than the other letters, so need to make sure\n  //it gets modified accordingly.\n  if (this.value === 'W') {\n    this.width += (this.width * 30) / 100;\n  }\n\n  this.height = parseInt(options.height, 10) || 100;\n\n  this.color = options.color || '#000000';\n  // if the height and width are changed from the default, then\n  // this will also need to be changed as it cant be calculated\n  // dynamically.\n  this.fontSize = options.fontSize || 138;\n\n  this.scaled = function () { };\n\n  this.draw = function (ext_ctx, target_height, target_width, x, y, color) {\n    var h_ratio = target_height / this.height,\n    w_ratio = target_width / this.width,\n    prev_font = ext_ctx.font;\n    ext_ctx.transform(w_ratio, 0, 0, h_ratio, x, y);\n    ext_ctx.fillStyle = color || this.color;\n    ext_ctx.textAlign = \"center\";\n    ext_ctx.font = \"bold \" + this.fontSize + \"px Arial\";\n\n    ext_ctx.fillText(this.value, 0, 0);\n    //restore the canvas settings\n    ext_ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ext_ctx.fillStyle = '#000000';\n    ext_ctx.font = prev_font;\n  };\n\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/model/letter.js\n ** module id = 132\n ** module chunks = 0\n **/","var renderWithText = require(\"./render_with_text.js\");\nvar renderWithRect = require(\"./render_with_rects.js\");\nvar jbone = require(\"jbone\");\n\n// the main render function that draws the logo based on the provided options.\nmodule.exports = function (options) {\n  if (!this.data) {\n    return;\n  }\n  options    = options || {};\n  var zoom   = options.zoom || this.zoom,\n  target = options.target || 1,\n  scaled = options.scaled || null;\n  var parent_width = this.dom_element.parent().attr('width'),\n  max_canvas_width = 1,\n  end = null,\n  start = null,\n  i = 0;\n\n  /*\n  if (target === this.previous_target) {\n    return;\n  }\n  */\n\n  this.previous_target = target;\n\n\n  if (options.start) {\n    this.start = options.start;\n  }\n  if (options.end) {\n    this.end = options.end;\n  }\n\n  if (zoom <= 0.1) {\n    zoom = 0.1;\n  } else if (zoom >= 1) {\n    zoom = 1;\n  }\n\n  this.zoom = zoom;\n\n  end = this.end || this.data.heightArr.length;\n  start = this.start || 1;\n  end     = (end > this.data.heightArr.length) ? this.data.heightArr.length : end;\n  end     = (end < start) ? start : end;\n\n  start     = (start > end) ? end : start;\n  start     = (start > 1) ? start : 1;\n\n  this.y = this.height - 20;\n  // Check to see if the logo will fit on the screen at full zoom.\n  this.max_width = this.column_width * ((end - start) + 1);\n  // If it fits then zoom out and disable zooming.\n  if (parent_width > this.max_width) {\n    zoom = 1;\n    this.zoom_enabled = false;\n  }\n  this.zoom = zoom;\n\n  this.zoomed_column = this.column_width * zoom;\n  this.total_width = this.zoomed_column * ((end - start) + 1);\n\n  // If zoom is not maxed and we still aren't filling the window\n  // then ramp up the zoom level until it fits, then disable zooming.\n  // Then we get a decent logo with out needing to zoom in or out.\n  if (zoom < 1) {\n    while (this.total_width < parent_width) {\n      this.zoom += 0.1;\n      this.zoomed_column = this.column_width * this.zoom;\n      this.total_width = this.zoomed_column * ((end - start) + 1);\n      this.zoom_enabled = false;\n      if (zoom >= 1) {\n        break;\n      }\n    }\n  }\n\n  if (target > this.total_width) {\n    target = this.total_width;\n  }\n  this.dom_element.attr({'width': this.total_width + 'px'}).css({width: this.total_width + 'px'});\n\n  this.canvas_width = this.total_width;\n  var canvas_count = Math.ceil(this.total_width / this.canvas_width);\n  this.columns_per_canvas = Math.ceil(this.canvas_width / this.zoomed_column);\n\n\n  if (this.previous_zoom !== this.zoom) {\n    this.dom_element.find('canvas').remove();\n    this.previous_zoom = this.zoom;\n    this.rendered = [];\n  }\n\n  this.canvases = [];\n  this.contexts = [];\n\n\n  for (i = 0; i < canvas_count; i++) {\n\n    var split_start = (this.columns_per_canvas * i) + start,\n    split_end   = split_start + this.columns_per_canvas - 1;\n    if (split_end > end) {\n      split_end = end;\n    }\n\n    var adjusted_width = ((split_end - split_start) + 1) * this.zoomed_column;\n\n    if (adjusted_width > max_canvas_width) {\n      max_canvas_width = adjusted_width;\n    }\n\n    var canv_start = max_canvas_width * i,\n    canv_end = canv_start + adjusted_width;\n\n    if (target < canv_end + (canv_end / 2) && target > canv_start - (canv_start / 2)) {\n      // Check that we aren't redrawing the canvas and if not, then attach it and draw.\n      //if (this.rendered[i] !== 1) {\n\n        this.canvases[i] = attach_canvas(this.dom_element, this.height, adjusted_width, i, max_canvas_width);\n        this.contexts[i] = this.canvases[i].getContext('2d');\n        this.contexts[i].setTransform(1, 0, 0, 1, 0, 0);\n        this.contexts[i].clearRect(0, 0, adjusted_width, this.height);\n        this.contexts[i].fillStyle = \"#ffffff\";\n        this.contexts[i].fillRect(0, 0, canv_end, this.height);\n\n\n        if (this.zoomed_column > 12) {\n          var fontsize = parseInt(10 * zoom, 10);\n          fontsize = (fontsize > 10) ? 10 : fontsize;\n          if (this.debug) {\n            renderWithRect.call(this,split_start, split_end, i, 1);\n          }\n          renderWithText.call(this,split_start, split_end, i, fontsize);\n        } else {\n          renderWithRect.call(this,split_start, split_end, i);\n        }\n        //this.rendered[i] = 1;\n      //}\n    }\n\n  }\n\n  // check if the scroller object has been initialised and if not then do so.\n  // we do this here as opposed to at object creation, because we need to\n  // make sure the logo has been rendered and the width is correct, otherwise\n  // we get a weird initial state where the canvas will bounce back to the\n  // beginning the first time it is scrolled, because it thinks it has a\n  // width of 0.\n  if (!this.scrollme && this.options.scroller) {\n    this.scrollme = new EasyScroller(this.dom_element[0], {\n      scrollingX: 1,\n      scrollingY: 0,\n      eventTarget: this.called_on\n    });\n  }\n\n  if (target !== 1) {\n    this.scrollme.reflow();\n  }\n  return;\n};\n\n\nfunction attach_canvas(DOMid, height, width, id, canv_width) {\n  var canvas = jbone(DOMid).find('#canv_' + id);\n\n  if (!canvas.length) {\n    jbone(DOMid).append('<canvas class=\"canvas_logo\" id=\"canv_' + id + '\"  height=\"' + height + '\" width=\"' + width + '\" style=\"left:' + canv_width * id + 'px\"></canvas>');\n    canvas = jbone(DOMid).find('#canv_' + id);\n  }\n\n  jbone(canvas).attr('width', width).attr('height', height);\n\n  return canvas[0];\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/render.js\n ** module id = 133\n ** module chunks = 0\n **/","var draw_border = require(\"./draw/border.js\");\nvar draw_ticks = require(\"./draw/ticks.js\");\nvar draw_column_number = require(\"./draw/column_number.js\");\n\nmodule.exports = function (start, end, context_num, borders) {\n  var x = 0,\n  column_num = start,\n  column_label = null,\n  i = 0,\n  top_height = Math.abs(this.data.max_height),\n  bottom_height = Math.abs(this.data.min_height_obs),\n  total_height = top_height + bottom_height,\n  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n  //convert % to pixels\n  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n  bottom_pix_height = this.info_content_height - top_pix_height,\n  mod = 10;\n\n\n  for (i = start; i <= end; i++) {\n    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n      this.contexts[context_num].fillStyle = '#cccccc';\n      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n    } else {\n      var column = this.data.heightArr[i - 1],\n      previous_height = 0,\n      previous_neg_height = top_pix_height,\n      letters = column.length,\n      j = 0;\n      for(var j in column){\n        values = [j,column[j]];\n        if (values[1] > 0.01) {\n          var letter_height = parseFloat(values[1]) / this.data.max_height,\n          x_pos = x,\n          glyph_height = (this.info_content_height - 2) * letter_height,\n          y_pos = (this.info_content_height - 2) - previous_height - glyph_height,\n          color = null;\n\n\n          if(this.colorscheme === 'dynamic'){\n            color = this.colors.getColor(values[0], {pos: i - 1} )\n          }else{\n            if(this.colorscheme === 'consensus') {\n              color = this.cmap[i - 1][values[0]] || \"#7a7a7a\";\n            } else {\n              color = this.colors[values[0]];\n            }\n          }\n\n          if (borders) {\n            this.contexts[context_num].strokeStyle = color;\n            this.contexts[context_num].strokeRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n          } else {\n            this.contexts[context_num].fillStyle = color;\n            this.contexts[context_num].fillRect(x_pos, y_pos, this.zoomed_column, glyph_height);\n          }\n\n          previous_height = previous_height + glyph_height;\n        }\n      }\n    }\n\n\n    if (this.zoom < 0.2) {\n      mod = 20;\n    } else if (this.zoom < 0.3) {\n      mod = 10;\n    }\n\n    if(this.options.positionMarker){\n      if (i % mod === 0) {\n        // draw column dividers\n        if(this.options.show_probs){\n          draw_ticks(this.contexts[context_num], x + this.zoomed_column, this.height - 30, parseFloat(this.height), '#dddddd');\n        }\n        // draw top ticks\n        draw_ticks(this.contexts[context_num], x + this.zoomed_column, 0, 5);\n\n        // if ali_coordinates exist and toggle is set then display the\n        // alignment coordinates and not the model coordinates.\n        if (this.display_ali_map) {\n          column_label = this.data.ali_map[i - 1];\n        } else {\n          column_label = column_num;\n        }\n        // draw column numbers\n        draw_column_number(this.contexts[context_num], x - 2,  10, this.zoomed_column, column_label, 10, true);\n      }\n\n    }\n\n\n    // draw insert probabilities/lengths\n    if(this.options.show_probs){\n      draw_small_insert(\n        this.contexts[context_num],\n        x,\n        this.height - 42,\n        this.zoomed_column,\n        this.data.insert_probs[i - 1],\n        this.data.insert_lengths[i - 1],\n        this.data.delete_probs[i - 1],\n        this.show_inserts\n      );\n    }\n\n    if(this.options.show_probs){\n      // draw other dividers\n      if (this.show_inserts) {\n        draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n      } else {\n        draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n      }\n    }\n\n    if(this.options.border){\n      draw_border(this.contexts[context_num], 0, this.total_width);\n    }\n\n    x += this.zoomed_column;\n    column_num++;\n  }\n\n};\n\n\nfunction draw_small_insert(context, x, y, col_width, in_odds, in_length, del_odds, show_inserts) {\n  var fill = \"#ffffff\";\n  if (show_inserts) {\n    if (in_odds > 0.1) {\n      fill = '#d7301f';\n    } else if (in_odds > 0.05) {\n      fill = '#fc8d59';\n    } else if (in_odds > 0.03) {\n      fill = '#fdcc8a';\n    }\n    context.fillStyle = fill;\n    context.fillRect(x, y + 15, col_width, 10);\n\n    fill = \"#ffffff\";\n    // draw insert length\n    if (in_length > 9) {\n      fill = '#d7301f';\n    } else if (in_length > 7) {\n      fill = '#fc8d59';\n    } else if (in_length > 4) {\n      fill = '#fdcc8a';\n    }\n    context.fillStyle = fill;\n    context.fillRect(x, y + 30, col_width, 10);\n  } else {\n    y  = y + 30;\n  }\n\n  fill = \"#ffffff\";\n  // draw delete odds\n  if (del_odds < 0.75) {\n    fill = '#2171b5';\n  } else if (del_odds < 0.85) {\n    fill = '#6baed6';\n  } else if (del_odds < 0.95) {\n    fill = '#bdd7e7';\n  }\n  context.fillStyle = fill;\n  context.fillRect(x, y, col_width, 10);\n}\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/render_with_rects.js\n ** module id = 134\n ** module chunks = 0\n **/","var draw_border = require(\"./draw/border.js\");\nvar draw_ticks = require(\"./draw/ticks.js\");\nvar draw_column_number = require(\"./draw/column_number.js\");\n\nmodule.exports = function (start, end, context_num, fontsize) {\n  var x = 0,\n  column_num = start,\n  column_label = null,\n  i = 0,\n  top_height = Math.abs(this.data.max_height),\n  bottom_height = (isNaN(this.data.min_height_obs)) ? 0 : parseInt(this.data.min_height_obs, 10),\n  total_height = top_height + Math.abs(bottom_height),\n  top_percentage    = Math.round((Math.abs(this.data.max_height) * 100) / total_height),\n  //convert % to pixels\n  top_pix_height = Math.round((this.info_content_height * top_percentage) / 100),\n  bottom_pix_height = this.info_content_height - top_pix_height,\n  // this is used to transform the 256px high letters into the correct size\n  // when displaying negative values, so that they fit above the 0 line.\n  top_pix_conversion = top_pix_height / this.info_content_height,\n  bottom_pix_conversion = bottom_pix_height / this.info_content_height;\n\n  // add 3 extra columns so that numbers don't get clipped at the end of a canvas\n  // that ends before a large column. DF0000830 was suffering at zoom level 0.6,\n  // column 2215. This adds a little extra overhead, but is the easiest fix for now.\n  if (end + 3 <= this.end) {\n    end += 3;\n  }\n\n  for (i = start; i <= end; i++) {\n    if (this.data.mmline && this.data.mmline[i - 1] === 1) {\n      this.contexts[context_num].fillStyle = '#cccccc';\n      this.contexts[context_num].fillRect(x, 10, this.zoomed_column, this.height - 40);\n    } else {\n      var column = this.data.heightArr[i - 1],\n      col_positions = [];\n      if (column) {\n        var previous_height = 0,\n        letters = column.length,\n        previous_neg_height = top_pix_height,\n        j = 0,\n        color = null;\n\n        for(var j in column){\n          var letter = column[j],\n          values = [j,letter];\n          x_pos = x + (this.zoomed_column / 2),\n          letter_height = null;\n\n          // we don't render anything with a value between 0 and 0.01. These\n          // letters would be too small to be meaningful on any scale, so we\n          // just squash them out.\n          if (values[1] > 0.01) {\n            letter_height = parseFloat(values[1]) / this.data.max_height;\n            var y_pos = (this.info_content_height - 2) - previous_height,\n            glyph_height = (this.info_content_height - 2) * letter_height;\n\n            col_positions[j] = [glyph_height, this.zoomed_column, x_pos, y_pos];\n            previous_height = previous_height + glyph_height;\n          }\n        }\n\n        // render the letters in reverse order so that the larger letters on the top\n        // don't clobber the smaller letters below them.\n        //for (j = letters; j >= 0; j--) {\n        for(var j in column){\n          if (col_positions[j] && this.letters[j]) {\n\n            if(this.colorscheme === 'dynamic'){\n              color = this.colors.getColor(j, {pos: i - 1} );\n            }else{\n              if (this.colorscheme === 'consensus') {\n                color = this.cmap[i - 1][j] || \"#7a7a7a\";\n              } else {\n                color = null;\n              }\n            }\n            this.letters[j].draw(this.contexts[context_num], col_positions[j][0], col_positions[j][1], col_positions[j][2], col_positions[j][3], color);\n          }\n        }\n      }\n    }\n\n\n    // if ali_coordinates exist and toggle is set then display the\n    // alignment coordinates and not the model coordinates.\n    if (this.display_ali_map) {\n      column_label = this.data.ali_map[i - 1];\n    } else {\n      column_label = column_num;\n    }\n\n    if(this.options.show_divider){\n      if (this.zoom < 0.7) {\n        if (i % this.options.divider_step === 0) {\n          draw_column_divider(this,{\n            context_num : context_num,\n            x : x,\n            fontsize: 10,\n            column_num: column_label,\n            ralign: true\n          });\n        }\n      } else {\n        draw_column_divider(this,{\n          context_num : context_num,\n          x : x,\n          fontsize: fontsize,\n          column_num: column_label\n        });\n      }\n    }\n\n    if(this.options.show_probs){\n      draw_delete_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.delete_probs[i - 1], fontsize, this.show_inserts);\n      //draw insert length ticks\n      draw_ticks(this.contexts[context_num], x, this.height - 15, 5);\n      if (this.show_inserts) {\n        draw_insert_odds(this.contexts[context_num], x, this.height, this.zoomed_column, this.data.insert_probs[i - 1], fontsize);\n        draw_insert_length(this.contexts[context_num], x, this.height - 5, this.zoomed_column, this.data.insert_lengths[i - 1], fontsize);\n\n        // draw delete probability ticks\n        draw_ticks(this.contexts[context_num], x, this.height - 45, 5);\n        // draw insert probability ticks\n        draw_ticks(this.contexts[context_num], x, this.height - 30, 5);\n      }\n\n    }\n\n    x += this.zoomed_column;\n    column_num++;\n  }\n\n\n  if(this.options.show_probs){\n    // draw other dividers\n    if (this.show_inserts) {\n      draw_border(this.contexts[context_num], this.height - 30, this.total_width);\n      draw_border(this.contexts[context_num], this.height - 45, this.total_width);\n    }\n    draw_border(this.contexts[context_num], this.height - 15, this.total_width);\n  }\n  if(this.options.border){\n    draw_border(this.contexts[context_num], 0, this.total_width);\n  }\n};\n\n\nfunction draw_delete_odds(context, x, height, col_width, text, fontsize, show_inserts) {\n  var y        = height - 4,\n  fill     = '#ffffff',\n  textfill = '#555555';\n\n  if (show_inserts) {\n    y = height - 35;\n  }\n\n  if (text < 0.75) {\n    fill     = '#2171b5';\n    textfill = '#ffffff';\n  } else if (text < 0.85) {\n    fill = '#6baed6';\n  } else if (text < 0.95) {\n    fill = '#bdd7e7';\n  }\n\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n}\n\nfunction draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill) {\n  context.font = fontsize + \"px Arial\";\n  context.fillStyle = fill;\n  context.fillRect(x, y - 10, col_width, 14);\n  context.textAlign = \"center\";\n  context.fillStyle = textfill;\n  context.fillText(text, x + (col_width / 2), y);\n}\n\nfunction draw_column_divider(inst, opts) {\n  var div_x = opts.ralign ? opts.x + inst.zoomed_column : opts.x,\n  num_x = opts.ralign ? opts.x + 2 : opts.x;\n  // draw column dividers\n  draw_ticks(inst.contexts[opts.context_num], div_x, inst.height - 30, -30 - inst.height, '#dddddd');\n  // draw top ticks\n  draw_ticks(inst.contexts[opts.context_num], div_x, 0, 5);\n  // draw column numbers\n  draw_column_number(inst.contexts[opts.context_num], num_x, 10, inst.zoomed_column, opts.column_num, opts.fontsize, opts.ralign);\n};\n\n\n\nfunction draw_insert_odds(context, x, height, col_width, text, fontsize) {\n  var y        = height - 20,\n  fill     = '#ffffff',\n  textfill = '#555555';\n\n  if (text > 0.1) {\n    fill     = '#d7301f';\n    textfill = '#ffffff';\n  } else if (text > 0.05) {\n    fill = '#fc8d59';\n  } else if (text > 0.03) {\n    fill = '#fdcc8a';\n  }\n\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n\n  //draw vertical line to indicate where the insert would occur\n  if (text > 0.03) {\n    draw_ticks(context, x + col_width, height - 30, -30 - height, fill);\n  }\n}\nfunction draw_insert_length(context, x, y, col_width, text, fontsize) {\n  var fill = '#ffffff',\n  textfill = '#555555';\n\n  if (text > 9) {\n    fill     = '#d7301f';\n    textfill = '#ffffff';\n  } else if (text > 7) {\n    fill = '#fc8d59';\n  } else if (text > 4) {\n    fill = '#fdcc8a';\n  }\n  draw_rect_with_text(context, x, y, text, fontsize, col_width, fill, textfill);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/biojs-vis-seqlogo/src/render/render_with_text.js\n ** module id = 135\n ** module chunks = 0\n **/","/*\n * JavaScript Canvas to Blob 2.0.5\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\nvar CanvasPrototype = window.HTMLCanvasElement &&\nwindow.HTMLCanvasElement.prototype,\n  hasBlobConstructor = window.Blob && (function () {\n    try {\n      return Boolean(new Blob());\n    } catch (e) {\n      return false;\n    }\n  }()),\n  hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array &&\n  (function () {\n    try {\n      return new Blob([new Uint8Array(100)]).size === 100;\n    } catch (e) {\n      return false;\n    }\n  }()),\n  BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder ||\n  window.MozBlobBuilder || window.MSBlobBuilder,\n  dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob &&\n  window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n    var byteString,\n    arrayBuffer,\n    intArray,\n      i,\n      mimeString,\n        bb;\n    if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n      // Convert base64 to raw binary data held in a string:\n      byteString = atob(dataURI.split(',')[1]);\n    } else {\n      // Convert base64/URLEncoded data component to raw binary data:\n      byteString = decodeURIComponent(dataURI.split(',')[1]);\n    }\n    // Write the bytes of the string to an ArrayBuffer:\n    arrayBuffer = new ArrayBuffer(byteString.length);\n    intArray = new Uint8Array(arrayBuffer);\n    for (i = 0; i < byteString.length; i += 1) {\n      intArray[i] = byteString.charCodeAt(i);\n    }\n    // Separate out the mime component:\n    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n    // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n    if (hasBlobConstructor) {\n      return new Blob(\n          [hasArrayBufferViewSupport ? intArray : arrayBuffer],\n          {type: mimeString}\n          );\n    }\n    bb = new BlobBuilder();\n    bb.append(arrayBuffer);\n    return bb.getBlob(mimeString);\n  };\nif (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n  if (CanvasPrototype.mozGetAsFile) {\n    CanvasPrototype.toBlob = function (callback, type, quality) {\n      if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n        callback(dataURLtoBlob(this.toDataURL(type, quality)));\n      } else {\n        callback(this.mozGetAsFile('blob', type));\n      }\n    };\n  } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n    CanvasPrototype.toBlob = function (callback, type, quality) {\n      callback(dataURLtoBlob(this.toDataURL(type, quality)));\n    };\n  }\n}\n\nmodule.exports = dataURLtoBlob;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/blueimp_canvastoblob/index.js\n ** module id = 136\n ** module chunks = 0\n **/","/* FileSaver.js\n *  A saveAs() FileSaver implementation.\n *  2014-05-27\n *\n *  By Eli Grey, http://eligrey.com\n *  License: X11/MIT\n *    See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs\n  // IE 10+ (native saveAs)\n  || (typeof navigator !== \"undefined\" &&\n      navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator))\n  // Everyone else\n  || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof navigator !== \"undefined\" &&\n\t    /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = !view.externalHost && \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = doc.createEvent(\"MouseEvents\");\n\t\t\tevent.initMouseEvent(\n\t\t\t\t\"click\", true, false, view, 0, 0, 0, 0, 0\n\t\t\t\t, false, false, false, false, 0, null\n\t\t\t);\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, webkit_req_fs = view.webkitRequestFileSystem\n\t\t, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t, fs_min_size = 0\n\t\t, deletion_queue = []\n\t\t, process_deletion_queue = function() {\n\t\t\tvar i = deletion_queue.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar file = deletion_queue[i];\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t\tdeletion_queue.length = 0; // clear queue\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, FileSaver = function(blob, name) {\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, blob_changed = false\n\t\t\t\t, object_url\n\t\t\t\t, target_view\n\t\t\t\t, get_object_url = function() {\n\t\t\t\t\tvar object_url = get_URL().createObjectURL(blob);\n\t\t\t\t\tdeletion_queue.push(object_url);\n\t\t\t\t\treturn object_url;\n\t\t\t\t}\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (blob_changed || !object_url) {\n\t\t\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (target_view) {\n\t\t\t\t\t\ttarget_view.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.open(object_url, \"_blank\");\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t}\n\t\t\t\t, abortable = function(func) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif (filesaver.readyState !== filesaver.DONE) {\n\t\t\t\t\t\t\treturn func.apply(this, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t, create_if_not_found = {create: true, exclusive: false}\n\t\t\t\t, slice\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\tif (!name) {\n\t\t\t\tname = \"download\";\n\t\t\t}\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_object_url(blob);\n\t\t\t\tsave_link.href = object_url;\n\t\t\t\tsave_link.download = name;\n\t\t\t\tclick(save_link);\n\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\tdispatch_all();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Object and web filesystem URLs have a problem saving in Google Chrome when\n\t\t\t// viewed in a tab, so I force save with application/octet-stream\n\t\t\t// http://code.google.com/p/chromium/issues/detail?id=91158\n\t\t\tif (view.chrome && type && type !== force_saveable_type) {\n\t\t\t\tslice = blob.slice || blob.webkitSlice;\n\t\t\t\tblob = slice.call(blob, 0, blob.size, force_saveable_type);\n\t\t\t\tblob_changed = true;\n\t\t\t}\n\t\t\t// Since I can't be sure that the guessed media type will trigger a download\n\t\t\t// in WebKit, I append .download to the filename.\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=65440\n\t\t\tif (webkit_req_fs && name !== \"download\") {\n\t\t\t\tname += \".download\";\n\t\t\t}\n\t\t\tif (type === force_saveable_type || webkit_req_fs) {\n\t\t\t\ttarget_view = view;\n\t\t\t}\n\t\t\tif (!req_fs) {\n\t\t\t\tfs_error();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfs_min_size += blob.size;\n\t\t\treq_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n\t\t\t\tfs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n\t\t\t\t\tvar save = function() {\n\t\t\t\t\t\tdir.getFile(name, create_if_not_found, abortable(function(file) {\n\t\t\t\t\t\t\tfile.createWriter(abortable(function(writer) {\n\t\t\t\t\t\t\t\twriter.onwriteend = function(event) {\n\t\t\t\t\t\t\t\t\ttarget_view.location.href = file.toURL();\n\t\t\t\t\t\t\t\t\tdeletion_queue.push(file);\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t\tdispatch(filesaver, \"writeend\", event);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\twriter.onerror = function() {\n\t\t\t\t\t\t\t\t\tvar error = writer.error;\n\t\t\t\t\t\t\t\t\tif (error.code !== error.ABORT_ERR) {\n\t\t\t\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\"writestart progress write abort\".split(\" \").forEach(function(event) {\n\t\t\t\t\t\t\t\t\twriter[\"on\" + event] = filesaver[\"on\" + event];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\twriter.write(blob);\n\t\t\t\t\t\t\t\tfilesaver.abort = function() {\n\t\t\t\t\t\t\t\t\twriter.abort();\n\t\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tfilesaver.readyState = filesaver.WRITING;\n\t\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t\t}), fs_error);\n\t\t\t\t\t};\n\t\t\t\t\tdir.getFile(name, {create: false}, abortable(function(file) {\n\t\t\t\t\t\t// delete file if it already exists\n\t\t\t\t\t\tfile.remove();\n\t\t\t\t\t\tsave();\n\t\t\t\t\t}), abortable(function(ex) {\n\t\t\t\t\t\tif (ex.code === ex.NOT_FOUND_ERR) {\n\t\t\t\t\t\t\tsave();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfs_error();\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}), fs_error);\n\t\t\t}), fs_error);\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name) {\n\t\t\treturn new FileSaver(blob, name);\n\t\t}\n\t;\n\tFS_proto.abort = function() {\n\t\tvar filesaver = this;\n\t\tfilesaver.readyState = filesaver.DONE;\n\t\tdispatch(filesaver, \"abort\");\n\t};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\tview.addEventListener(\"unload\", process_deletion_queue, false);\n\tsaveAs.unload = function() {\n\t\tprocess_deletion_queue();\n\t\tview.removeEventListener(\"unload\", process_deletion_queue, false);\n\t};\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\namdDefine = window.define;\nif( typeof amdDefine === \"undefined\" && (typeof window.almond !== \"undefined\" \n    && \"define\" in window.almond )){\n  amdDefine = window.almond.define;\n}\n\nif (typeof module !== \"undefined\" && module !== null) {\n  module.exports = saveAs;\n} else if ((typeof amdDefine !== \"undefined\" && amdDefine !== null) && (amdDefine.amd != null)) {\n  amdDefine(\"saveAs\",[], function() {\n    return saveAs;\n  });\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/browser-saveas/index.js\n ** module id = 137\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".biojs_msa_stage{cursor:default;line-height:normal}.biojs_msa_seqblock{cursor:move}.biojs_msa_layer{display:block;white-space:nowrap}.biojs_msa_labels{color:#000;display:inline-block;cursor:pointer;vertical-align:middle;overflow:hidden;text-overflow:clip}.biojs_msa_header,.biojs_msa_labels{white-space:nowrap;text-align:left}.biojs_msa_labelrow:before{content:'';display:inline-block;width:0;height:100%;vertical-align:middle}.biojs_msa_labelrow{height:100%}.biojs_msa_labelblock::-webkit-scrollbar,.biojs_msa_rheader::-webkit-scrollbar{//:none;width:7px;height:7px}.biojs_msa_labelblock::-webkit-scrollbar-thumb,.biojs_msa_rheader::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.5);box-shadow:0 0 1px hsla(0,0%,100%,.5)}.biojs_msa_marker{color:grey;white-space:nowrap;cursor:pointer}.biojs_msa_marker span{text-align:center}.smenubar .smenubar_alink{background:#3498db;background-image:-webkit-linear-gradient(top,#3498db,#2980b9);background-image:linear-gradient(180deg,#3498db,#2980b9);border-radius:28px;font-family:Arial;color:#fff;padding:3px 10px;margin-left:10px;text-decoration:none}.smenubar{display:inline-block}.smenubar .smenubar_alink:hover{cursor:pointer}.smenu-dropdown{position:absolute;z-index:9999999;display:none}.smenu-dropdown .smenu-dropdown-menu,.smenu-dropdown .smenu-dropdown-panel{min-width:160px;max-width:360px;list-style:none;background:#fff;border:1px solid #ddd;border:1px solid rgba(0,0,0,.2);border-radius:6px;box-shadow:0 5px 10px rgba(0,0,0,.2);overflow:visible;padding:4px 0;margin:0}.smenu-dropdown .smenu-dropdown-panel{padding:10px}.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-menu,.smenu-dropdown.smenu-dropdown-scroll .smenu-dropdown-panel{max-height:358px;overflow:auto}.smenu-dropdown .smenu-dropdown-menu LI{list-style:none;padding:0;margin:0;line-height:18px}.smenu-dropdown .smenu-dropdown-menu LABEL,.smenu-dropdown .smenu-dropdown-menu LI{display:block;color:#555;text-decoration:none;line-height:18px;padding:3px 15px;white-space:nowrap}.smenu-dropdown .smenu-dropdown-menu LABEL:hover,.smenu-dropdown .smenu-dropdown-menu LI:hover{background-color:#08c;color:#fff;cursor:pointer}.smenu-dropdown .smenu-dropdown-menu .smenu-dropdown-divider{font-size:1px;border-top:1px solid #e5e5e5;padding:0;margin:5px 0}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./css/msa.css\n ** module id = 138\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 139\n ** module chunks = 0\n **/","module.exports = require(\"./lib/menubuilder\");\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/menu-builder/index.js\n ** module id = 140\n ** module chunks = 0\n **/","var MenuBuilder, jbone, view;\n\njbone = require(\"jbone\");\nview = require(\"backbone-viewj\");\n\nmodule.exports = MenuBuilder = view.extend({\n  initialize: function(opts) {\n    this._nodes = [];\n    this.name = opts.name || \"\";\n    this.el.className += \"smenubar\";\n  },\n  render: function() {\n\n    // remove all childs\n    var fc = this.el.firstChild;\n    while (fc) {\n      this.el.removeChild(fc);\n      fc = this.el.firstChild;\n    }\n\n    // replace child\n    this.el.appendChild(this.buildDOM());\n  },\n  setName: function(name) {\n    this.name = name;\n  },\n  addNode: function(label, callback, opts) {\n    var style;\n    if (opts != null) {\n      style = opts.style;\n    }\n    if (this._nodes == null) {\n      this._nodes = [];\n    }\n    this._nodes.push({\n      label: label,\n      callback: callback,\n      style: style\n    });\n  },\n\n  getNode: function(label) {\n    var rNode = undefined;\n    this._nodes.forEach(function(el) {\n      if (el.label === label) {\n        rNode = el;\n      }\n    });\n    return rNode;\n  },\n\n  modifyNode: function(label, callback, opts) {\n    var node = this.getNode(label);\n    node.callback = callback || node.callback;\n    opts = opts || {};\n    node.style = opts.style || node.style;\n  },\n\n  renameNode: function(label, newLabel) {\n    var node = this.getNode(label);\n    node.label = newLabel || node.label;\n  },\n\n  removeNode: function(label) {\n    var node = this.getNode(label);\n    this._nodes.splice(this._nodes.indexOf(node), 1);\n  },\n\n  removeAllNodes: function() {\n    this._nodes = [];\n  },\n\n  buildDOM: function() {\n    var span = document.createElement(\"span\");\n    span.appendChild(this._buildM({\n      nodes: this._nodes,\n      name: this.name\n    }));\n    return span;\n  },\n  _buildM: function(data) {\n    var displayedButton, frag, key, li, node, style, _ref;\n    var nodes = data.nodes;\n    var name = data.name;\n    var menu = document.createElement(\"div\");\n    menu.className = \"smenu-dropdown smenu-dropdown-tip\";\n    menu.style.display = \"none\";\n\n    var menuUl = document.createElement(\"ul\");\n    menuUl.className = \"smenu-dropdown-menu\";\n\n    // currently we support one-level\n    for (var i = 0, _len = nodes.length; i < _len; i++) {\n      node = nodes[i];\n      li = document.createElement(\"li\");\n      li.textContent = node.label;\n      _ref = node.style;\n      for (key in _ref) {\n        style = _ref[key];\n        li.style[key] = style;\n      }\n      li.addEventListener(\"click\", node.callback);\n      this.trigger(\"new:node\", li);\n      menuUl.appendChild(li);\n    }\n    this.trigger(\"new:menu\", menuUl);\n    menu.appendChild(menuUl);\n\n    displayedButton = document.createElement(\"a\");\n    displayedButton.textContent = name;\n    displayedButton.className = \"smenubar_alink\";\n    this.trigger(\"new:button\", displayedButton);\n\n    // HACK to be able to hide the submenu\n    // listens globally for click events\n    jbone(displayedButton).on(\"click\", (function(_this) {\n      return function(e) {\n        _this._showMenu(e, menu, displayedButton);\n        return window.setTimeout(function() {\n          return jbone(document.body).one(\"click\", function(e) {\n            return menu.style.display = \"none\";\n          });\n        }, 5);\n      };\n    })(this));\n\n    frag = document.createDocumentFragment();\n    frag.appendChild(menu);\n    frag.appendChild(displayedButton);\n    return frag;\n  },\n\n  // internal method to display the lower menu on a click\n  _showMenu: function(e, menu, target) {\n    var rect;\n    menu.style.display = \"block\";\n    menu.style.position = \"absolute\";\n    rect = target.getBoundingClientRect();\n    menu.style.left = rect.left + \"px\";\n    menu.style.top = (rect.top + target.offsetHeight) + \"px\";\n  }\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/menu-builder/lib/menubuilder.js\n ** module id = 141\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#00a35c\",\n  R: \"#00fc03\",\n  N: \"#00eb14\",\n  D: \"#00eb14\",\n  C: \"#0000ff\",\n  Q: \"#00f10e\",\n  E: \"#00f10e\",\n  G: \"#009d62\",\n  H: \"#00d52a\",\n  I: \"#0054ab\",\n  L: \"#007b84\",\n  K: \"#00ff00\",\n  M: \"#009768\",\n  F: \"#008778\",\n  P: \"#00e01f\",\n  S: \"#00d52a\",\n  T: \"#00db24\",\n  W: \"#00a857\",\n  Y: \"#00e619\",\n  V: \"#005fa0\",\n  B: \"#00eb14\",\n  X: \"#00b649\",\n  Z: \"#00f10e\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/buried.js\n ** module id = 142\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#BBBBBB\",\n  B: \"grey\",\n  C: \"yellow\",\n  D: \"red\",\n  E: \"red\",\n  F: \"magenta\",\n  G: \"brown\",\n  H: \"#00FFFF\",\n  I: \"#BBBBBB\",\n  J: \"#fff\",\n  K: \"#00FFFF\",\n  L: \"#BBBBBB\",\n  M: \"#BBBBBB\",\n  N: \"green\",\n  O: \"#fff\",\n  P: \"brown\",\n  Q: \"green\",\n  R: \"#00FFFF\",\n  S: \"green\",\n  T: \"green\",\n  U: \"#fff\",\n  V: \"#BBBBBB\",\n  W: \"magenta\",\n  X: \"grey\",\n  Y: \"magenta\",\n  Z: \"grey\",\n  Gap: \"grey\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/cinema.js\n ** module id = 143\n ** module chunks = 0\n **/","module.exports = {\n  A: \"orange\",\n  B: \"#fff\",\n  C: \"green\",\n  D: \"red\",\n  E: \"red\",\n  F: \"blue\",\n  G: \"orange\",\n  H: \"red\",\n  I: \"green\",\n  J: \"#fff\",\n  K: \"red\",\n  L: \"green\",\n  M: \"green\",\n  N: \"#fff\",\n  O: \"#fff\",\n  P: \"orange\",\n  Q: \"#fff\",\n  R: \"red\",\n  S: \"orange\",\n  T: \"orange\",\n  U: \"#fff\",\n  V: \"green\",\n  W: \"blue\",\n  X: \"#fff\",\n  Y: \"blue\",\n  Z: \"#fff\",\n  Gap: \"#fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/clustal.js\n ** module id = 144\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#80a0f0\",\n  R: \"#f01505\",\n  N: \"#00ff00\",\n  D: \"#c048c0\",\n  C: \"#f08080\",\n  Q: \"#00ff00\",\n  E: \"#c048c0\",\n  G: \"#f09048\",\n  H: \"#15a4a4\",\n  I: \"#80a0f0\",\n  L: \"#80a0f0\",\n  K: \"#f01505\",\n  M: \"#80a0f0\",\n  F: \"#80a0f0\",\n  P: \"#ffff00\",\n  S: \"#00ff00\",\n  T: \"#00ff00\",\n  W: \"#80a0f0\",\n  Y: \"#15a4a4\",\n  V: \"#80a0f0\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/clustal2.js\n ** module id = 145\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#e718e7\",\n  R: \"#6f906f\",\n  N: \"#1be41b\",\n  D: \"#778877\",\n  C: \"#23dc23\",\n  Q: \"#926d92\",\n  E: \"#ff00ff\",\n  G: \"#00ff00\",\n  H: \"#758a75\",\n  I: \"#8a758a\",\n  L: \"#ae51ae\",\n  K: \"#a05fa0\",\n  M: \"#ef10ef\",\n  F: \"#986798\",\n  P: \"#00ff00\",\n  S: \"#36c936\",\n  T: \"#47b847\",\n  W: \"#8a758a\",\n  Y: \"#21de21\",\n  V: \"#857a85\",\n  B: \"#49b649\",\n  X: \"#758a75\",\n  Z: \"#c936c9\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/helix.js\n ** module id = 146\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#ad0052\",\n  B: \"#0c00f3\",\n  C: \"#c2003d\",\n  D: \"#0c00f3\",\n  E: \"#0c00f3\",\n  F: \"#cb0034\",\n  G: \"#6a0095\",\n  H: \"#1500ea\",\n  I: \"#ff0000\",\n  J: \"#fff\",\n  K: \"#0000ff\",\n  L: \"#ea0015\",\n  M: \"#b0004f\",\n  N: \"#0c00f3\",\n  O: \"#fff\",\n  P: \"#4600b9\",\n  Q: \"#0c00f3\",\n  R: \"#0000ff\",\n  S: \"#5e00a1\",\n  T: \"#61009e\",\n  U: \"#fff\",\n  V: \"#f60009\",\n  W: \"#5b00a4\",\n  X: \"#680097\",\n  Y: \"#4f00b0\",\n  Z: \"#0c00f3\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/hydrophobicity.js\n ** module id = 147\n ** module chunks = 0\n **/","var schemes = require(\"./schemeclass\");\nvar StaticSchemeClass = schemes.stat;\nvar DynSchemeClass = schemes.dyn;\n\nvar Buried = require(\"./buried\");\nvar Cinema = require(\"./cinema\");\nvar Clustal = require(\"./clustal\");\nvar Clustal2 = require(\"./clustal2\");\nvar Helix = require(\"./helix\");\nvar Hydro = require(\"./hydrophobicity\");\nvar Lesk = require(\"./lesk\");\nvar Mae = require(\"./mae\");\nvar Nucleotide = require(\"./nucleotide\");\nvar Purine = require(\"./purine\");\nvar Strand = require(\"./strand\");\nvar Taylor = require(\"./taylor\");\nvar Turn = require(\"./turn\");\nvar Zappo = require(\"./zappo\");\n\nvar staticSchemes = {\n  buried: Buried,\n  buried_index: Buried,\n  cinema: Cinema,\n  clustal2: Clustal2,\n  clustal: Clustal,\n  helix: Helix,\n  helix_propensity: Helix,\n  hydro: Hydro,\n  lesk: Lesk,\n  mae: Mae,\n  nucleotide: Nucleotide,\n  purine: Purine,\n  purine_pyrimidine: Purine,\n  strand: Strand,\n  strand_propensity: Strand,\n  taylor: Taylor,\n  turn: Turn,\n  turn_propensity: Turn,\n  zappo: Zappo\n};\n\nvar pid = require(\"./pid_colors.js\");\n\nvar dynSchemes = {\n  pid: pid\n};\n\nmodule.exports = Colors = function(opt){\n  this.maps = clone(staticSchemes);  \n  this.dyn = clone(dynSchemes);\n  this.opt = opt;\n}\nColors.getScheme = function(scheme){\n  return staticSchemes[scheme];\n}\nColors.prototype.getScheme = function(scheme) {\n  var color = this.maps[scheme];\n  if (color === undefined) {\n    color = {};\n    if(this.dyn[scheme] != undefined){\n      return new DynSchemeClass(this.dyn[scheme],this.opt);\n    }\n  }\n  return new StaticSchemeClass(color);\n};\n\nColors.prototype.addStaticScheme = function(name,scheme) {\n  this.maps[name] = scheme;\n}\n\nColors.prototype.addDynScheme = function(name,scheme) {\n  this.dyn[name] = scheme;\n}\n\n// small helper to clone an object\nfunction clone(obj) {\n  if (null == obj || \"object\" != typeof obj) return obj;\n  var copy = obj.constructor();\n  for (var attr in obj) {\n    if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n  }\n  return copy;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/index.js\n ** module id = 148\n ** module chunks = 0\n **/","module.exports = {\n  A: \" orange\",\n  B: \" #fff\",\n  C: \" green\",\n  D: \" red\",\n  E: \" red\",\n  F: \" green\",\n  G: \" orange\",\n  H: \" magenta\",\n  I: \" green\",\n  J: \" #fff\",\n  K: \" red\",\n  L: \" green\",\n  M: \" green\",\n  N: \" magenta\",\n  O: \" #fff\",\n  P: \" green\",\n  Q: \" magenta\",\n  R: \" red\",\n  S: \" orange\",\n  T: \" orange\",\n  U: \" #fff\",\n  V: \" green\",\n  W: \" green\",\n  X: \" #fff\",\n  Y: \" green\",\n  Z: \" #fff\",\n  Gap: \" #fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/lesk.js\n ** module id = 149\n ** module chunks = 0\n **/","module.exports = {\n  A: \" #77dd88\",\n  B: \" #fff\",\n  C: \" #99ee66\",\n  D: \" #55bb33\",\n  E: \" #55bb33\",\n  F: \" #9999ff\",\n  G: \" #77dd88\",\n  H: \" #5555ff\",\n  I: \" #66bbff\",\n  J: \" #fff\",\n  K: \" #ffcc77\",\n  L: \" #66bbff\",\n  M: \" #66bbff\",\n  N: \" #55bb33\",\n  O: \" #fff\",\n  P: \" #eeaaaa\",\n  Q: \" #55bb33\",\n  R: \" #ffcc77\",\n  S: \" #ff4455\",\n  T: \" #ff4455\",\n  U: \" #fff\",\n  V: \" #66bbff\",\n  W: \" #9999ff\",\n  X: \" #fff\",\n  Y: \" #9999ff\",\n  Z: \" #fff\",\n  Gap: \" #fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/mae.js\n ** module id = 150\n ** module chunks = 0\n **/","module.exports = {\n  A: \" #64F73F\",\n  C: \" #FFB340\",\n  G: \" #EB413C\",\n  T: \" #3C88EE\",\n  U: \" #3C88EE\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/nucleotide.js\n ** module id = 151\n ** module chunks = 0\n **/","var pid;\nmodule.exports = pid = {};\n\n// calculating the conservation is expensive \n// we only want to do it once\npid.init = function(){\n  this.cons = this.opt.conservation();\n}\n\npid.run = function(letter,opts){\n  var cons = this.cons[opts.pos];\n  if(cons > 0.8){\n    return \"#6464ff\";\n  }else if(cons > 0.6){\n    return \"#9da5ff\";\n  }else if(cons > 0.4){\n    return \"#cccccc\";\n  }else{\n    return \"#ffffff\";\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/pid_colors.js\n ** module id = 152\n ** module chunks = 0\n **/","module.exports = {\n  A: \" #FF83FA\",\n  C: \" #40E0D0\",\n  G: \" #FF83FA\",\n  R: \" #FF83FA\",\n  T: \" #40E0D0\",\n  U: \" #40E0D0\",\n  Y: \" #40E0D0\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/purine.js\n ** module id = 153\n ** module chunks = 0\n **/","var StaticSchemeClass = function(map){\n  this.defaultColor = \"#ffffff\";\n  this.type = \"static\";\n  this.map = map;\n  this.getColor = function(letter){\n    if(this.map[letter] !== undefined){\n      return this.map[letter]; \n    }else{\n      return this.defaultColor;\n    }\n  };\n};\n\nvar DynSchemeClass = function(fun,opt){\n  this.type = \"dyn\";\n  this.opt = opt;\n  // init\n  if(fun.init !== undefined){\n    fun.init.call(this);\n    this.getColor = fun.run;\n    this.reset = fun.init;\n  }else{\n    this.getColor = fun;\n  }\n};\nmodule.exports.stat = StaticSchemeClass;\nmodule.exports.dyn = DynSchemeClass;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/schemeclass.js\n ** module id = 154\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#5858a7\",\n  R: \"#6b6b94\",\n  N: \"#64649b\",\n  D: \"#2121de\",\n  C: \"#9d9d62\",\n  Q: \"#8c8c73\",\n  E: \"#0000ff\",\n  G: \"#4949b6\",\n  H: \"#60609f\",\n  I: \"#ecec13\",\n  L: \"#b2b24d\",\n  K: \"#4747b8\",\n  M: \"#82827d\",\n  F: \"#c2c23d\",\n  P: \"#2323dc\",\n  S: \"#4949b6\",\n  T: \"#9d9d62\",\n  W: \"#c0c03f\",\n  Y: \"#d3d32c\",\n  V: \"#ffff00\",\n  B: \"#4343bc\",\n  X: \"#797986\",\n  Z: \"#4747b8\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/strand.js\n ** module id = 155\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#ccff00\",\n  R: \"#0000ff\",\n  N: \"#cc00ff\",\n  D: \"#ff0000\",\n  C: \"#ffff00\",\n  Q: \"#ff00cc\",\n  E: \"#ff0066\",\n  G: \"#ff9900\",\n  H: \"#0066ff\",\n  I: \"#66ff00\",\n  L: \"#33ff00\",\n  K: \"#6600ff\",\n  M: \"#00ff00\",\n  F: \"#00ff66\",\n  P: \"#ffcc00\",\n  S: \"#ff3300\",\n  T: \"#ff6600\",\n  W: \"#00ccff\",\n  Y: \"#00ffcc\",\n  V: \"#99ff00\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/taylor.js\n ** module id = 156\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#2cd3d3\",\n  R: \"#708f8f\",\n  N: \"#ff0000\",\n  D: \"#e81717\",\n  C: \"#a85757\",\n  Q: \"#3fc0c0\",\n  E: \"#778888\",\n  G: \"#ff0000\",\n  H: \"#708f8f\",\n  I: \"#00ffff\",\n  L: \"#1ce3e3\",\n  K: \"#7e8181\",\n  M: \"#1ee1e1\",\n  F: \"#1ee1e1\",\n  P: \"#f60909\",\n  S: \"#e11e1e\",\n  T: \"#738c8c\",\n  W: \"#738c8c\",\n  Y: \"#9d6262\",\n  V: \"#07f8f8\",\n  B: \"#f30c0c\",\n  X: \"#7c8383\",\n  Z: \"#5ba4a4\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/turn.js\n ** module id = 157\n ** module chunks = 0\n **/","module.exports = {\n  A: \"#ffafaf\",\n  R: \"#6464ff\",\n  N: \"#00ff00\",\n  D: \"#ff0000\",\n  C: \"#ffff00\",\n  Q: \"#00ff00\",\n  E: \"#ff0000\",\n  G: \"#ff00ff\",\n  H: \"#6464ff\",\n  I: \"#ffafaf\",\n  L: \"#ffafaf\",\n  K: \"#6464ff\",\n  M: \"#ffafaf\",\n  F: \"#ffc800\",\n  P: \"#ff00ff\",\n  S: \"#00ff00\",\n  T: \"#00ff00\",\n  W: \"#ffc800\",\n  Y: \"#ffc800\",\n  V: \"#ffafaf\",\n  B: \"#fff\",\n  X: \"#fff\",\n  Z: \"#fff\"\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/msa-colorschemes/src/zappo.js\n ** module id = 158\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 159\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./msa.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./msa.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./msa.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./css/msa.css\n ** module id = 160\n ** module chunks = 0\n **/","if (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/global/window.js\n ** module id = 161\n ** module chunks = 0\n **/","module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/once/once.js\n ** module id = 162\n ** module chunks = 0\n **/","var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/for-each/index.js\n ** module id = 163\n ** module chunks = 0\n **/","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/for-each/~/is-function/index.js\n ** module id = 164\n ** module chunks = 0\n **/","\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/~/trim/index.js\n ** module id = 165\n ** module chunks = 0\n **/","var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/xhr/~/parse-headers/parse-headers.js\n ** module id = 166\n ** module chunks = 0\n **/","var map = {\n\t\"./colorscheme\": 22,\n\t\"./colorscheme.js\": 22,\n\t\"./columns\": 23,\n\t\"./columns.js\": 23,\n\t\"./config\": 24,\n\t\"./config.js\": 24,\n\t\"./package\": 25,\n\t\"./package.js\": 25,\n\t\"./selection/Selection\": 8,\n\t\"./selection/Selection.js\": 8,\n\t\"./selection/SelectionCol\": 9,\n\t\"./selection/SelectionCol.js\": 9,\n\t\"./selection/index\": 42,\n\t\"./selection/index.js\": 42,\n\t\"./user\": 26,\n\t\"./user.js\": 26,\n\t\"./visOrdering\": 27,\n\t\"./visOrdering.js\": 27,\n\t\"./visibility\": 28,\n\t\"./visibility.js\": 28,\n\t\"./zoomer\": 29,\n\t\"./zoomer.js\": 29\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 167;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/g ^\\.\\/.*$\n ** module id = 167\n ** module chunks = 0\n **/","var map = {\n\t\"./bmath\": 12,\n\t\"./bmath.js\": 12,\n\t\"./export\": 13,\n\t\"./export.js\": 13,\n\t\"./file\": 14,\n\t\"./file.js\": 14,\n\t\"./index\": 34,\n\t\"./index.js\": 34,\n\t\"./loader\": 15,\n\t\"./loader.js\": 15,\n\t\"./proxy\": 16,\n\t\"./proxy.js\": 16,\n\t\"./seqgen\": 35,\n\t\"./seqgen.js\": 35,\n\t\"./svg\": 10,\n\t\"./svg.js\": 10,\n\t\"./tree\": 36,\n\t\"./tree.js\": 36\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 168;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/utils ^\\.\\/.*$\n ** module id = 168\n ** module chunks = 0\n **/"],"sourceRoot":""}